(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ub(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G0={exports:{}},Ac={};var kv;function zb(){if(kv)return Ac;kv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Ac.Fragment=e,Ac.jsx=n,Ac.jsxs=n,Ac}var Pv;function Hb(){return Pv||(Pv=1,G0.exports=zb()),G0.exports}var p=Hb(),X0={exports:{}},et={};var Fv;function Vb(){if(Fv)return et;Fv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),w=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function R(F,he,Ae){this.props=F,this.context=he,this.refs=T,this.updater=Ae||_}R.prototype.isReactComponent={},R.prototype.setState=function(F,he){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,he,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=R.prototype;function P(F,he,Ae){this.props=F,this.context=he,this.refs=T,this.updater=Ae||_}var B=P.prototype=new M;B.constructor=P,S(B,R.prototype),B.isPureReactComponent=!0;var Y=Array.isArray;function se(){}var ee={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function Te(F,he,Ae){var Re=Ae.ref;return{$$typeof:t,type:F,key:he,ref:Re!==void 0?Re:null,props:Ae}}function Oe(F,he){return Te(F.type,he,F.props)}function Ke(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Pe(F){var he={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ae){return he[Ae]})}var Ve=/\/+/g;function dt(F,he){return typeof F=="object"&&F!==null&&F.key!=null?Pe(""+F.key):he.toString(36)}function At(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(se,se):(F.status="pending",F.then(function(he){F.status==="pending"&&(F.status="fulfilled",F.value=he)},function(he){F.status==="pending"&&(F.status="rejected",F.reason=he)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function le(F,he,Ae,Re,He){var Je=typeof F;(Je==="undefined"||Je==="boolean")&&(F=null);var mt=!1;if(F===null)mt=!0;else switch(Je){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(F.$$typeof){case t:case e:mt=!0;break;case v:return mt=F._init,le(mt(F._payload),he,Ae,Re,He)}}if(mt)return He=He(F),mt=Re===""?"."+dt(F,0):Re,Y(He)?(Ae="",mt!=null&&(Ae=mt.replace(Ve,"$&/")+"/"),le(He,he,Ae,"",function(Ei){return Ei})):He!=null&&(Ke(He)&&(He=Oe(He,Ae+(He.key==null||F&&F.key===He.key?"":(""+He.key).replace(Ve,"$&/")+"/")+mt)),he.push(He)),1;mt=0;var kn=Re===""?".":Re+":";if(Y(F))for(var Be=0;Be<F.length;Be++)Re=F[Be],Je=kn+dt(Re,Be),mt+=le(Re,he,Ae,Je,He);else if(Be=E(F),typeof Be=="function")for(F=Be.call(F),Be=0;!(Re=F.next()).done;)Re=Re.value,Je=kn+dt(Re,Be++),mt+=le(Re,he,Ae,Je,He);else if(Je==="object"){if(typeof F.then=="function")return le(At(F),he,Ae,Re,He);throw he=String(F),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return mt}function xe(F,he,Ae){if(F==null)return F;var Re=[],He=0;return le(F,Re,"","",function(Je){return he.call(Ae,Je,He++)}),Re}function Ce(F){if(F._status===-1){var he=F._result;he=he(),he.then(function(Ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ae)},function(Ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ae)}),F._status===-1&&(F._status=0,F._result=he)}if(F._status===1)return F._result.default;throw F._result}var ve=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ne={map:xe,forEach:function(F,he,Ae){xe(F,function(){he.apply(this,arguments)},Ae)},count:function(F){var he=0;return xe(F,function(){he++}),he},toArray:function(F){return xe(F,function(he){return he})||[]},only:function(F){if(!Ke(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return et.Activity=m,et.Children=Ne,et.Component=R,et.Fragment=n,et.Profiler=i,et.PureComponent=P,et.StrictMode=r,et.Suspense=d,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,et.__COMPILER_RUNTIME={__proto__:null,c:function(F){return ee.H.useMemoCache(F)}},et.cache=function(F){return function(){return F.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(F,he,Ae){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Re=S({},F.props),He=F.key;if(he!=null)for(Je in he.key!==void 0&&(He=""+he.key),he)!be.call(he,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&he.ref===void 0||(Re[Je]=he[Je]);var Je=arguments.length-2;if(Je===1)Re.children=Ae;else if(1<Je){for(var mt=Array(Je),kn=0;kn<Je;kn++)mt[kn]=arguments[kn+2];Re.children=mt}return Te(F.type,He,Re)},et.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},et.createElement=function(F,he,Ae){var Re,He={},Je=null;if(he!=null)for(Re in he.key!==void 0&&(Je=""+he.key),he)be.call(he,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(He[Re]=he[Re]);var mt=arguments.length-2;if(mt===1)He.children=Ae;else if(1<mt){for(var kn=Array(mt),Be=0;Be<mt;Be++)kn[Be]=arguments[Be+2];He.children=kn}if(F&&F.defaultProps)for(Re in mt=F.defaultProps,mt)He[Re]===void 0&&(He[Re]=mt[Re]);return Te(F,Je,He)},et.createRef=function(){return{current:null}},et.forwardRef=function(F){return{$$typeof:u,render:F}},et.isValidElement=Ke,et.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:Ce}},et.memo=function(F,he){return{$$typeof:h,type:F,compare:he===void 0?null:he}},et.startTransition=function(F){var he=ee.T,Ae={};ee.T=Ae;try{var Re=F(),He=ee.S;He!==null&&He(Ae,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(se,ve)}catch(Je){ve(Je)}finally{he!==null&&Ae.types!==null&&(he.types=Ae.types),ee.T=he}},et.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},et.use=function(F){return ee.H.use(F)},et.useActionState=function(F,he,Ae){return ee.H.useActionState(F,he,Ae)},et.useCallback=function(F,he){return ee.H.useCallback(F,he)},et.useContext=function(F){return ee.H.useContext(F)},et.useDebugValue=function(){},et.useDeferredValue=function(F,he){return ee.H.useDeferredValue(F,he)},et.useEffect=function(F,he){return ee.H.useEffect(F,he)},et.useEffectEvent=function(F){return ee.H.useEffectEvent(F)},et.useId=function(){return ee.H.useId()},et.useImperativeHandle=function(F,he,Ae){return ee.H.useImperativeHandle(F,he,Ae)},et.useInsertionEffect=function(F,he){return ee.H.useInsertionEffect(F,he)},et.useLayoutEffect=function(F,he){return ee.H.useLayoutEffect(F,he)},et.useMemo=function(F,he){return ee.H.useMemo(F,he)},et.useOptimistic=function(F,he){return ee.H.useOptimistic(F,he)},et.useReducer=function(F,he,Ae){return ee.H.useReducer(F,he,Ae)},et.useRef=function(F){return ee.H.useRef(F)},et.useState=function(F){return ee.H.useState(F)},et.useSyncExternalStore=function(F,he,Ae){return ee.H.useSyncExternalStore(F,he,Ae)},et.useTransition=function(){return ee.H.useTransition()},et.version="19.2.0",et}var Uv;function n1(){return Uv||(Uv=1,X0.exports=Vb()),X0.exports}var j=n1(),K0={exports:{}},Sc={},$0={exports:{}},Y0={};var zv;function qb(){return zv||(zv=1,(function(t){function e(le,xe){var Ce=le.length;le.push(xe);e:for(;0<Ce;){var ve=Ce-1>>>1,Ne=le[ve];if(0<i(Ne,xe))le[ve]=xe,le[Ce]=Ne,Ce=ve;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var xe=le[0],Ce=le.pop();if(Ce!==xe){le[0]=Ce;e:for(var ve=0,Ne=le.length,F=Ne>>>1;ve<F;){var he=2*(ve+1)-1,Ae=le[he],Re=he+1,He=le[Re];if(0>i(Ae,Ce))Re<Ne&&0>i(He,Ae)?(le[ve]=He,le[Re]=Ce,ve=Re):(le[ve]=Ae,le[he]=Ce,ve=he);else if(Re<Ne&&0>i(He,Ce))le[ve]=He,le[Re]=Ce,ve=Re;else break e}}return xe}function i(le,xe){var Ce=le.sortIndex-xe.sortIndex;return Ce!==0?Ce:le.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],v=1,m=null,w=3,E=!1,_=!1,S=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(le){for(var xe=n(h);xe!==null;){if(xe.callback===null)r(h);else if(xe.startTime<=le)r(h),xe.sortIndex=xe.expirationTime,e(d,xe);else break;xe=n(h)}}function Y(le){if(S=!1,B(le),!_)if(n(d)!==null)_=!0,se||(se=!0,Pe());else{var xe=n(h);xe!==null&&At(Y,xe.startTime-le)}}var se=!1,ee=-1,be=5,Te=-1;function Oe(){return T?!0:!(t.unstable_now()-Te<be)}function Ke(){if(T=!1,se){var le=t.unstable_now();Te=le;var xe=!0;try{e:{_=!1,S&&(S=!1,M(ee),ee=-1),E=!0;var Ce=w;try{t:{for(B(le),m=n(d);m!==null&&!(m.expirationTime>le&&Oe());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,w=m.priorityLevel;var Ne=ve(m.expirationTime<=le);if(le=t.unstable_now(),typeof Ne=="function"){m.callback=Ne,B(le),xe=!0;break t}m===n(d)&&r(d),B(le)}else r(d);m=n(d)}if(m!==null)xe=!0;else{var F=n(h);F!==null&&At(Y,F.startTime-le),xe=!1}}break e}finally{m=null,w=Ce,E=!1}xe=void 0}}finally{xe?Pe():se=!1}}}var Pe;if(typeof P=="function")Pe=function(){P(Ke)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,dt=Ve.port2;Ve.port1.onmessage=Ke,Pe=function(){dt.postMessage(null)}}else Pe=function(){R(Ke,0)};function At(le,xe){ee=R(function(){le(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(le){switch(w){case 1:case 2:case 3:var xe=3;break;default:xe=w}var Ce=w;w=xe;try{return le()}finally{w=Ce}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(le,xe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ce=w;w=le;try{return xe()}finally{w=Ce}},t.unstable_scheduleCallback=function(le,xe,Ce){var ve=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ve+Ce:ve):Ce=ve,le){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Ce+Ne,le={id:v++,callback:xe,priorityLevel:le,startTime:Ce,expirationTime:Ne,sortIndex:-1},Ce>ve?(le.sortIndex=Ce,e(h,le),n(d)===null&&le===n(h)&&(S?(M(ee),ee=-1):S=!0,At(Y,Ce-ve))):(le.sortIndex=Ne,e(d,le),_||E||(_=!0,se||(se=!0,Pe()))),le},t.unstable_shouldYield=Oe,t.unstable_wrapCallback=function(le){var xe=w;return function(){var Ce=w;w=xe;try{return le.apply(this,arguments)}finally{w=Ce}}}})(Y0)),Y0}var Hv;function Gb(){return Hv||(Hv=1,$0.exports=qb()),$0.exports}var W0={exports:{}},tr={};var Vv;function Xb(){if(Vv)return tr;Vv=1;var t=n1();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,v){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:h,implementation:v}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(d,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,v)},tr.flushSync=function(d){var h=l.T,v=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=v,r.d.f()}},tr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},tr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},tr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var v=h.as,m=u(v,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:w,fetchPriority:E}):v==="script"&&r.d.X(d,{crossOrigin:m,integrity:w,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},tr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,m=u(v,h.crossOrigin);r.d.L(d,v,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(d,h){if(typeof d=="string")if(h){var v=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},tr.requestFormReset=function(d){r.d.r(d)},tr.unstable_batchedUpdates=function(d,h){return d(h)},tr.useFormState=function(d,h,v){return l.H.useFormState(d,h,v)},tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var qv;function Kb(){if(qv)return W0.exports;qv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),W0.exports=Xb(),W0.exports}var Gv;function $b(){if(Gv)return Sc;Gv=1;var t=Gb(),e=n1(),n=Kb();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,f=s;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),a;if(b===f)return d(y),s;b=b.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=b;else{for(var N=!1,I=y.child;I;){if(I===c){N=!0,c=y,f=b;break}if(I===f){N=!0,f=y,c=b;break}I=I.sibling}if(!N){for(I=b.child;I;){if(I===c){N=!0,c=b,f=y;break}if(I===f){N=!0,f=b,c=y;break}I=I.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function v(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=v(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function Pe(a){return a===null||typeof a!="object"?null:(a=Ke&&a[Ke]||a["@@iterator"],typeof a=="function"?a:null)}var Ve=Symbol.for("react.client.reference");function dt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ve?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case Y:return"Suspense";case se:return"SuspenseList";case Te:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case P:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case B:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return s=a.displayName||null,s!==null?s:dt(a.type)||"Memo";case be:s=a._payload,a=a._init;try{return dt(a(s))}catch{}}return null}var At=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ve=[],Ne=-1;function F(a){return{current:a}}function he(a){0>Ne||(a.current=ve[Ne],ve[Ne]=null,Ne--)}function Ae(a,s){Ne++,ve[Ne]=a.current,a.current=s}var Re=F(null),He=F(null),Je=F(null),mt=F(null);function kn(a,s){switch(Ae(Je,s),Ae(He,a),Ae(Re,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?ov(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=ov(s),a=sv(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}he(Re),Ae(Re,a)}function Be(){he(Re),he(He),he(Je)}function Ei(a){a.memoizedState!==null&&Ae(mt,a);var s=Re.current,c=sv(s,a.type);s!==c&&(Ae(He,a),Ae(Re,c))}function Ma(a){He.current===a&&(he(Re),he(He)),mt.current===a&&(he(mt),bc._currentValue=Ce)}var bt,_i;function ja(a){if(bt===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);bt=s&&s[1]||"",_i=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+a+_i}var Qr=!1;function wl(a,s){if(!a||Qr)return"";Qr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ue){var oe=ue}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(ue){oe=ue}a.call(ye.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),N=b[0],I=b[1];if(N&&I){var z=N.split(`
`),ae=I.split(`
`);for(y=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(f===z.length||y===ae.length)for(f=z.length-1,y=ae.length-1;1<=f&&0<=y&&z[f]!==ae[y];)y--;for(;1<=f&&0<=y;f--,y--)if(z[f]!==ae[y]){if(f!==1||y!==1)do if(f--,y--,0>y||z[f]!==ae[y]){var pe=`
`+z[f].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=f&&0<=y);break}}}finally{Qr=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ja(c):""}function Zf(a,s){switch(a.tag){case 26:case 27:case 5:return ja(a.type);case 16:return ja("Lazy");case 13:return a.child!==s&&s!==null?ja("Suspense Fallback"):ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return wl(a.type,!1);case 11:return wl(a.type.render,!1);case 1:return wl(a.type,!0);case 31:return ja("Activity");default:return""}}function Kc(a){try{var s="",c=null;do s+=Zf(a,c),c=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var El=Object.prototype.hasOwnProperty,mo=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,$c=t.unstable_shouldYield,yo=t.unstable_requestPaint,Zn=t.unstable_now,xo=t.unstable_getCurrentPriorityLevel,ha=t.unstable_ImmediatePriority,pa=t.unstable_UserBlockingPriority,Ai=t.unstable_NormalPriority,bo=t.unstable_LowPriority,hs=t.unstable_IdlePriority,ps=t.log,Ba=t.unstable_setDisableYieldValue,ga=null,Pn=null;function Fn(a){if(typeof ps=="function"&&Ba(a),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(ga,a)}catch{}}var Le=Math.clz32?Math.clz32:gs,wo=Math.log,La=Math.LN2;function gs(a){return a>>>=0,a===0?32:31-(wo(a)/La|0)|0}var je=256,Si=262144,Eo=4194304;function Jr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function _o(a,s,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,b=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var I=f&134217727;return I!==0?(f=I&~b,f!==0?y=Jr(f):(N&=I,N!==0?y=Jr(N):c||(c=I&~a,c!==0&&(y=Jr(c))))):(I=f&~b,I!==0?y=Jr(I):N!==0?y=Jr(N):c||(c=f&~a,c!==0&&(y=Jr(c)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:y}function ka(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Qf(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var a=Eo;return Eo<<=1,(Eo&62914560)===0&&(Eo=4194304),a}function va(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Br(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _l(a,s,c,f,y,b){var N=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var I=a.entanglements,z=a.expirationTimes,ae=a.hiddenUpdates;for(c=N&~c;0<c;){var pe=31-Le(c),ye=1<<pe;I[pe]=0,z[pe]=-1;var oe=ae[pe];if(oe!==null)for(ae[pe]=null,pe=0;pe<oe.length;pe++){var ue=oe[pe];ue!==null&&(ue.lane&=-536870913)}c&=~ye}f!==0&&Ao(a,f,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(N&~s))}function Ao(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Le(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function zt(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var f=31-Le(c),y=1<<f;y&s|a[f]&s&&(a[f]|=s),c&=~y}}function ln(a,s){var c=s&-s;return c=(c&42)!==0?1:Al(c),(c&(a.suspendedLanes|s))!==0?0:c}function Al(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ci(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function So(){var a=xe.p;return a!==0?a:(a=window.event,a===void 0?32:Dv(a.type))}function Co(a,s){var c=xe.p;try{return xe.p=a,s()}finally{xe.p=c}}var ma=Math.random().toString(36).slice(2),qt="__reactFiber$"+ma,cn="__reactProps$"+ma,or="__reactContainer$"+ma,Ni="__reactEvents$"+ma,Jf="__reactListeners$"+ma,ya="__reactHandles$"+ma,Sl="__reactResources$"+ma,Cr="__reactMarker$"+ma;function vs(a){delete a[qt],delete a[cn],delete a[Ni],delete a[Jf],delete a[ya]}function xa(a){var s=a[qt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[or]||c[qt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=pv(a);a!==null;){if(c=a[qt])return c;a=pv(a)}return s}a=c,c=a.parentNode}return null}function Lt(a){if(a=a[qt]||a[or]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Nr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Qn(a){var s=a[Sl];return s||(s=a[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(a){a[Cr]=!0}var Pa=new Set,No={};function ea(a,s){ba(a,s),ba(a+"Capture",s)}function ba(a,s){for(No[a]=s,a=0;a<s.length;a++)Pa.add(s[a])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Oo={};function Wc(a){return El.call(Oo,a)?!0:El.call(Cl,a)?!1:Fa.test(a)?Oo[a]=!0:(Cl[a]=!0,!1)}function it(a,s,c){if(Wc(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function To(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Lr(a,s,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+f)}}function Un(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Oi(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zc(a,s,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(N){c=""+N,b.call(this,N)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ms(a){if(!a._valueTracker){var s=Oi(a)?"checked":"value";a._valueTracker=Zc(a,s,""+a[s])}}function Nl(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return a&&(f=Oi(a)?a.checked?"true":"false":a.value),a=f,a!==c?(s.setValue(a),!0):!1}function St(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Do=/[\n"\\]/g;function On(a){return a.replace(Do,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wa(a,s,c,f,y,b,N,I){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Un(s)):a.value!==""+Un(s)&&(a.value=""+Un(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?Io(a,N,Un(s)):c!=null?Io(a,N,Un(c)):f!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+Un(I):a.removeAttribute("name")}function ys(a,s,c,f,y,b,N,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){ms(a);return}c=c!=null?""+Un(c):"",s=s!=null?""+Un(s):c,I||s===a.value||(a.value=s),a.defaultValue=s}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),ms(a)}function Io(a,s,c){s==="number"&&St(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ta(a,s,c,f){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Un(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function Ol(a,s,c){if(s!=null&&(s=""+Un(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Un(c):""}function Ro(a,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(At(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=Un(s),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),ms(a)}function Ua(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gt(a,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,c):typeof c!="number"||c===0||ed.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Tl(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in s)f=s[y],s.hasOwnProperty(y)&&c[y]!==f&&gt(a,y,f)}else for(var b in s)s.hasOwnProperty(b)&&gt(a,b,s[b])}function Dl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(a){return sr.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pr(){}var kr=null;function xs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var za=null,Xt=null;function Or(a){var s=Lt(a);if(s&&(a=s.stateNode)){var c=a[cn]||null;e:switch(a=s.stateNode,s.type){case"input":if(wa(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+On(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==a&&f.form===a.form){var y=f[cn]||null;if(!y)throw Error(r(90));wa(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===a.form&&Nl(f)}break e;case"textarea":Ol(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ta(a,!!c.multiple,s,!1)}}}var Ha=!1;function Ti(a,s,c){if(Ha)return a(s,c);Ha=!0;try{var f=a(s);return f}finally{if(Ha=!1,(za!==null||Xt!==null)&&(Uu(),za&&(s=za,a=Xt,Xt=za=null,Or(s),a)))for(s=0;s<a.length;s++)Or(a[s])}}function Va(a,s){var c=a.stateNode;if(c===null)return null;var f=c[cn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Tn)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Il=!1}var Pr=null,bs=null,Di=null;function Ii(){if(Di)return Di;var a,s=bs,c=s.length,f,y="value"in Pr?Pr.value:Pr.textContent,b=y.length;for(a=0;a<c&&s[a]===y[a];a++);var N=c-a;for(f=1;f<=N&&s[c-f]===y[b-f];f++);return Di=y.slice(a,1<f?1-f:void 0)}function Ri(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Mo(){return!0}function Qc(){return!1}function pn(a){function s(c,f,y,b,N){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(c=a[I],this[I]=c?c(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Mo:Qc,this.isPropagationStopped=Qc,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),s}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=pn(qa),Ea=m({},qa,{view:0,detail:0}),Es=pn(Ea),jo,Rl,Bo,_s=m({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bo&&(Bo&&a.type==="mousemove"?(jo=a.screenX-Bo.screenX,Rl=a.screenY-Bo.screenY):Rl=jo=0,Bo=a),jo)},movementY:function(a){return"movementY"in a?a.movementY:Rl}}),As=pn(_s),Ml=m({},_s,{dataTransfer:0}),Jc=pn(Ml),Ss=m({},Ea,{relatedTarget:0}),Mi=pn(Ss),Cs=m({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=pn(Cs),nd=m({},qa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ji=pn(nd),jl=m({},qa,{data:0}),Ns=pn(jl),Bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Dn[a])?!!s[a]:!1}function Ga(){return Lo}var tu=m({},Ea,{key:function(a){if(a.key){var s=Bl[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ri(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ll[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(a){return a.type==="keypress"?Ri(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ri(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Os=pn(tu),nu=m({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=pn(nu),Ts=m({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Pl=pn(Ts),Xa=m({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fl=pn(Xa),Ul=m({},_s,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=pn(Ul),zl=m({},qa,{newState:0,oldState:0}),ru=pn(zl),rd=[9,13,27,32],ko=Tn&&"CompositionEvent"in window,_a=null;Tn&&"documentMode"in document&&(_a=document.documentMode);var ad=Tn&&"TextEvent"in window&&!_a,Is=Tn&&(!ko||_a&&8<_a&&11>=_a),Rs=" ",au=!1;function Hl(a,s){switch(a){case"keyup":return rd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ka=!1;function ou(a,s){switch(a){case"compositionend":return iu(s);case"keypress":return s.which!==32?null:(au=!0,Rs);case"textInput":return a=s.data,a===Rs&&au?null:a;default:return null}}function id(a,s){if(Ka)return a==="compositionend"||!ko&&Hl(a,s)?(a=Ii(),Di=bs=Pr=null,Ka=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Is&&s.locale!=="ko"?null:s.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ms(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!su[a.type]:s==="textarea"}function Vl(a,s,c,f){za?Xt?Xt.push(f):Xt=[f]:za=f,s=Ku(s,"onChange"),0<s.length&&(c=new ws("onChange","change",null,c,f),a.push({event:c,listeners:s}))}var Bi=null,Po=null;function od(a){ev(a,0)}function js(a){var s=Nr(a);if(Nl(s))return a}function Fo(a,s){if(a==="change")return s}var Fr=!1;if(Tn){var Kt;if(Tn){var Li="oninput"in document;if(!Li){var lr=document.createElement("div");lr.setAttribute("oninput","return;"),Li=typeof lr.oninput=="function"}Kt=Li}else Kt=!1;Fr=Kt&&(!document.documentMode||9<document.documentMode)}function lu(){Bi&&(Bi.detachEvent("onpropertychange",Bs),Po=Bi=null)}function Bs(a){if(a.propertyName==="value"&&js(Po)){var s=[];Vl(s,Po,a,xs(a)),Ti(od,s)}}function cu(a,s,c){a==="focusin"?(lu(),Bi=s,Po=c,Bi.attachEvent("onpropertychange",Bs)):a==="focusout"&&lu()}function $a(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return js(Po)}function ql(a,s){if(a==="click")return js(s)}function ki(a,s){if(a==="input"||a==="change")return js(s)}function Aa(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var er=typeof Object.is=="function"?Object.is:Aa;function g(a,s){if(er(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!El.call(s,y)||!er(a[y],s[y]))return!1}return!0}function x(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function A(a,s){var c=x(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=s&&f>=s)return{node:c,offset:s-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=x(c)}}function C(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?C(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function O(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=St(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=St(a.document)}return s}function D(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var L=Tn&&"documentMode"in document&&11>=document.documentMode,U=null,V=null,q=null,W=!1;function H(a,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;W||U==null||U!==St(f)||(f=U,"selectionStart"in f&&D(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),q&&g(q,f)||(q=f,f=Ku(V,"onSelect"),0<f.length&&(s=new ws("onSelect","select",null,s,c),a.push({event:s,listeners:f}),s.target=U)))}function Q(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var G={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionrun:Q("Transition","TransitionRun"),transitionstart:Q("Transition","TransitionStart"),transitioncancel:Q("Transition","TransitionCancel"),transitionend:Q("Transition","TransitionEnd")},K={},$={};Tn&&($=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);function Z(a){if(K[a])return K[a];if(!G[a])return a;var s=G[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in $)return K[a]=s[c];return a}var te=Z("animationend"),ie=Z("animationiteration"),fe=Z("animationstart"),me=Z("transitionrun"),_e=Z("transitionstart"),Me=Z("transitioncancel"),we=Z("transitionend"),Se=new Map,De="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");De.push("scrollEnd");function Ee(a,s){Se.set(a,s),ea(s,[a])}var ke=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qe=[],Qe=0,tt=0;function In(){for(var a=Qe,s=tt=Qe=0;s<a;){var c=qe[s];qe[s++]=null;var f=qe[s];qe[s++]=null;var y=qe[s];qe[s++]=null;var b=qe[s];if(qe[s++]=null,f!==null&&y!==null){var N=f.pending;N===null?y.next=y:(y.next=N.next,N.next=y),f.pending=y}b!==0&&Uo(c,y,b)}}function Ze(a,s,c,f){qe[Qe++]=a,qe[Qe++]=s,qe[Qe++]=c,qe[Qe++]=f,tt|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function gn(a,s,c,f){return Ze(a,s,c,f),vn(a)}function en(a,s){return Ze(a,null,null,s),vn(a)}function Uo(a,s,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=a.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-Le(c),a=b.hiddenUpdates,f=a[y],f===null?a[y]=[s]:f.push(s),s.lane=c|536870912),b):null}function vn(a){if(50<hc)throw hc=0,g0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var gr={};function Gl(a,s,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(a,s,c,f){return new Gl(a,s,c,f)}function sd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ya(a,s){var c=a.alternate;return c===null?(c=Tr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function L1(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function uu(a,s,c,f,y,b){var N=0;if(f=a,typeof a=="function")sd(a)&&(N=1);else if(typeof a=="string")N=Nb(a,c,Re.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Te:return a=Tr(31,c,s,y),a.elementType=Te,a.lanes=b,a;case S:return zo(c.children,y,b,s);case T:N=8,y|=24;break;case R:return a=Tr(12,c,s,y|2),a.elementType=R,a.lanes=b,a;case Y:return a=Tr(13,c,s,y),a.elementType=Y,a.lanes=b,a;case se:return a=Tr(19,c,s,y),a.elementType=se,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:N=10;break e;case M:N=9;break e;case B:N=11;break e;case ee:N=14;break e;case be:N=16,f=null;break e}N=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return s=Tr(N,c,s,y),s.elementType=a,s.type=f,s.lanes=b,s}function zo(a,s,c,f){return a=Tr(7,a,f,s),a.lanes=c,a}function ld(a,s,c){return a=Tr(6,a,null,s),a.lanes=c,a}function k1(a){var s=Tr(18,null,null,0);return s.stateNode=a,s}function cd(a,s,c){return s=Tr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var P1=new WeakMap;function Ur(a,s){if(typeof a=="object"&&a!==null){var c=P1.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Kc(s)},P1.set(a,s),s)}return{value:a,source:s,stack:Kc(s)}}var Ls=[],ks=0,fu=null,Xl=0,zr=[],Hr=0,Pi=null,Sa=1,Ca="";function Wa(a,s){Ls[ks++]=Xl,Ls[ks++]=fu,fu=a,Xl=s}function F1(a,s,c){zr[Hr++]=Sa,zr[Hr++]=Ca,zr[Hr++]=Pi,Pi=a;var f=Sa;a=Ca;var y=32-Le(f)-1;f&=~(1<<y),c+=1;var b=32-Le(s)+y;if(30<b){var N=y-y%5;b=(f&(1<<N)-1).toString(32),f>>=N,y-=N,Sa=1<<32-Le(s)+y|c<<y|f,Ca=b+a}else Sa=1<<b|c<<y|f,Ca=a}function ud(a){a.return!==null&&(Wa(a,1),F1(a,1,0))}function fd(a){for(;a===fu;)fu=Ls[--ks],Ls[ks]=null,Xl=Ls[--ks],Ls[ks]=null;for(;a===Pi;)Pi=zr[--Hr],zr[Hr]=null,Ca=zr[--Hr],zr[Hr]=null,Sa=zr[--Hr],zr[Hr]=null}function U1(a,s){zr[Hr++]=Sa,zr[Hr++]=Ca,zr[Hr++]=Pi,Sa=s.id,Ca=s.overflow,Pi=a}var zn=null,$t=null,vt=!1,Fi=null,Vr=!1,dd=Error(r(519));function Ui(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Ur(s,a)),dd}function z1(a){var s=a.stateNode,c=a.type,f=a.memoizedProps;switch(s[qt]=a,s[cn]=f,c){case"dialog":ut("cancel",s),ut("close",s);break;case"iframe":case"object":case"embed":ut("load",s);break;case"video":case"audio":for(c=0;c<gc.length;c++)ut(gc[c],s);break;case"source":ut("error",s);break;case"img":case"image":case"link":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"input":ut("invalid",s),ys(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ut("invalid",s);break;case"textarea":ut("invalid",s),Ro(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||av(s.textContent,c)?(f.popover!=null&&(ut("beforetoggle",s),ut("toggle",s)),f.onScroll!=null&&ut("scroll",s),f.onScrollEnd!=null&&ut("scrollend",s),f.onClick!=null&&(s.onclick=pr),s=!0):s=!1,s||Ui(a,!0)}function H1(a){for(zn=a.return;zn;)switch(zn.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:zn=zn.return}}function Ps(a){if(a!==zn)return!1;if(!vt)return H1(a),vt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||D0(a.type,a.memoizedProps)),c=!c),c&&$t&&Ui(a),H1(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=hv(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=hv(a)}else s===27?(s=$t,eo(a.type)?(a=B0,B0=null,$t=a):$t=s):$t=zn?Gr(a.stateNode.nextSibling):null;return!0}function Ho(){$t=zn=null,vt=!1}function hd(){var a=Fi;return a!==null&&(xr===null?xr=a:xr.push.apply(xr,a),Fi=null),a}function Kl(a){Fi===null?Fi=[a]:Fi.push(a)}var pd=F(null),Vo=null,Za=null;function zi(a,s,c){Ae(pd,s._currentValue),s._currentValue=c}function Qa(a){a._currentValue=pd.current,he(pd)}function gd(a,s,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===c)break;a=a.return}}function vd(a,s,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var N=y.child;b=b.firstContext;e:for(;b!==null;){var I=b;b=y;for(var z=0;z<s.length;z++)if(I.context===s[z]){b.lanes|=c,I=b.alternate,I!==null&&(I.lanes|=c),gd(b.return,c,a),f||(N=null);break e}b=I.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=c,b=N.alternate,b!==null&&(b.lanes|=c),gd(N,c,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function Fs(a,s,c,f){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=y.type;er(y.pendingProps.value,N.value)||(a!==null?a.push(I):a=[I])}}else if(y===mt.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(bc):a=[bc])}y=y.return}a!==null&&vd(s,a,c,f),s.flags|=262144}function du(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function qo(a){Vo=a,Za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Hn(a){return V1(Vo,a)}function hu(a,s){return Vo===null&&qo(a),V1(a,s)}function V1(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Za===null){if(a===null)throw Error(r(308));Za=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Za=Za.next=s;return c}var _2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},A2=t.unstable_scheduleCallback,S2=t.unstable_NormalPriority,mn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new _2,data:new Map,refCount:0}}function $l(a){a.refCount--,a.refCount===0&&A2(S2,function(){a.controller.abort()})}var Yl=null,yd=0,Us=0,zs=null;function C2(a,s){if(Yl===null){var c=Yl=[];yd=0,Us=w0(),zs={status:"pending",value:void 0,then:function(f){c.push(f)}}}return yd++,s.then(q1,q1),s}function q1(){if(--yd===0&&Yl!==null){zs!==null&&(zs.status="fulfilled");var a=Yl;Yl=null,Us=0,zs=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function N2(a,s){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var G1=le.S;le.S=function(a,s){Og=Zn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&C2(a,s),G1!==null&&G1(a,s)};var Go=F(null);function xd(){var a=Go.current;return a!==null?a:Ht.pooledCache}function pu(a,s){s===null?Ae(Go,Go.current):Ae(Go,s.pool)}function X1(){var a=xd();return a===null?null:{parent:mn._currentValue,pool:a}}var Hs=Error(r(460)),bd=Error(r(474)),gu=Error(r(542)),vu={then:function(){}};function K1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $1(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(pr,pr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,W1(a),a;default:if(typeof s.status=="string")s.then(pr,pr);else{if(a=Ht,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=f}},function(f){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,W1(a),a}throw Ko=s,Hs}}function Xo(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ko=c,Hs):c}}var Ko=null;function Y1(){if(Ko===null)throw Error(r(459));var a=Ko;return Ko=null,a}function W1(a){if(a===Hs||a===gu)throw Error(r(483))}var Vs=null,Wl=0;function mu(a){var s=Wl;return Wl+=1,Vs===null&&(Vs=[]),$1(Vs,a,s)}function Zl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function yu(a,s){throw s.$$typeof===w?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Z1(a){function s(J,X){if(a){var re=J.deletions;re===null?(J.deletions=[X],J.flags|=16):re.push(X)}}function c(J,X){if(!a)return null;for(;X!==null;)s(J,X),X=X.sibling;return null}function f(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function y(J,X){return J=Ya(J,X),J.index=0,J.sibling=null,J}function b(J,X,re){return J.index=re,a?(re=J.alternate,re!==null?(re=re.index,re<X?(J.flags|=67108866,X):re):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function N(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function I(J,X,re,ge){return X===null||X.tag!==6?(X=ld(re,J.mode,ge),X.return=J,X):(X=y(X,re),X.return=J,X)}function z(J,X,re,ge){var Ge=re.type;return Ge===S?pe(J,X,re.props.children,ge,re.key):X!==null&&(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===be&&Xo(Ge)===X.type)?(X=y(X,re.props),Zl(X,re),X.return=J,X):(X=uu(re.type,re.key,re.props,null,J.mode,ge),Zl(X,re),X.return=J,X)}function ae(J,X,re,ge){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=cd(re,J.mode,ge),X.return=J,X):(X=y(X,re.children||[]),X.return=J,X)}function pe(J,X,re,ge,Ge){return X===null||X.tag!==7?(X=zo(re,J.mode,ge,Ge),X.return=J,X):(X=y(X,re),X.return=J,X)}function ye(J,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=ld(""+X,J.mode,re),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return re=uu(X.type,X.key,X.props,null,J.mode,re),Zl(re,X),re.return=J,re;case _:return X=cd(X,J.mode,re),X.return=J,X;case be:return X=Xo(X),ye(J,X,re)}if(At(X)||Pe(X))return X=zo(X,J.mode,re,null),X.return=J,X;if(typeof X.then=="function")return ye(J,mu(X),re);if(X.$$typeof===P)return ye(J,hu(J,X),re);yu(J,X)}return null}function oe(J,X,re,ge){var Ge=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ge!==null?null:I(J,X,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return re.key===Ge?z(J,X,re,ge):null;case _:return re.key===Ge?ae(J,X,re,ge):null;case be:return re=Xo(re),oe(J,X,re,ge)}if(At(re)||Pe(re))return Ge!==null?null:pe(J,X,re,ge,null);if(typeof re.then=="function")return oe(J,X,mu(re),ge);if(re.$$typeof===P)return oe(J,X,hu(J,re),ge);yu(J,re)}return null}function ue(J,X,re,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return J=J.get(re)||null,I(X,J,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case E:return J=J.get(ge.key===null?re:ge.key)||null,z(X,J,ge,Ge);case _:return J=J.get(ge.key===null?re:ge.key)||null,ae(X,J,ge,Ge);case be:return ge=Xo(ge),ue(J,X,re,ge,Ge)}if(At(ge)||Pe(ge))return J=J.get(re)||null,pe(X,J,ge,Ge,null);if(typeof ge.then=="function")return ue(J,X,re,mu(ge),Ge);if(ge.$$typeof===P)return ue(J,X,re,hu(X,ge),Ge);yu(X,ge)}return null}function Fe(J,X,re,ge){for(var Ge=null,wt=null,ze=X,at=X=0,pt=null;ze!==null&&at<re.length;at++){ze.index>at?(pt=ze,ze=null):pt=ze.sibling;var Et=oe(J,ze,re[at],ge);if(Et===null){ze===null&&(ze=pt);break}a&&ze&&Et.alternate===null&&s(J,ze),X=b(Et,X,at),wt===null?Ge=Et:wt.sibling=Et,wt=Et,ze=pt}if(at===re.length)return c(J,ze),vt&&Wa(J,at),Ge;if(ze===null){for(;at<re.length;at++)ze=ye(J,re[at],ge),ze!==null&&(X=b(ze,X,at),wt===null?Ge=ze:wt.sibling=ze,wt=ze);return vt&&Wa(J,at),Ge}for(ze=f(ze);at<re.length;at++)pt=ue(ze,J,at,re[at],ge),pt!==null&&(a&&pt.alternate!==null&&ze.delete(pt.key===null?at:pt.key),X=b(pt,X,at),wt===null?Ge=pt:wt.sibling=pt,wt=pt);return a&&ze.forEach(function(io){return s(J,io)}),vt&&Wa(J,at),Ge}function We(J,X,re,ge){if(re==null)throw Error(r(151));for(var Ge=null,wt=null,ze=X,at=X=0,pt=null,Et=re.next();ze!==null&&!Et.done;at++,Et=re.next()){ze.index>at?(pt=ze,ze=null):pt=ze.sibling;var io=oe(J,ze,Et.value,ge);if(io===null){ze===null&&(ze=pt);break}a&&ze&&io.alternate===null&&s(J,ze),X=b(io,X,at),wt===null?Ge=io:wt.sibling=io,wt=io,ze=pt}if(Et.done)return c(J,ze),vt&&Wa(J,at),Ge;if(ze===null){for(;!Et.done;at++,Et=re.next())Et=ye(J,Et.value,ge),Et!==null&&(X=b(Et,X,at),wt===null?Ge=Et:wt.sibling=Et,wt=Et);return vt&&Wa(J,at),Ge}for(ze=f(ze);!Et.done;at++,Et=re.next())Et=ue(ze,J,at,Et.value,ge),Et!==null&&(a&&Et.alternate!==null&&ze.delete(Et.key===null?at:Et.key),X=b(Et,X,at),wt===null?Ge=Et:wt.sibling=Et,wt=Et);return a&&ze.forEach(function(Pb){return s(J,Pb)}),vt&&Wa(J,at),Ge}function Ft(J,X,re,ge){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case E:e:{for(var Ge=re.key;X!==null;){if(X.key===Ge){if(Ge=re.type,Ge===S){if(X.tag===7){c(J,X.sibling),ge=y(X,re.props.children),ge.return=J,J=ge;break e}}else if(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===be&&Xo(Ge)===X.type){c(J,X.sibling),ge=y(X,re.props),Zl(ge,re),ge.return=J,J=ge;break e}c(J,X);break}else s(J,X);X=X.sibling}re.type===S?(ge=zo(re.props.children,J.mode,ge,re.key),ge.return=J,J=ge):(ge=uu(re.type,re.key,re.props,null,J.mode,ge),Zl(ge,re),ge.return=J,J=ge)}return N(J);case _:e:{for(Ge=re.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){c(J,X.sibling),ge=y(X,re.children||[]),ge.return=J,J=ge;break e}else{c(J,X);break}else s(J,X);X=X.sibling}ge=cd(re,J.mode,ge),ge.return=J,J=ge}return N(J);case be:return re=Xo(re),Ft(J,X,re,ge)}if(At(re))return Fe(J,X,re,ge);if(Pe(re)){if(Ge=Pe(re),typeof Ge!="function")throw Error(r(150));return re=Ge.call(re),We(J,X,re,ge)}if(typeof re.then=="function")return Ft(J,X,mu(re),ge);if(re.$$typeof===P)return Ft(J,X,hu(J,re),ge);yu(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(c(J,X.sibling),ge=y(X,re),ge.return=J,J=ge):(c(J,X),ge=ld(re,J.mode,ge),ge.return=J,J=ge),N(J)):c(J,X)}return function(J,X,re,ge){try{Wl=0;var Ge=Ft(J,X,re,ge);return Vs=null,Ge}catch(ze){if(ze===Hs||ze===gu)throw ze;var wt=Tr(29,ze,null,J.mode);return wt.lanes=ge,wt.return=J,wt}finally{}}}var $o=Z1(!0),Q1=Z1(!1),Hi=!1;function wd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qi(a,s,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ct&2)!==0){var y=f.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),f.pending=s,s=vn(a),Uo(a,null,c),s}return Ze(a,f,s,c),vn(a)}function Ql(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,zt(a,c)}}function _d(a,s){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=N:b=b.next=N,c=c.next}while(c!==null);b===null?y=b=s:b=b.next=s}else y=b=s;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Ad=!1;function Jl(){if(Ad){var a=zs;if(a!==null)throw a}}function ec(a,s,c,f){Ad=!1;var y=a.updateQueue;Hi=!1;var b=y.firstBaseUpdate,N=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var z=I,ae=z.next;z.next=null,N===null?b=ae:N.next=ae,N=z;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,I=pe.lastBaseUpdate,I!==N&&(I===null?pe.firstBaseUpdate=ae:I.next=ae,pe.lastBaseUpdate=z))}if(b!==null){var ye=y.baseState;N=0,pe=ae=z=null,I=b;do{var oe=I.lane&-536870913,ue=oe!==I.lane;if(ue?(ht&oe)===oe:(f&oe)===oe){oe!==0&&oe===Us&&(Ad=!0),pe!==null&&(pe=pe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Fe=a,We=I;oe=s;var Ft=c;switch(We.tag){case 1:if(Fe=We.payload,typeof Fe=="function"){ye=Fe.call(Ft,ye,oe);break e}ye=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=We.payload,oe=typeof Fe=="function"?Fe.call(Ft,ye,oe):Fe,oe==null)break e;ye=m({},ye,oe);break e;case 2:Hi=!0}}oe=I.callback,oe!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},pe===null?(ae=pe=ue,z=ye):pe=pe.next=ue,N|=oe;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;ue=I,I=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);pe===null&&(z=ye),y.baseState=z,y.firstBaseUpdate=ae,y.lastBaseUpdate=pe,b===null&&(y.shared.lanes=0),Yi|=N,a.lanes=N,a.memoizedState=ye}}function J1(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function ep(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)J1(c[a],s)}var qs=F(null),xu=F(0);function tp(a,s){a=si,Ae(xu,a),Ae(qs,s),si=a|s.baseLanes}function Sd(){Ae(xu,si),Ae(qs,qs.current)}function Cd(){si=xu.current,he(qs),he(xu)}var Dr=F(null),qr=null;function Gi(a){var s=a.alternate;Ae(fn,fn.current&1),Ae(Dr,a),qr===null&&(s===null||qs.current!==null||s.memoizedState!==null)&&(qr=a)}function Nd(a){Ae(fn,fn.current),Ae(Dr,a),qr===null&&(qr=a)}function np(a){a.tag===22?(Ae(fn,fn.current),Ae(Dr,a),qr===null&&(qr=a)):Xi()}function Xi(){Ae(fn,fn.current),Ae(Dr,Dr.current)}function Ir(a){he(Dr),qr===a&&(qr=null),he(fn)}var fn=F(0);function bu(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||M0(c)||j0(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ja=0,nt=null,kt=null,yn=null,wu=!1,Gs=!1,Yo=!1,Eu=0,tc=0,Xs=null,O2=0;function an(){throw Error(r(321))}function Od(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!er(a[c],s[c]))return!1;return!0}function Td(a,s,c,f,y,b){return Ja=b,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,le.H=a===null||a.memoizedState===null?Fp:qd,Yo=!1,b=c(f,y),Yo=!1,Gs&&(b=ap(s,c,f,y)),rp(a),b}function rp(a){le.H=ac;var s=kt!==null&&kt.next!==null;if(Ja=0,yn=kt=nt=null,wu=!1,tc=0,Xs=null,s)throw Error(r(300));a===null||xn||(a=a.dependencies,a!==null&&du(a)&&(xn=!0))}function ap(a,s,c,f){nt=a;var y=0;do{if(Gs&&(Xs=null),tc=0,Gs=!1,25<=y)throw Error(r(301));if(y+=1,yn=kt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}le.H=Up,b=s(c,f)}while(Gs);return b}function T2(){var a=le.H,s=a.useState()[0];return s=typeof s.then=="function"?nc(s):s,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(nt.flags|=1024),s}function Dd(){var a=Eu!==0;return Eu=0,a}function Id(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Rd(a){if(wu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}wu=!1}Ja=0,yn=kt=nt=null,Gs=!1,tc=Eu=0,Xs=null}function cr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?nt.memoizedState=yn=a:yn=yn.next=a,yn}function dn(){if(kt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var s=yn===null?nt.memoizedState:yn.next;if(s!==null)yn=s,kt=a;else{if(a===null)throw nt.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},yn===null?nt.memoizedState=yn=a:yn=yn.next=a}return yn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(a){var s=tc;return tc+=1,Xs===null&&(Xs=[]),a=$1(Xs,a,s),s=nt,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,le.H=s===null||s.memoizedState===null?Fp:qd),a}function Au(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nc(a);if(a.$$typeof===P)return Hn(a)}throw Error(r(438,String(a)))}function Md(a){var s=null,c=nt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=nt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=_u(),nt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),f=0;f<a;f++)c[f]=Oe;return s.index++,c}function ei(a,s){return typeof s=="function"?s(a):s}function Su(a){var s=dn();return jd(s,kt,a)}function jd(a,s,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=a.baseQueue,b=f.pending;if(b!==null){if(y!==null){var N=y.next;y.next=b.next,b.next=N}s.baseQueue=y=b,f.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var I=N=null,z=null,ae=s,pe=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(ht&ye)===ye:(Ja&ye)===ye){var oe=ae.revertLane;if(oe===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===Us&&(pe=!0);else if((Ja&oe)===oe){ae=ae.next,oe===Us&&(pe=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},z===null?(I=z=ye,N=b):z=z.next=ye,nt.lanes|=oe,Yi|=oe;ye=ae.action,Yo&&c(b,ye),b=ae.hasEagerState?ae.eagerState:c(b,ye)}else oe={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},z===null?(I=z=oe,N=b):z=z.next=oe,nt.lanes|=ye,Yi|=ye;ae=ae.next}while(ae!==null&&ae!==s);if(z===null?N=b:z.next=I,!er(b,a.memoizedState)&&(xn=!0,pe&&(c=zs,c!==null)))throw c;a.memoizedState=b,a.baseState=N,a.baseQueue=z,f.lastRenderedState=b}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Bd(a){var s=dn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,b=s.memoizedState;if(y!==null){c.pending=null;var N=y=y.next;do b=a(b,N.action),N=N.next;while(N!==y);er(b,s.memoizedState)||(xn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,f]}function ip(a,s,c){var f=nt,y=dn(),b=vt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!er((kt||y).memoizedState,c);if(N&&(y.memoizedState=c,xn=!0),y=y.queue,Pd(lp.bind(null,f,y,a),[a]),y.getSnapshot!==s||N||yn!==null&&yn.memoizedState.tag&1){if(f.flags|=2048,Ks(9,{destroy:void 0},sp.bind(null,f,y,c,s),null),Ht===null)throw Error(r(349));b||(Ja&127)!==0||op(f,s,c)}return c}function op(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=nt.updateQueue,s===null?(s=_u(),nt.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function sp(a,s,c,f){s.value=c,s.getSnapshot=f,cp(s)&&up(a)}function lp(a,s,c){return c(function(){cp(s)&&up(a)})}function cp(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!er(a,c)}catch{return!0}}function up(a){var s=en(a,2);s!==null&&br(s,a,2)}function Ld(a){var s=cr();if(typeof a=="function"){var c=a;if(a=c(),Yo){Fn(!0);try{c()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},s}function fp(a,s,c,f){return a.baseState=c,jd(a,kt,typeof f=="function"?f:ei)}function D2(a,s,c,f,y){if(Ou(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};le.T!==null?c(!0):b.isTransition=!1,f(b),c=s.pending,c===null?(b.next=s.pending=b,dp(s,b)):(b.next=c.next,s.pending=c.next=b)}}function dp(a,s){var c=s.action,f=s.payload,y=a.state;if(s.isTransition){var b=le.T,N={};le.T=N;try{var I=c(y,f),z=le.S;z!==null&&z(N,I),hp(a,s,I)}catch(ae){kd(a,s,ae)}finally{b!==null&&N.types!==null&&(b.types=N.types),le.T=b}}else try{b=c(y,f),hp(a,s,b)}catch(ae){kd(a,s,ae)}}function hp(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){pp(a,s,f)},function(f){return kd(a,s,f)}):pp(a,s,c)}function pp(a,s,c){s.status="fulfilled",s.value=c,gp(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,dp(a,c)))}function kd(a,s,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,gp(s),s=s.next;while(s!==f)}a.action=null}function gp(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function vp(a,s){return s}function mp(a,s){if(vt){var c=Ht.formState;if(c!==null){e:{var f=nt;if(vt){if($t){t:{for(var y=$t,b=Vr;y.nodeType!==8;){if(!b){y=null;break t}if(y=Gr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){$t=Gr(y.nextSibling),f=y.data==="F!";break e}}Ui(f)}f=!1}f&&(s=c[0])}}return c=cr(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:s},c.queue=f,c=Lp.bind(null,nt,f),f.dispatch=c,f=Ld(!1),b=Vd.bind(null,nt,!1,f.queue),f=cr(),y={state:s,dispatch:null,action:a,pending:null},f.queue=y,c=D2.bind(null,nt,y,b,c),y.dispatch=c,f.memoizedState=a,[s,c,!1]}function yp(a){var s=dn();return xp(s,kt,a)}function xp(a,s,c){if(s=jd(a,s,vp)[0],a=Su(ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=nc(s)}catch(N){throw N===Hs?gu:N}else f=s;s=dn();var y=s.queue,b=y.dispatch;return c!==s.memoizedState&&(nt.flags|=2048,Ks(9,{destroy:void 0},I2.bind(null,y,c),null)),[f,b,a]}function I2(a,s){a.action=s}function bp(a){var s=dn(),c=kt;if(c!==null)return xp(s,c,a);dn(),s=s.memoizedState,c=dn();var f=c.queue.dispatch;return c.memoizedState=a,[s,f,!1]}function Ks(a,s,c,f){return a={tag:a,create:c,deps:f,inst:s,next:null},s=nt.updateQueue,s===null&&(s=_u(),nt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,s.lastEffect=a),a}function wp(){return dn().memoizedState}function Cu(a,s,c,f){var y=cr();nt.flags|=a,y.memoizedState=Ks(1|s,{destroy:void 0},c,f===void 0?null:f)}function Nu(a,s,c,f){var y=dn();f=f===void 0?null:f;var b=y.memoizedState.inst;kt!==null&&f!==null&&Od(f,kt.memoizedState.deps)?y.memoizedState=Ks(s,b,c,f):(nt.flags|=a,y.memoizedState=Ks(1|s,b,c,f))}function Ep(a,s){Cu(8390656,8,a,s)}function Pd(a,s){Nu(2048,8,a,s)}function R2(a){nt.flags|=4;var s=nt.updateQueue;if(s===null)s=_u(),nt.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function _p(a){var s=dn().memoizedState;return R2({ref:s,nextImpl:a}),function(){if((Ct&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ap(a,s){return Nu(4,2,a,s)}function Sp(a,s){return Nu(4,4,a,s)}function Cp(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Np(a,s,c){c=c!=null?c.concat([a]):null,Nu(4,4,Cp.bind(null,s,a),c)}function Fd(){}function Op(a,s){var c=dn();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&Od(s,f[1])?f[0]:(c.memoizedState=[a,s],a)}function Tp(a,s){var c=dn();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&Od(s,f[1]))return f[0];if(f=a(),Yo){Fn(!0);try{a()}finally{Fn(!1)}}return c.memoizedState=[f,s],f}function Ud(a,s,c){return c===void 0||(Ja&1073741824)!==0&&(ht&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=Dg(),nt.lanes|=a,Yi|=a,c)}function Dp(a,s,c,f){return er(c,s)?c:qs.current!==null?(a=Ud(a,c,f),er(a,s)||(xn=!0),a):(Ja&42)===0||(Ja&1073741824)!==0&&(ht&261930)===0?(xn=!0,a.memoizedState=c):(a=Dg(),nt.lanes|=a,Yi|=a,s)}function Ip(a,s,c,f,y){var b=xe.p;xe.p=b!==0&&8>b?b:8;var N=le.T,I={};le.T=I,Vd(a,!1,s,c);try{var z=y(),ae=le.S;if(ae!==null&&ae(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var pe=N2(z,f);rc(a,s,pe,jr(a))}else rc(a,s,f,jr(a))}catch(ye){rc(a,s,{then:function(){},status:"rejected",reason:ye},jr())}finally{xe.p=b,N!==null&&I.types!==null&&(N.types=I.types),le.T=N}}function M2(){}function zd(a,s,c,f){if(a.tag!==5)throw Error(r(476));var y=Rp(a).queue;Ip(a,y,s,Ce,c===null?M2:function(){return Mp(a),c(f)})}function Rp(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:Ce},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Mp(a){var s=Rp(a);s.next===null&&(s=a.alternate.memoizedState),rc(a,s.next.queue,{},jr())}function Hd(){return Hn(bc)}function jp(){return dn().memoizedState}function Bp(){return dn().memoizedState}function j2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=jr();a=Vi(c);var f=qi(s,a,c);f!==null&&(br(f,s,c),Ql(f,s,c)),s={cache:md()},a.payload=s;return}s=s.return}}function B2(a,s,c){var f=jr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ou(a)?kp(s,c):(c=gn(a,s,c,f),c!==null&&(br(c,a,f),Pp(c,s,f)))}function Lp(a,s,c){var f=jr();rc(a,s,c,f)}function rc(a,s,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ou(a))kp(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var N=s.lastRenderedState,I=b(N,c);if(y.hasEagerState=!0,y.eagerState=I,er(I,N))return Ze(a,s,y,0),Ht===null&&In(),!1}catch{}finally{}if(c=gn(a,s,y,f),c!==null)return br(c,a,f),Pp(c,s,f),!0}return!1}function Vd(a,s,c,f){if(f={lane:2,revertLane:w0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ou(a)){if(s)throw Error(r(479))}else s=gn(a,c,f,2),s!==null&&br(s,a,2)}function Ou(a){var s=a.alternate;return a===nt||s!==null&&s===nt}function kp(a,s){Gs=wu=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Pp(a,s,c){if((c&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,zt(a,c)}}var ac={readContext:Hn,use:Au,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};ac.useEffectEvent=an;var Fp={readContext:Hn,use:Au,useCallback:function(a,s){return cr().memoizedState=[a,s===void 0?null:s],a},useContext:Hn,useEffect:Ep,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Cu(4194308,4,Cp.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Cu(4194308,4,a,s)},useInsertionEffect:function(a,s){Cu(4,2,a,s)},useMemo:function(a,s){var c=cr();s=s===void 0?null:s;var f=a();if(Yo){Fn(!0);try{a()}finally{Fn(!1)}}return c.memoizedState=[f,s],f},useReducer:function(a,s,c){var f=cr();if(c!==void 0){var y=c(s);if(Yo){Fn(!0);try{c(s)}finally{Fn(!1)}}}else y=s;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=B2.bind(null,nt,a),[f.memoizedState,a]},useRef:function(a){var s=cr();return a={current:a},s.memoizedState=a},useState:function(a){a=Ld(a);var s=a.queue,c=Lp.bind(null,nt,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Fd,useDeferredValue:function(a,s){var c=cr();return Ud(c,a,s)},useTransition:function(){var a=Ld(!1);return a=Ip.bind(null,nt,a.queue,!0,!1),cr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var f=nt,y=cr();if(vt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ht===null)throw Error(r(349));(ht&127)!==0||op(f,s,c)}y.memoizedState=c;var b={value:c,getSnapshot:s};return y.queue=b,Ep(lp.bind(null,f,b,a),[a]),f.flags|=2048,Ks(9,{destroy:void 0},sp.bind(null,f,b,c,s),null),c},useId:function(){var a=cr(),s=Ht.identifierPrefix;if(vt){var c=Ca,f=Sa;c=(f&~(1<<32-Le(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Eu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=O2++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Hd,useFormState:mp,useActionState:mp,useOptimistic:function(a){var s=cr();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Vd.bind(null,nt,!0,c),c.dispatch=s,[a,s]},useMemoCache:Md,useCacheRefresh:function(){return cr().memoizedState=j2.bind(null,nt)},useEffectEvent:function(a){var s=cr(),c={impl:a};return s.memoizedState=c,function(){if((Ct&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},qd={readContext:Hn,use:Au,useCallback:Op,useContext:Hn,useEffect:Pd,useImperativeHandle:Np,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Tp,useReducer:Su,useRef:wp,useState:function(){return Su(ei)},useDebugValue:Fd,useDeferredValue:function(a,s){var c=dn();return Dp(c,kt.memoizedState,a,s)},useTransition:function(){var a=Su(ei)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:ip,useId:jp,useHostTransitionStatus:Hd,useFormState:yp,useActionState:yp,useOptimistic:function(a,s){var c=dn();return fp(c,kt,a,s)},useMemoCache:Md,useCacheRefresh:Bp};qd.useEffectEvent=_p;var Up={readContext:Hn,use:Au,useCallback:Op,useContext:Hn,useEffect:Pd,useImperativeHandle:Np,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Tp,useReducer:Bd,useRef:wp,useState:function(){return Bd(ei)},useDebugValue:Fd,useDeferredValue:function(a,s){var c=dn();return kt===null?Ud(c,a,s):Dp(c,kt.memoizedState,a,s)},useTransition:function(){var a=Bd(ei)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:ip,useId:jp,useHostTransitionStatus:Hd,useFormState:bp,useActionState:bp,useOptimistic:function(a,s){var c=dn();return kt!==null?fp(c,kt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Md,useCacheRefresh:Bp};Up.useEffectEvent=_p;function Gd(a,s,c,f){s=a.memoizedState,c=c(f,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Xd={enqueueSetState:function(a,s,c){a=a._reactInternals;var f=jr(),y=Vi(f);y.payload=s,c!=null&&(y.callback=c),s=qi(a,y,f),s!==null&&(br(s,a,f),Ql(s,a,f))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var f=jr(),y=Vi(f);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=qi(a,y,f),s!==null&&(br(s,a,f),Ql(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=jr(),f=Vi(c);f.tag=2,s!=null&&(f.callback=s),s=qi(a,f,c),s!==null&&(br(s,a,c),Ql(s,a,c))}};function zp(a,s,c,f,y,b,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,N):s.prototype&&s.prototype.isPureReactComponent?!g(c,f)||!g(y,b):!0}function Hp(a,s,c,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==a&&Xd.enqueueReplaceState(s,s.state,null)}function Wo(a,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function Vp(a){ke(a)}function qp(a){console.error(a)}function Gp(a){ke(a)}function Tu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Xp(a,s,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Kd(a,s,c){return c=Vi(c),c.tag=3,c.payload={element:null},c.callback=function(){Tu(a,s)},c}function Kp(a){return a=Vi(a),a.tag=3,a}function $p(a,s,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;a.payload=function(){return y(b)},a.callback=function(){Xp(s,c,f)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Xp(s,c,f),typeof y!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function L2(a,s,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Fs(s,c,y,!0),c=Dr.current,c!==null){switch(c.tag){case 31:case 13:return qr===null?zu():c.alternate===null&&on===0&&(on=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===vu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),y0(a,f,y)),!1;case 22:return c.flags|=65536,f===vu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),y0(a,f,y)),!1}throw Error(r(435,c.tag))}return y0(a,f,y),zu(),!1}if(vt)return s=Dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,f!==dd&&(a=Error(r(422),{cause:f}),Kl(Ur(a,c)))):(f!==dd&&(s=Error(r(423),{cause:f}),Kl(Ur(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=Ur(f,c),y=Kd(a.stateNode,f,y),_d(a,y),on!==4&&(on=2)),!1;var b=Error(r(520),{cause:f});if(b=Ur(b,c),dc===null?dc=[b]:dc.push(b),on!==4&&(on=2),s===null)return!0;f=Ur(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Kd(c.stateNode,f,a),_d(c,a),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wi===null||!Wi.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Kp(y),$p(y,a,c,f),_d(c,y),!1}c=c.return}while(c!==null);return!1}var $d=Error(r(461)),xn=!1;function Vn(a,s,c,f){s.child=a===null?Q1(s,null,c,f):$o(s,a.child,c,f)}function Yp(a,s,c,f,y){c=c.render;var b=s.ref;if("ref"in f){var N={};for(var I in f)I!=="ref"&&(N[I]=f[I])}else N=f;return qo(s),f=Td(a,s,c,N,b,y),I=Dd(),a!==null&&!xn?(Id(a,s,y),ti(a,s,y)):(vt&&I&&ud(s),s.flags|=1,Vn(a,s,f,y),s.child)}function Wp(a,s,c,f,y){if(a===null){var b=c.type;return typeof b=="function"&&!sd(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,Zp(a,s,b,f,y)):(a=uu(c.type,null,f,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!n0(a,y)){var N=b.memoizedProps;if(c=c.compare,c=c!==null?c:g,c(N,f)&&a.ref===s.ref)return ti(a,s,y)}return s.flags|=1,a=Ya(b,f),a.ref=s.ref,a.return=s,s.child=a}function Zp(a,s,c,f,y){if(a!==null){var b=a.memoizedProps;if(g(b,f)&&a.ref===s.ref)if(xn=!1,s.pendingProps=f=b,n0(a,y))(a.flags&131072)!==0&&(xn=!0);else return s.lanes=a.lanes,ti(a,s,y)}return Yd(a,s,c,f,y)}function Qp(a,s,c,f){var y=f.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(f=s.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,s.child=null;return Jp(a,s,b,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&pu(s,b!==null?b.cachePool:null),b!==null?tp(s,b):Sd(),np(s);else return f=s.lanes=536870912,Jp(a,s,b!==null?b.baseLanes|c:c,c,f)}else b!==null?(pu(s,b.cachePool),tp(s,b),Xi(),s.memoizedState=null):(a!==null&&pu(s,null),Sd(),Xi());return Vn(a,s,y,c),s.child}function ic(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Jp(a,s,c,f,y){var b=xd();return b=b===null?null:{parent:mn._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},a!==null&&pu(s,null),Sd(),np(s),a!==null&&Fs(a,s,f,!0),s.childLanes=y,null}function Du(a,s){return s=Ru({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function eg(a,s,c){return $o(s,a.child,null,c),a=Du(s,s.pendingProps),a.flags|=2,Ir(s),s.memoizedState=null,a}function k2(a,s,c){var f=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(vt){if(f.mode==="hidden")return a=Du(s,f),s.lanes=536870912,ic(null,a);if(Nd(s),(a=$t)?(a=dv(a,Vr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Pi!==null?{id:Sa,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=k1(a),c.return=s,s.child=c,zn=s,$t=null)):a=null,a===null)throw Ui(s);return s.lanes=536870912,null}return Du(s,f)}var b=a.memoizedState;if(b!==null){var N=b.dehydrated;if(Nd(s),y)if(s.flags&256)s.flags&=-257,s=eg(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(xn||Fs(a,s,c,!1),y=(c&a.childLanes)!==0,xn||y){if(f=Ht,f!==null&&(N=ln(f,c),N!==0&&N!==b.retryLane))throw b.retryLane=N,en(a,N),br(f,a,N),$d;zu(),s=eg(a,s,c)}else a=b.treeContext,$t=Gr(N.nextSibling),zn=s,vt=!0,Fi=null,Vr=!1,a!==null&&U1(s,a),s=Du(s,f),s.flags|=4096;return s}return a=Ya(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Iu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Yd(a,s,c,f,y){return qo(s),c=Td(a,s,c,f,void 0,y),f=Dd(),a!==null&&!xn?(Id(a,s,y),ti(a,s,y)):(vt&&f&&ud(s),s.flags|=1,Vn(a,s,c,y),s.child)}function tg(a,s,c,f,y,b){return qo(s),s.updateQueue=null,c=ap(s,f,c,y),rp(a),f=Dd(),a!==null&&!xn?(Id(a,s,b),ti(a,s,b)):(vt&&f&&ud(s),s.flags|=1,Vn(a,s,c,b),s.child)}function ng(a,s,c,f,y){if(qo(s),s.stateNode===null){var b=gr,N=c.contextType;typeof N=="object"&&N!==null&&(b=Hn(N)),b=new c(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xd,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},wd(s),N=c.contextType,b.context=typeof N=="object"&&N!==null?Hn(N):gr,b.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Gd(s,c,N,f),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Xd.enqueueReplaceState(b,b.state,null),ec(s,f,b,y),Jl(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){b=s.stateNode;var I=s.memoizedProps,z=Wo(c,I);b.props=z;var ae=b.context,pe=c.contextType;N=gr,typeof pe=="object"&&pe!==null&&(N=Hn(pe));var ye=c.getDerivedStateFromProps;pe=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||ae!==N)&&Hp(s,b,f,N),Hi=!1;var oe=s.memoizedState;b.state=oe,ec(s,f,b,y),Jl(),ae=s.memoizedState,I||oe!==ae||Hi?(typeof ye=="function"&&(Gd(s,c,ye,f),ae=s.memoizedState),(z=Hi||zp(s,c,z,f,oe,ae,N))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ae),b.props=f,b.state=ae,b.context=N,f=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,Ed(a,s),N=s.memoizedProps,pe=Wo(c,N),b.props=pe,ye=s.pendingProps,oe=b.context,ae=c.contextType,z=gr,typeof ae=="object"&&ae!==null&&(z=Hn(ae)),I=c.getDerivedStateFromProps,(ae=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==ye||oe!==z)&&Hp(s,b,f,z),Hi=!1,oe=s.memoizedState,b.state=oe,ec(s,f,b,y),Jl();var ue=s.memoizedState;N!==ye||oe!==ue||Hi||a!==null&&a.dependencies!==null&&du(a.dependencies)?(typeof I=="function"&&(Gd(s,c,I,f),ue=s.memoizedState),(pe=Hi||zp(s,c,pe,f,oe,ue,z)||a!==null&&a.dependencies!==null&&du(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ue,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ue,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ue),b.props=f,b.state=ue,b.context=z,f=pe):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),f=!1)}return b=f,Iu(a,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&f?(s.child=$o(s,a.child,null,y),s.child=$o(s,null,c,y)):Vn(a,s,c,y),s.memoizedState=b.state,a=s.child):a=ti(a,s,y),a}function rg(a,s,c,f){return Ho(),s.flags|=256,Vn(a,s,c,f),s.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(a){return{baseLanes:a,cachePool:X1()}}function Qd(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Mr),a}function ag(a,s,c){var f=s.pendingProps,y=!1,b=(s.flags&128)!==0,N;if((N=b)||(N=a!==null&&a.memoizedState===null?!1:(fn.current&2)!==0),N&&(y=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(vt){if(y?Gi(s):Xi(),(a=$t)?(a=dv(a,Vr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Pi!==null?{id:Sa,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=k1(a),c.return=s,s.child=c,zn=s,$t=null)):a=null,a===null)throw Ui(s);return j0(a)?s.lanes=32:s.lanes=536870912,null}var I=f.children;return f=f.fallback,y?(Xi(),y=s.mode,I=Ru({mode:"hidden",children:I},y),f=zo(f,y,c,null),I.return=s,f.return=s,I.sibling=f,s.child=I,f=s.child,f.memoizedState=Zd(c),f.childLanes=Qd(a,N,c),s.memoizedState=Wd,ic(null,f)):(Gi(s),Jd(s,I))}var z=a.memoizedState;if(z!==null&&(I=z.dehydrated,I!==null)){if(b)s.flags&256?(Gi(s),s.flags&=-257,s=e0(a,s,c)):s.memoizedState!==null?(Xi(),s.child=a.child,s.flags|=128,s=null):(Xi(),I=f.fallback,y=s.mode,f=Ru({mode:"visible",children:f.children},y),I=zo(I,y,c,null),I.flags|=2,f.return=s,I.return=s,f.sibling=I,s.child=f,$o(s,a.child,null,c),f=s.child,f.memoizedState=Zd(c),f.childLanes=Qd(a,N,c),s.memoizedState=Wd,s=ic(null,f));else if(Gi(s),j0(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var ae=N.dgst;N=ae,f=Error(r(419)),f.stack="",f.digest=N,Kl({value:f,source:null,stack:null}),s=e0(a,s,c)}else if(xn||Fs(a,s,c,!1),N=(c&a.childLanes)!==0,xn||N){if(N=Ht,N!==null&&(f=ln(N,c),f!==0&&f!==z.retryLane))throw z.retryLane=f,en(a,f),br(N,a,f),$d;M0(I)||zu(),s=e0(a,s,c)}else M0(I)?(s.flags|=192,s.child=a.child,s=null):(a=z.treeContext,$t=Gr(I.nextSibling),zn=s,vt=!0,Fi=null,Vr=!1,a!==null&&U1(s,a),s=Jd(s,f.children),s.flags|=4096);return s}return y?(Xi(),I=f.fallback,y=s.mode,z=a.child,ae=z.sibling,f=Ya(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,ae!==null?I=Ya(ae,I):(I=zo(I,y,c,null),I.flags|=2),I.return=s,f.return=s,f.sibling=I,s.child=f,ic(null,f),f=s.child,I=a.child.memoizedState,I===null?I=Zd(c):(y=I.cachePool,y!==null?(z=mn._currentValue,y=y.parent!==z?{parent:z,pool:z}:y):y=X1(),I={baseLanes:I.baseLanes|c,cachePool:y}),f.memoizedState=I,f.childLanes=Qd(a,N,c),s.memoizedState=Wd,ic(a.child,f)):(Gi(s),c=a.child,a=c.sibling,c=Ya(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=c,s.memoizedState=null,c)}function Jd(a,s){return s=Ru({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Ru(a,s){return a=Tr(22,a,null,s),a.lanes=0,a}function e0(a,s,c){return $o(s,a.child,null,c),a=Jd(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function ig(a,s,c){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),gd(a.return,s,c)}function t0(a,s,c,f,y,b){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:b}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=c,N.tailMode=y,N.treeForkCount=b)}function og(a,s,c){var f=s.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var N=fn.current,I=(N&2)!==0;if(I?(N=N&1|2,s.flags|=128):N&=1,Ae(fn,N),Vn(a,s,f,c),f=vt?Xl:0,!I&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ig(a,c,s);else if(a.tag===19)ig(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&bu(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),t0(s,!1,y,c,b,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&bu(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}t0(s,!0,c,null,b,f);break;case"together":t0(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function ti(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Yi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Fs(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Ya(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Ya(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function n0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&du(a)))}function P2(a,s,c){switch(s.tag){case 3:kn(s,s.stateNode.containerInfo),zi(s,mn,a.memoizedState.cache),Ho();break;case 27:case 5:Ei(s);break;case 4:kn(s,s.stateNode.containerInfo);break;case 10:zi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nd(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Gi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?ag(a,s,c):(Gi(s),a=ti(a,s,c),a!==null?a.sibling:null);Gi(s);break;case 19:var y=(a.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Fs(a,s,c,!1),f=(c&s.childLanes)!==0),y){if(f)return og(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ae(fn,fn.current),f)break;return null;case 22:return s.lanes=0,Qp(a,s,c,s.pendingProps);case 24:zi(s,mn,a.memoizedState.cache)}return ti(a,s,c)}function sg(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)xn=!0;else{if(!n0(a,c)&&(s.flags&128)===0)return xn=!1,P2(a,s,c);xn=(a.flags&131072)!==0}else xn=!1,vt&&(s.flags&1048576)!==0&&F1(s,Xl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Xo(s.elementType),s.type=a,typeof a=="function")sd(a)?(f=Wo(a,f),s.tag=1,s=ng(null,s,a,f,c)):(s.tag=0,s=Yd(null,s,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===B){s.tag=11,s=Yp(null,s,a,f,c);break e}else if(y===ee){s.tag=14,s=Wp(null,s,a,f,c);break e}}throw s=dt(a)||a,Error(r(306,s,""))}}return s;case 0:return Yd(a,s,s.type,s.pendingProps,c);case 1:return f=s.type,y=Wo(f,s.pendingProps),ng(a,s,f,y,c);case 3:e:{if(kn(s,s.stateNode.containerInfo),a===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;y=b.element,Ed(a,s),ec(s,f,null,c);var N=s.memoizedState;if(f=N.cache,zi(s,mn,f),f!==b.cache&&vd(s,[mn],c,!0),Jl(),f=N.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=rg(a,s,f,c);break e}else if(f!==y){y=Ur(Error(r(424)),s),Kl(y),s=rg(a,s,f,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for($t=Gr(a.firstChild),zn=s,vt=!0,Fi=null,Vr=!0,c=Q1(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ho(),f===y){s=ti(a,s,c);break e}Vn(a,s,f,c)}s=s.child}return s;case 26:return Iu(a,s),a===null?(c=yv(s.type,null,s.pendingProps,null))?s.memoizedState=c:vt||(c=s.type,a=s.pendingProps,f=$u(Je.current).createElement(c),f[qt]=s,f[cn]=a,qn(f,c,a),un(f),s.stateNode=f):s.memoizedState=yv(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ei(s),a===null&&vt&&(f=s.stateNode=gv(s.type,s.pendingProps,Je.current),zn=s,Vr=!0,y=$t,eo(s.type)?(B0=y,$t=Gr(f.firstChild)):$t=y),Vn(a,s,s.pendingProps.children,c),Iu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&vt&&((y=f=$t)&&(f=pb(f,s.type,s.pendingProps,Vr),f!==null?(s.stateNode=f,zn=s,$t=Gr(f.firstChild),Vr=!1,y=!0):y=!1),y||Ui(s)),Ei(s),y=s.type,b=s.pendingProps,N=a!==null?a.memoizedProps:null,f=b.children,D0(y,b)?f=null:N!==null&&D0(y,N)&&(s.flags|=32),s.memoizedState!==null&&(y=Td(a,s,T2,null,null,c),bc._currentValue=y),Iu(a,s),Vn(a,s,f,c),s.child;case 6:return a===null&&vt&&((a=c=$t)&&(c=gb(c,s.pendingProps,Vr),c!==null?(s.stateNode=c,zn=s,$t=null,a=!0):a=!1),a||Ui(s)),null;case 13:return ag(a,s,c);case 4:return kn(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=$o(s,null,f,c):Vn(a,s,f,c),s.child;case 11:return Yp(a,s,s.type,s.pendingProps,c);case 7:return Vn(a,s,s.pendingProps,c),s.child;case 8:return Vn(a,s,s.pendingProps.children,c),s.child;case 12:return Vn(a,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,zi(s,s.type,f.value),Vn(a,s,f.children,c),s.child;case 9:return y=s.type._context,f=s.pendingProps.children,qo(s),y=Hn(y),f=f(y),s.flags|=1,Vn(a,s,f,c),s.child;case 14:return Wp(a,s,s.type,s.pendingProps,c);case 15:return Zp(a,s,s.type,s.pendingProps,c);case 19:return og(a,s,c);case 31:return k2(a,s,c);case 22:return Qp(a,s,c,s.pendingProps);case 24:return qo(s),f=Hn(mn),a===null?(y=xd(),y===null&&(y=Ht,b=md(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),s.memoizedState={parent:f,cache:y},wd(s),zi(s,mn,y)):((a.lanes&c)!==0&&(Ed(a,s),ec(s,null,null,c),Jl()),y=a.memoizedState,b=s.memoizedState,y.parent!==f?(y={parent:f,cache:f},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),zi(s,mn,f)):(f=b.cache,zi(s,mn,f),f!==y.cache&&vd(s,[mn],c,!0))),Vn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ni(a){a.flags|=4}function r0(a,s,c,f,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(jg())a.flags|=8192;else throw Ko=vu,bd}else a.flags&=-16777217}function lg(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_v(s))if(jg())a.flags|=8192;else throw Ko=vu,bd}function Mu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Yc():536870912,a.lanes|=s,Zs|=s)}function oc(a,s){if(!vt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Yt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,s}function F2(a,s,c){var f=s.pendingProps;switch(fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return Yt(s),null;case 3:return c=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Qa(mn),Be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ps(s)?ni(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hd())),Yt(s),null;case 26:var y=s.type,b=s.memoizedState;return a===null?(ni(s),b!==null?(Yt(s),lg(s,b)):(Yt(s),r0(s,y,null,f,c))):b?b!==a.memoizedState?(ni(s),Yt(s),lg(s,b)):(Yt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&ni(s),Yt(s),r0(s,y,a,f,c)),null;case 27:if(Ma(s),c=Je.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ni(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Yt(s),null}a=Re.current,Ps(s)?z1(s):(a=gv(y,f,c),s.stateNode=a,ni(s))}return Yt(s),null;case 5:if(Ma(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ni(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Yt(s),null}if(b=Re.current,Ps(s))z1(s);else{var N=$u(Je.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?N.createElement("select",{is:f.is}):N.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?N.createElement(y,{is:f.is}):N.createElement(y)}}b[qt]=s,b[cn]=f;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=b;e:switch(qn(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ni(s)}}return Yt(s),r0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&ni(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(a=Je.current,Ps(s)){if(a=s.stateNode,c=s.memoizedProps,f=null,y=zn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[qt]=s,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||av(a.nodeValue,c)),a||Ui(s,!0)}else a=$u(a).createTextNode(f),a[qt]=s,s.stateNode=a}return Yt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(f=Ps(s),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[qt]=s}else Ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Yt(s),a=!1}else c=hd(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ir(s),s):(Ir(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Yt(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Ps(s),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[qt]=s}else Ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Yt(s),y=!1}else y=hd(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Ir(s),s):(Ir(s),null)}return Ir(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=s.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Mu(s,s.updateQueue),Yt(s),null);case 4:return Be(),a===null&&S0(s.stateNode.containerInfo),Yt(s),null;case 10:return Qa(s.type),Yt(s),null;case 19:if(he(fn),f=s.memoizedState,f===null)return Yt(s),null;if(y=(s.flags&128)!==0,b=f.rendering,b===null)if(y)oc(f,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=bu(a),b!==null){for(s.flags|=128,oc(f,!1),a=b.updateQueue,s.updateQueue=a,Mu(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)L1(c,a),c=c.sibling;return Ae(fn,fn.current&1|2),vt&&Wa(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&Zn()>Pu&&(s.flags|=128,y=!0,oc(f,!1),s.lanes=4194304)}else{if(!y)if(a=bu(b),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,Mu(s,a),oc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!vt)return Yt(s),null}else 2*Zn()-f.renderingStartTime>Pu&&c!==536870912&&(s.flags|=128,y=!0,oc(f,!1),s.lanes=4194304);f.isBackwards?(b.sibling=s.child,s.child=b):(a=f.last,a!==null?a.sibling=b:s.child=b,f.last=b)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Zn(),a.sibling=null,c=fn.current,Ae(fn,y?c&1|2:c&1),vt&&Wa(s,f.treeForkCount),a):(Yt(s),null);case 22:case 23:return Ir(s),Cd(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),c=s.updateQueue,c!==null&&Mu(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),a!==null&&he(Go),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Qa(mn),Yt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function U2(a,s){switch(fd(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Qa(mn),Be(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ma(s),null;case 31:if(s.memoizedState!==null){if(Ir(s),s.alternate===null)throw Error(r(340));Ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ir(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return he(fn),null;case 4:return Be(),null;case 10:return Qa(s.type),null;case 22:case 23:return Ir(s),Cd(),a!==null&&he(Go),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Qa(mn),null;case 25:return null;default:return null}}function cg(a,s){switch(fd(s),s.tag){case 3:Qa(mn),Be();break;case 26:case 27:case 5:Ma(s);break;case 4:Be();break;case 31:s.memoizedState!==null&&Ir(s);break;case 13:Ir(s);break;case 19:he(fn);break;case 10:Qa(s.type);break;case 22:case 23:Ir(s),Cd(),a!==null&&he(Go);break;case 24:Qa(mn)}}function sc(a,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var b=c.create,N=c.inst;f=b(),N.destroy=f}c=c.next}while(c!==y)}}catch(I){Mt(s,s.return,I)}}function Ki(a,s,c){try{var f=s.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&a)===a){var N=f.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,y=s;var z=c,ae=I;try{ae()}catch(pe){Mt(y,z,pe)}}}f=f.next}while(f!==b)}}catch(pe){Mt(s,s.return,pe)}}function ug(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{ep(s,c)}catch(f){Mt(a,a.return,f)}}}function fg(a,s,c){c.props=Wo(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Mt(a,s,f)}}function lc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){Mt(a,s,y)}}function Na(a,s){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Mt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Mt(a,s,y)}else c.current=null}function dg(a){var s=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Mt(a,a.return,y)}}function a0(a,s,c){try{var f=a.stateNode;lb(f,a.type,c,s),f[cn]=s}catch(y){Mt(a,a.return,y)}}function hg(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&eo(a.type)||a.tag===4}function i0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&eo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function o0(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=pr));else if(f!==4&&(f===27&&eo(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(o0(a,s,c),a=a.sibling;a!==null;)o0(a,s,c),a=a.sibling}function ju(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(f!==4&&(f===27&&eo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(ju(a,s,c),a=a.sibling;a!==null;)ju(a,s,c),a=a.sibling}function pg(a){var s=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);qn(s,f,c),s[qt]=a,s[cn]=c}catch(b){Mt(a,a.return,b)}}var ri=!1,bn=!1,s0=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function z2(a,s){if(a=a.containerInfo,O0=tf,a=O(a),D(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var N=0,I=-1,z=-1,ae=0,pe=0,ye=a,oe=null;t:for(;;){for(var ue;ye!==c||y!==0&&ye.nodeType!==3||(I=N+y),ye!==b||f!==0&&ye.nodeType!==3||(z=N+f),ye.nodeType===3&&(N+=ye.nodeValue.length),(ue=ye.firstChild)!==null;)oe=ye,ye=ue;for(;;){if(ye===a)break t;if(oe===c&&++ae===y&&(I=N),oe===b&&++pe===f&&(z=N),(ue=ye.nextSibling)!==null)break;ye=oe,oe=ye.parentNode}ye=ue}c=I===-1||z===-1?null:{start:I,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(T0={focusedElem:a,selectionRange:c},tf=!1,Rn=s;Rn!==null;)if(s=Rn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Rn=a;else for(;Rn!==null;){switch(s=Rn,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=s,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var Fe=Wo(c.type,y);a=f.getSnapshotBeforeUpdate(Fe,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(We){Mt(c,c.return,We)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)R0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":R0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Rn=a;break}Rn=s.return}}function vg(a,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:ii(a,c),f&4&&sc(5,c);break;case 1:if(ii(a,c),f&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(N){Mt(c,c.return,N)}else{var y=Wo(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Mt(c,c.return,N)}}f&64&&ug(c),f&512&&lc(c,c.return);break;case 3:if(ii(a,c),f&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ep(a,s)}catch(N){Mt(c,c.return,N)}}break;case 27:s===null&&f&4&&pg(c);case 26:case 5:ii(a,c),s===null&&f&4&&dg(c),f&512&&lc(c,c.return);break;case 12:ii(a,c);break;case 31:ii(a,c),f&4&&xg(a,c);break;case 13:ii(a,c),f&4&&bg(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=W2.bind(null,c),vb(a,c))));break;case 22:if(f=c.memoizedState!==null||ri,!f){s=s!==null&&s.memoizedState!==null||bn,y=ri;var b=bn;ri=f,(bn=s)&&!b?oi(a,c,(c.subtreeFlags&8772)!==0):ii(a,c),ri=y,bn=b}break;case 30:break;default:ii(a,c)}}function mg(a){var s=a.alternate;s!==null&&(a.alternate=null,mg(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&vs(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var tn=null,vr=!1;function ai(a,s,c){for(c=c.child;c!==null;)yg(a,s,c),c=c.sibling}function yg(a,s,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(ga,c)}catch{}switch(c.tag){case 26:bn||Na(c,s),ai(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:bn||Na(c,s);var f=tn,y=vr;eo(c.type)&&(tn=c.stateNode,vr=!1),ai(a,s,c),mc(c.stateNode),tn=f,vr=y;break;case 5:bn||Na(c,s);case 6:if(f=tn,y=vr,tn=null,ai(a,s,c),tn=f,vr=y,tn!==null)if(vr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(c.stateNode)}catch(b){Mt(c,s,b)}else try{tn.removeChild(c.stateNode)}catch(b){Mt(c,s,b)}break;case 18:tn!==null&&(vr?(a=tn,uv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),il(a)):uv(tn,c.stateNode));break;case 4:f=tn,y=vr,tn=c.stateNode.containerInfo,vr=!0,ai(a,s,c),tn=f,vr=y;break;case 0:case 11:case 14:case 15:Ki(2,c,s),bn||Ki(4,c,s),ai(a,s,c);break;case 1:bn||(Na(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&fg(c,s,f)),ai(a,s,c);break;case 21:ai(a,s,c);break;case 22:bn=(f=bn)||c.memoizedState!==null,ai(a,s,c),bn=f;break;default:ai(a,s,c)}}function xg(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{il(a)}catch(c){Mt(s,s.return,c)}}}function bg(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{il(a)}catch(c){Mt(s,s.return,c)}}function H2(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new gg),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new gg),s;default:throw Error(r(435,a.tag))}}function Bu(a,s){var c=H2(a);s.forEach(function(f){if(!c.has(f)){c.add(f);var y=Z2.bind(null,a,f);f.then(y,y)}})}function mr(a,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=a,N=s,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(eo(I.type)){tn=I.stateNode,vr=!1;break e}break;case 5:tn=I.stateNode,vr=!1;break e;case 3:case 4:tn=I.stateNode.containerInfo,vr=!0;break e}I=I.return}if(tn===null)throw Error(r(160));yg(b,N,y),tn=null,vr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wg(s,a),s=s.sibling}var ra=null;function wg(a,s){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mr(s,a),yr(a),f&4&&(Ki(3,a,a.return),sc(3,a),Ki(5,a,a.return));break;case 1:mr(s,a),yr(a),f&512&&(bn||c===null||Na(c,c.return)),f&64&&ri&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=ra;if(mr(s,a),yr(a),f&512&&(bn||c===null||Na(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Cr]||b[qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),qn(b,f,c),b[qt]=a,un(b),f=b;break e;case"link":var N=wv("link","href",y).get(f+(c.href||""));if(N){for(var I=0;I<N.length;I++)if(b=N[I],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(I,1);break t}}b=y.createElement(f),qn(b,f,c),y.head.appendChild(b);break;case"meta":if(N=wv("meta","content",y).get(f+(c.content||""))){for(I=0;I<N.length;I++)if(b=N[I],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(I,1);break t}}b=y.createElement(f),qn(b,f,c),y.head.appendChild(b);break;default:throw Error(r(468,f))}b[qt]=a,un(b),f=b}a.stateNode=f}else Ev(y,a.type,a.stateNode);else a.stateNode=bv(y,f,a.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?Ev(y,a.type,a.stateNode):bv(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&a0(a,a.memoizedProps,c.memoizedProps)}break;case 27:mr(s,a),yr(a),f&512&&(bn||c===null||Na(c,c.return)),c!==null&&f&4&&a0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(mr(s,a),yr(a),f&512&&(bn||c===null||Na(c,c.return)),a.flags&32){y=a.stateNode;try{Ua(y,"")}catch(Fe){Mt(a,a.return,Fe)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,a0(a,y,c!==null?c.memoizedProps:y)),f&1024&&(s0=!0);break;case 6:if(mr(s,a),yr(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Fe){Mt(a,a.return,Fe)}}break;case 3:if(Zu=null,y=ra,ra=Yu(s.containerInfo),mr(s,a),ra=y,yr(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{il(s.containerInfo)}catch(Fe){Mt(a,a.return,Fe)}s0&&(s0=!1,Eg(a));break;case 4:f=ra,ra=Yu(a.stateNode.containerInfo),mr(s,a),yr(a),ra=f;break;case 12:mr(s,a),yr(a);break;case 31:mr(s,a),yr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Bu(a,f)));break;case 13:mr(s,a),yr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ku=Zn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Bu(a,f)));break;case 22:y=a.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,ae=ri,pe=bn;if(ri=ae||y,bn=pe||z,mr(s,a),bn=pe,ri=ae,yr(a),f&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||z||ri||bn||Zo(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){z=c=s;try{if(b=z.stateNode,y)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=z.stateNode;var ye=z.memoizedProps.style,oe=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;I.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Fe){Mt(z,z.return,Fe)}}}else if(s.tag===6){if(c===null){z=s;try{z.stateNode.nodeValue=y?"":z.memoizedProps}catch(Fe){Mt(z,z.return,Fe)}}}else if(s.tag===18){if(c===null){z=s;try{var ue=z.stateNode;y?fv(ue,!0):fv(z.stateNode,!1)}catch(Fe){Mt(z,z.return,Fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Bu(a,c))));break;case 19:mr(s,a),yr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Bu(a,f)));break;case 30:break;case 21:break;default:mr(s,a),yr(a)}}function yr(a){var s=a.flags;if(s&2){try{for(var c,f=a.return;f!==null;){if(hg(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=i0(a);ju(a,b,y);break;case 5:var N=c.stateNode;c.flags&32&&(Ua(N,""),c.flags&=-33);var I=i0(a);ju(a,I,N);break;case 3:case 4:var z=c.stateNode.containerInfo,ae=i0(a);o0(a,ae,z);break;default:throw Error(r(161))}}catch(pe){Mt(a,a.return,pe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Eg(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Eg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ii(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vg(a,s.alternate,s),s=s.sibling}function Zo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),Zo(s);break;case 1:Na(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&fg(s,s.return,c),Zo(s);break;case 27:mc(s.stateNode);case 26:case 5:Na(s,s.return),Zo(s);break;case 22:s.memoizedState===null&&Zo(s);break;case 30:Zo(s);break;default:Zo(s)}a=a.sibling}}function oi(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,y=a,b=s,N=b.flags;switch(b.tag){case 0:case 11:case 15:oi(y,b,c),sc(4,b);break;case 1:if(oi(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Mt(f,f.return,ae)}if(f=b,y=f.updateQueue,y!==null){var I=f.stateNode;try{var z=y.shared.hiddenCallbacks;if(z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<z.length;y++)J1(z[y],I)}catch(ae){Mt(f,f.return,ae)}}c&&N&64&&ug(b),lc(b,b.return);break;case 27:pg(b);case 26:case 5:oi(y,b,c),c&&f===null&&N&4&&dg(b),lc(b,b.return);break;case 12:oi(y,b,c);break;case 31:oi(y,b,c),c&&N&4&&xg(y,b);break;case 13:oi(y,b,c),c&&N&4&&bg(y,b);break;case 22:b.memoizedState===null&&oi(y,b,c),lc(b,b.return);break;case 30:break;default:oi(y,b,c)}s=s.sibling}}function l0(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&$l(c))}function c0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&$l(a))}function aa(a,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_g(a,s,c,f),s=s.sibling}function _g(a,s,c,f){var y=s.flags;switch(s.tag){case 0:case 11:case 15:aa(a,s,c,f),y&2048&&sc(9,s);break;case 1:aa(a,s,c,f);break;case 3:aa(a,s,c,f),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&$l(a)));break;case 12:if(y&2048){aa(a,s,c,f),a=s.stateNode;try{var b=s.memoizedProps,N=b.id,I=b.onPostCommit;typeof I=="function"&&I(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){Mt(s,s.return,z)}}else aa(a,s,c,f);break;case 31:aa(a,s,c,f);break;case 13:aa(a,s,c,f);break;case 23:break;case 22:b=s.stateNode,N=s.alternate,s.memoizedState!==null?b._visibility&2?aa(a,s,c,f):cc(a,s):b._visibility&2?aa(a,s,c,f):(b._visibility|=2,$s(a,s,c,f,(s.subtreeFlags&10256)!==0||!1)),y&2048&&l0(N,s);break;case 24:aa(a,s,c,f),y&2048&&c0(s.alternate,s);break;default:aa(a,s,c,f)}}function $s(a,s,c,f,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,N=s,I=c,z=f,ae=N.flags;switch(N.tag){case 0:case 11:case 15:$s(b,N,I,z,y),sc(8,N);break;case 23:break;case 22:var pe=N.stateNode;N.memoizedState!==null?pe._visibility&2?$s(b,N,I,z,y):cc(b,N):(pe._visibility|=2,$s(b,N,I,z,y)),y&&ae&2048&&l0(N.alternate,N);break;case 24:$s(b,N,I,z,y),y&&ae&2048&&c0(N.alternate,N);break;default:$s(b,N,I,z,y)}s=s.sibling}}function cc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,f=s,y=f.flags;switch(f.tag){case 22:cc(c,f),y&2048&&l0(f.alternate,f);break;case 24:cc(c,f),y&2048&&c0(f.alternate,f);break;default:cc(c,f)}s=s.sibling}}var uc=8192;function Ys(a,s,c){if(a.subtreeFlags&uc)for(a=a.child;a!==null;)Ag(a,s,c),a=a.sibling}function Ag(a,s,c){switch(a.tag){case 26:Ys(a,s,c),a.flags&uc&&a.memoizedState!==null&&Ob(c,ra,a.memoizedState,a.memoizedProps);break;case 5:Ys(a,s,c);break;case 3:case 4:var f=ra;ra=Yu(a.stateNode.containerInfo),Ys(a,s,c),ra=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=uc,uc=16777216,Ys(a,s,c),uc=f):Ys(a,s,c));break;default:Ys(a,s,c)}}function Sg(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function fc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Rn=f,Ng(f,a)}Sg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cg(a),a=a.sibling}function Cg(a){switch(a.tag){case 0:case 11:case 15:fc(a),a.flags&2048&&Ki(9,a,a.return);break;case 3:fc(a);break;case 12:fc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Lu(a)):fc(a);break;default:fc(a)}}function Lu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Rn=f,Ng(f,a)}Sg(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),Lu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Lu(s));break;default:Lu(s)}a=a.sibling}}function Ng(a,s){for(;Rn!==null;){var c=Rn;switch(c.tag){case 0:case 11:case 15:Ki(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:$l(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Rn=f;else e:for(c=a;Rn!==null;){f=Rn;var y=f.sibling,b=f.return;if(mg(f),f===c){Rn=null;break e}if(y!==null){y.return=b,Rn=y;break e}Rn=b}}}var V2={getCacheForType:function(a){var s=Hn(mn),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Hn(mn).controller.signal}},q2=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ht=null,ct=null,ht=0,Rt=0,Rr=null,$i=!1,Ws=!1,u0=!1,si=0,on=0,Yi=0,Qo=0,f0=0,Mr=0,Zs=0,dc=null,xr=null,d0=!1,ku=0,Og=0,Pu=1/0,Fu=null,Wi=null,wn=0,Zi=null,Qs=null,li=0,h0=0,p0=null,Tg=null,hc=0,g0=null;function jr(){return(Ct&2)!==0&&ht!==0?ht&-ht:le.T!==null?w0():So()}function Dg(){if(Mr===0)if((ht&536870912)===0||vt){var a=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Mr=a}else Mr=536870912;return a=Dr.current,a!==null&&(a.flags|=32),Mr}function br(a,s,c){(a===Ht&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(Js(a,0),Qi(a,ht,Mr,!1)),Br(a,c),((Ct&2)===0||a!==Ht)&&(a===Ht&&((Ct&2)===0&&(Qo|=c),on===4&&Qi(a,ht,Mr,!1)),Oa(a))}function Ig(a,s,c){if((Ct&6)!==0)throw Error(r(327));var f=!c&&(s&127)===0&&(s&a.expiredLanes)===0||ka(a,s),y=f?K2(a,s):m0(a,s,!0),b=f;do{if(y===0){Ws&&!f&&Qi(a,s,0,!1);break}else{if(c=a.current.alternate,b&&!G2(c)){y=m0(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var I=a;y=dc;var z=I.current.memoizedState.isDehydrated;if(z&&(Js(I,N).flags|=256),N=m0(I,N,!1),N!==2){if(u0&&!z){I.errorRecoveryDisabledLanes|=b,Qo|=b,y=4;break e}b=xr,xr=y,b!==null&&(xr===null?xr=b:xr.push.apply(xr,b))}y=N}if(b=!1,y!==2)continue}}if(y===1){Js(a,0),Qi(a,s,0,!0);break}e:{switch(f=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qi(f,s,Mr,!$i);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=ku+300-Zn(),10<y)){if(Qi(f,s,Mr,!$i),_o(f,0,!0)!==0)break e;li=s,f.timeoutHandle=lv(Rg.bind(null,f,c,xr,Fu,d0,s,Mr,Qo,Zs,$i,b,"Throttled",-0,0),y);break e}Rg(f,c,xr,Fu,d0,s,Mr,Qo,Zs,$i,b,null,-0,0)}}break}while(!0);Oa(a)}function Rg(a,s,c,f,y,b,N,I,z,ae,pe,ye,oe,ue){if(a.timeoutHandle=-1,ye=s.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},Ag(s,b,ye);var Fe=(b&62914560)===b?ku-Zn():(b&4194048)===b?Og-Zn():0;if(Fe=Tb(ye,Fe),Fe!==null){li=b,a.cancelPendingCommit=Fe(Ug.bind(null,a,s,b,c,f,y,N,I,z,pe,ye,null,oe,ue)),Qi(a,b,N,!ae);return}}Ug(a,s,b,c,f,y,N,I,z)}function G2(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!er(b(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(a,s,c,f){s&=~f0,s&=~Qo,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var y=s;0<y;){var b=31-Le(y),N=1<<b;f[b]=-1,y&=~N}c!==0&&Ao(a,c,s)}function Uu(){return(Ct&6)===0?(pc(0),!1):!0}function v0(){if(ct!==null){if(Rt===0)var a=ct.return;else a=ct,Za=Vo=null,Rd(a),Vs=null,Wl=0,a=ct;for(;a!==null;)cg(a.alternate,a),a=a.return;ct=null}}function Js(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,fb(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),li=0,v0(),Ht=a,ct=c=Ya(a.current,null),ht=s,Rt=0,Rr=null,$i=!1,Ws=ka(a,s),u0=!1,Zs=Mr=f0=Qo=Yi=on=0,xr=dc=null,d0=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var y=31-Le(f),b=1<<y;s|=a[y],f&=~b}return si=s,In(),c}function Mg(a,s){nt=null,le.H=ac,s===Hs||s===gu?(s=Y1(),Rt=3):s===bd?(s=Y1(),Rt=4):Rt=s===$d?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,ct===null&&(on=1,Tu(a,Ur(s,a.current)))}function jg(){var a=Dr.current;return a===null?!0:(ht&4194048)===ht?qr===null:(ht&62914560)===ht||(ht&536870912)!==0?a===qr:!1}function Bg(){var a=le.H;return le.H=ac,a===null?ac:a}function Lg(){var a=le.A;return le.A=V2,a}function zu(){on=4,$i||(ht&4194048)!==ht&&Dr.current!==null||(Ws=!0),(Yi&134217727)===0&&(Qo&134217727)===0||Ht===null||Qi(Ht,ht,Mr,!1)}function m0(a,s,c){var f=Ct;Ct|=2;var y=Bg(),b=Lg();(Ht!==a||ht!==s)&&(Fu=null,Js(a,s)),s=!1;var N=on;e:do try{if(Rt!==0&&ct!==null){var I=ct,z=Rr;switch(Rt){case 8:v0(),N=6;break e;case 3:case 2:case 9:case 6:Dr.current===null&&(s=!0);var ae=Rt;if(Rt=0,Rr=null,el(a,I,z,ae),c&&Ws){N=0;break e}break;default:ae=Rt,Rt=0,Rr=null,el(a,I,z,ae)}}X2(),N=on;break}catch(pe){Mg(a,pe)}while(!0);return s&&a.shellSuspendCounter++,Za=Vo=null,Ct=f,le.H=y,le.A=b,ct===null&&(Ht=null,ht=0,In()),N}function X2(){for(;ct!==null;)kg(ct)}function K2(a,s){var c=Ct;Ct|=2;var f=Bg(),y=Lg();Ht!==a||ht!==s?(Fu=null,Pu=Zn()+500,Js(a,s)):Ws=ka(a,s);e:do try{if(Rt!==0&&ct!==null){s=ct;var b=Rr;t:switch(Rt){case 1:Rt=0,Rr=null,el(a,s,b,1);break;case 2:case 9:if(K1(b)){Rt=0,Rr=null,Pg(s);break}s=function(){Rt!==2&&Rt!==9||Ht!==a||(Rt=7),Oa(a)},b.then(s,s);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:K1(b)?(Rt=0,Rr=null,Pg(s)):(Rt=0,Rr=null,el(a,s,b,7));break;case 5:var N=null;switch(ct.tag){case 26:N=ct.memoizedState;case 5:case 27:var I=ct;if(N?_v(N):I.stateNode.complete){Rt=0,Rr=null;var z=I.sibling;if(z!==null)ct=z;else{var ae=I.return;ae!==null?(ct=ae,Hu(ae)):ct=null}break t}}Rt=0,Rr=null,el(a,s,b,5);break;case 6:Rt=0,Rr=null,el(a,s,b,6);break;case 8:v0(),on=6;break e;default:throw Error(r(462))}}$2();break}catch(pe){Mg(a,pe)}while(!0);return Za=Vo=null,le.H=f,le.A=y,Ct=c,ct!==null?0:(Ht=null,ht=0,In(),on)}function $2(){for(;ct!==null&&!$c();)kg(ct)}function kg(a){var s=sg(a.alternate,a,si);a.memoizedProps=a.pendingProps,s===null?Hu(a):ct=s}function Pg(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=tg(c,s,s.pendingProps,s.type,void 0,ht);break;case 11:s=tg(c,s,s.pendingProps,s.type.render,s.ref,ht);break;case 5:Rd(s);default:cg(c,s),s=ct=L1(s,si),s=sg(c,s,si)}a.memoizedProps=a.pendingProps,s===null?Hu(a):ct=s}function el(a,s,c,f){Za=Vo=null,Rd(s),Vs=null,Wl=0;var y=s.return;try{if(L2(a,y,s,c,ht)){on=1,Tu(a,Ur(c,a.current)),ct=null;return}}catch(b){if(y!==null)throw ct=y,b;on=1,Tu(a,Ur(c,a.current)),ct=null;return}s.flags&32768?(vt||f===1?a=!0:Ws||(ht&536870912)!==0?a=!1:($i=a=!0,(f===2||f===9||f===3||f===6)&&(f=Dr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Fg(s,a)):Hu(s)}function Hu(a){var s=a;do{if((s.flags&32768)!==0){Fg(s,$i);return}a=s.return;var c=F2(s.alternate,s,si);if(c!==null){ct=c;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=a}while(s!==null);on===0&&(on=5)}function Fg(a,s){do{var c=U2(a.alternate,a);if(c!==null){c.flags&=32767,ct=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){ct=a;return}ct=a=c}while(a!==null);on=6,ct=null}function Ug(a,s,c,f,y,b,N,I,z){a.cancelPendingCommit=null;do Vu();while(wn!==0);if((Ct&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=tt,_l(a,c,b,N,I,z),a===Ht&&(ct=Ht=null,ht=0),Qs=s,Zi=a,li=c,h0=b,p0=y,Tg=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q2(Ai,function(){return Gg(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,y=xe.p,xe.p=2,N=Ct,Ct|=4;try{z2(a,s,c)}finally{Ct=N,xe.p=y,le.T=f}}wn=1,zg(),Hg(),Vg()}}function zg(){if(wn===1){wn=0;var a=Zi,s=Qs,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=le.T,le.T=null;var f=xe.p;xe.p=2;var y=Ct;Ct|=4;try{wg(s,a);var b=T0,N=O(a.containerInfo),I=b.focusedElem,z=b.selectionRange;if(N!==I&&I&&I.ownerDocument&&C(I.ownerDocument.documentElement,I)){if(z!==null&&D(I)){var ae=z.start,pe=z.end;if(pe===void 0&&(pe=ae),"selectionStart"in I)I.selectionStart=ae,I.selectionEnd=Math.min(pe,I.value.length);else{var ye=I.ownerDocument||document,oe=ye&&ye.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Fe=I.textContent.length,We=Math.min(z.start,Fe),Ft=z.end===void 0?We:Math.min(z.end,Fe);!ue.extend&&We>Ft&&(N=Ft,Ft=We,We=N);var J=A(I,We),X=A(I,Ft);if(J&&X&&(ue.rangeCount!==1||ue.anchorNode!==J.node||ue.anchorOffset!==J.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var re=ye.createRange();re.setStart(J.node,J.offset),ue.removeAllRanges(),We>Ft?(ue.addRange(re),ue.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ue.addRange(re))}}}}for(ye=[],ue=I;ue=ue.parentNode;)ue.nodeType===1&&ye.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ye.length;I++){var ge=ye[I];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}tf=!!O0,T0=O0=null}finally{Ct=y,xe.p=f,le.T=c}}a.current=s,wn=2}}function Hg(){if(wn===2){wn=0;var a=Zi,s=Qs,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=le.T,le.T=null;var f=xe.p;xe.p=2;var y=Ct;Ct|=4;try{vg(a,s.alternate,s)}finally{Ct=y,xe.p=f,le.T=c}}wn=3}}function Vg(){if(wn===4||wn===3){wn=0,yo();var a=Zi,s=Qs,c=li,f=Tg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wn=5:(wn=0,Qs=Zi=null,qg(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Wi=null),Ci(c),s=s.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(ga,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=le.T,y=xe.p,xe.p=2,le.T=null;try{for(var b=a.onRecoverableError,N=0;N<f.length;N++){var I=f[N];b(I.value,{componentStack:I.stack})}}finally{le.T=s,xe.p=y}}(li&3)!==0&&Vu(),Oa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===g0?hc++:(hc=0,g0=a):hc=0,pc(0)}}function qg(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,$l(s)))}function Vu(){return zg(),Hg(),Vg(),Gg()}function Gg(){if(wn!==5)return!1;var a=Zi,s=h0;h0=0;var c=Ci(li),f=le.T,y=xe.p;try{xe.p=32>c?32:c,le.T=null,c=p0,p0=null;var b=Zi,N=li;if(wn=0,Qs=Zi=null,li=0,(Ct&6)!==0)throw Error(r(331));var I=Ct;if(Ct|=4,Cg(b.current),_g(b,b.current,N,c),Ct=I,pc(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(ga,b)}catch{}return!0}finally{xe.p=y,le.T=f,qg(a,s)}}function Xg(a,s,c){s=Ur(c,s),s=Kd(a.stateNode,s,2),a=qi(a,s,2),a!==null&&(Br(a,2),Oa(a))}function Mt(a,s,c){if(a.tag===3)Xg(a,a,c);else for(;s!==null;){if(s.tag===3){Xg(s,a,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Wi===null||!Wi.has(f))){a=Ur(c,a),c=Kp(2),f=qi(s,c,2),f!==null&&($p(c,f,s,a),Br(f,2),Oa(f));break}}s=s.return}}function y0(a,s,c){var f=a.pingCache;if(f===null){f=a.pingCache=new q2;var y=new Set;f.set(s,y)}else y=f.get(s),y===void 0&&(y=new Set,f.set(s,y));y.has(c)||(u0=!0,y.add(c),a=Y2.bind(null,a,s,c),s.then(a,a))}function Y2(a,s,c){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Ht===a&&(ht&c)===c&&(on===4||on===3&&(ht&62914560)===ht&&300>Zn()-ku?(Ct&2)===0&&Js(a,0):f0|=c,Zs===ht&&(Zs=0)),Oa(a)}function Kg(a,s){s===0&&(s=Yc()),a=en(a,s),a!==null&&(Br(a,s),Oa(a))}function W2(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Kg(a,c)}function Z2(a,s){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),Kg(a,c)}function Q2(a,s){return mo(a,s)}var qu=null,tl=null,x0=!1,Gu=!1,b0=!1,Ji=0;function Oa(a){a!==tl&&a.next===null&&(tl===null?qu=tl=a:tl=tl.next=a),Gu=!0,x0||(x0=!0,eb())}function pc(a,s){if(!b0&&Gu){b0=!0;do for(var c=!1,f=qu;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var N=f.suspendedLanes,I=f.pingedLanes;b=(1<<31-Le(42|a)+1)-1,b&=y&~(N&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Zg(f,b))}else b=ht,b=_o(f,f===Ht?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ka(f,b)||(c=!0,Zg(f,b));f=f.next}while(c);b0=!1}}function J2(){$g()}function $g(){Gu=x0=!1;var a=0;Ji!==0&&ub()&&(a=Ji);for(var s=Zn(),c=null,f=qu;f!==null;){var y=f.next,b=Yg(f,s);b===0?(f.next=null,c===null?qu=y:c.next=y,y===null&&(tl=c)):(c=f,(a!==0||(b&3)!==0)&&(Gu=!0)),f=y}wn!==0&&wn!==5||pc(a),Ji!==0&&(Ji=0)}function Yg(a,s){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var N=31-Le(b),I=1<<N,z=y[N];z===-1?((I&c)===0||(I&f)!==0)&&(y[N]=Qf(I,s)):z<=s&&(a.expiredLanes|=I),b&=~I}if(s=Ht,c=ht,c=_o(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===s&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&hr(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ka(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(f!==null&&hr(f),Ci(c)){case 2:case 8:c=pa;break;case 32:c=Ai;break;case 268435456:c=hs;break;default:c=Ai}return f=Wg.bind(null,a),c=mo(c,f),a.callbackPriority=s,a.callbackNode=c,s}return f!==null&&f!==null&&hr(f),a.callbackPriority=2,a.callbackNode=null,2}function Wg(a,s){if(wn!==0&&wn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Vu()&&a.callbackNode!==c)return null;var f=ht;return f=_o(a,a===Ht?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Ig(a,f,s),Yg(a,Zn()),a.callbackNode!=null&&a.callbackNode===c?Wg.bind(null,a):null)}function Zg(a,s){if(Vu())return null;Ig(a,s,!0)}function eb(){db(function(){(Ct&6)!==0?mo(ha,J2):$g()})}function w0(){if(Ji===0){var a=Us;a===0&&(a=je,je<<=1,(je&261888)===0&&(je=256)),Ji=a}return Ji}function Qg(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:na(""+a)}function Jg(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function tb(a,s,c,f,y){if(s==="submit"&&c&&c.stateNode===y){var b=Qg((y[cn]||null).action),N=f.submitter;N&&(s=(s=N[cn]||null)?Qg(s.formAction):N.getAttribute("formAction"),s!==null&&(b=s,N=null));var I=new ws("action","action",null,f,y);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ji!==0){var z=N?Jg(y,N):new FormData(y);zd(c,{pending:!0,data:z,method:y.method,action:b},null,z)}}else typeof b=="function"&&(I.preventDefault(),z=N?Jg(y,N):new FormData(y),zd(c,{pending:!0,data:z,method:y.method,action:b},b,z))},currentTarget:y}]})}}for(var E0=0;E0<De.length;E0++){var _0=De[E0],nb=_0.toLowerCase(),rb=_0[0].toUpperCase()+_0.slice(1);Ee(nb,"on"+rb)}Ee(te,"onAnimationEnd"),Ee(ie,"onAnimationIteration"),Ee(fe,"onAnimationStart"),Ee("dblclick","onDoubleClick"),Ee("focusin","onFocus"),Ee("focusout","onBlur"),Ee(me,"onTransitionRun"),Ee(_e,"onTransitionStart"),Ee(Me,"onTransitionCancel"),Ee(we,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function ev(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var N=f.length-1;0<=N;N--){var I=f[N],z=I.instance,ae=I.currentTarget;if(I=I.listener,z!==b&&y.isPropagationStopped())break e;b=I,y.currentTarget=ae;try{b(y)}catch(pe){ke(pe)}y.currentTarget=null,b=z}else for(N=0;N<f.length;N++){if(I=f[N],z=I.instance,ae=I.currentTarget,I=I.listener,z!==b&&y.isPropagationStopped())break e;b=I,y.currentTarget=ae;try{b(y)}catch(pe){ke(pe)}y.currentTarget=null,b=z}}}}function ut(a,s){var c=s[Ni];c===void 0&&(c=s[Ni]=new Set);var f=a+"__bubble";c.has(f)||(tv(s,a,2,!1),c.add(f))}function A0(a,s,c){var f=0;s&&(f|=4),tv(c,a,f,s)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function S0(a){if(!a[Xu]){a[Xu]=!0,Pa.forEach(function(c){c!=="selectionchange"&&(ab.has(c)||A0(c,!1,a),A0(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Xu]||(s[Xu]=!0,A0("selectionchange",!1,s))}}function tv(a,s,c,f){switch(Dv(s)){case 2:var y=Rb;break;case 8:y=Mb;break;default:y=U0}c=y.bind(null,s,c,a),y=void 0,!Il||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function C0(a,s,c,f,y){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var I=f.stateNode.containerInfo;if(I===y)break;if(N===4)for(N=f.return;N!==null;){var z=N.tag;if((z===3||z===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;I!==null;){if(N=xa(I),N===null)return;if(z=N.tag,z===5||z===6||z===26||z===27){f=b=N;continue e}I=I.parentNode}}f=f.return}Ti(function(){var ae=b,pe=xs(c),ye=[];e:{var oe=Se.get(a);if(oe!==void 0){var ue=ws,Fe=a;switch(a){case"keypress":if(Ri(c)===0)break e;case"keydown":case"keyup":ue=Os;break;case"focusin":Fe="focus",ue=Mi;break;case"focusout":Fe="blur",ue=Mi;break;case"beforeblur":case"afterblur":ue=Mi;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Pl;break;case te:case ie:case fe:ue=eu;break;case we:ue=Fl;break;case"scroll":case"scrollend":ue=Es;break;case"wheel":ue=Ds;break;case"copy":case"cut":case"paste":ue=ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=kl;break;case"toggle":case"beforetoggle":ue=ru}var We=(s&4)!==0,Ft=!We&&(a==="scroll"||a==="scrollend"),J=We?oe!==null?oe+"Capture":null:oe;We=[];for(var X=ae,re;X!==null;){var ge=X;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||J===null||(ge=Va(X,J),ge!=null&&We.push(vc(X,ge,re))),Ft)break;X=X.return}0<We.length&&(oe=new ue(oe,Fe,null,c,pe),ye.push({event:oe,listeners:We}))}}if((s&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",oe&&c!==kr&&(Fe=c.relatedTarget||c.fromElement)&&(xa(Fe)||Fe[or]))break e;if((ue||oe)&&(oe=pe.window===pe?pe:(oe=pe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Fe=c.relatedTarget||c.toElement,ue=ae,Fe=Fe?xa(Fe):null,Fe!==null&&(Ft=o(Fe),We=Fe.tag,Fe!==Ft||We!==5&&We!==27&&We!==6)&&(Fe=null)):(ue=null,Fe=ae),ue!==Fe)){if(We=As,ge="onMouseLeave",J="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(We=kl,ge="onPointerLeave",J="onPointerEnter",X="pointer"),Ft=ue==null?oe:Nr(ue),re=Fe==null?oe:Nr(Fe),oe=new We(ge,X+"leave",ue,c,pe),oe.target=Ft,oe.relatedTarget=re,ge=null,xa(pe)===ae&&(We=new We(J,X+"enter",Fe,c,pe),We.target=re,We.relatedTarget=Ft,ge=We),Ft=ge,ue&&Fe)t:{for(We=ib,J=ue,X=Fe,re=0,ge=J;ge;ge=We(ge))re++;ge=0;for(var Ge=X;Ge;Ge=We(Ge))ge++;for(;0<re-ge;)J=We(J),re--;for(;0<ge-re;)X=We(X),ge--;for(;re--;){if(J===X||X!==null&&J===X.alternate){We=J;break t}J=We(J),X=We(X)}We=null}else We=null;ue!==null&&nv(ye,oe,ue,We,!1),Fe!==null&&Ft!==null&&nv(ye,Ft,Fe,We,!0)}}e:{if(oe=ae?Nr(ae):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var wt=Fo;else if(Ms(oe))if(Fr)wt=ki;else{wt=$a;var ze=cu}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&Dl(ae.elementType)&&(wt=Fo):wt=ql;if(wt&&(wt=wt(a,ae))){Vl(ye,wt,c,pe);break e}ze&&ze(a,oe,ae),a==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&Io(oe,"number",oe.value)}switch(ze=ae?Nr(ae):window,a){case"focusin":(Ms(ze)||ze.contentEditable==="true")&&(U=ze,V=ae,q=null);break;case"focusout":q=V=U=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,H(ye,c,pe);break;case"selectionchange":if(L)break;case"keydown":case"keyup":H(ye,c,pe)}var at;if(ko)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ka?Hl(a,c)&&(pt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(pt="onCompositionStart");pt&&(Is&&c.locale!=="ko"&&(Ka||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ka&&(at=Ii()):(Pr=pe,bs="value"in Pr?Pr.value:Pr.textContent,Ka=!0)),ze=Ku(ae,pt),0<ze.length&&(pt=new Ns(pt,a,null,c,pe),ye.push({event:pt,listeners:ze}),at?pt.data=at:(at=iu(c),at!==null&&(pt.data=at)))),(at=ad?ou(a,c):id(a,c))&&(pt=Ku(ae,"onBeforeInput"),0<pt.length&&(ze=new Ns("onBeforeInput","beforeinput",null,c,pe),ye.push({event:ze,listeners:pt}),ze.data=at)),tb(ye,a,ae,c,pe)}ev(ye,s)})}function vc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Ku(a,s){for(var c=s+"Capture",f=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Va(a,c),y!=null&&f.unshift(vc(a,y,b)),y=Va(a,s),y!=null&&f.push(vc(a,y,b))),a.tag===3)return f;a=a.return}return[]}function ib(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nv(a,s,c,f,y){for(var b=s._reactName,N=[];c!==null&&c!==f;){var I=c,z=I.alternate,ae=I.stateNode;if(I=I.tag,z!==null&&z===f)break;I!==5&&I!==26&&I!==27||ae===null||(z=ae,y?(ae=Va(c,b),ae!=null&&N.unshift(vc(c,ae,z))):y||(ae=Va(c,b),ae!=null&&N.push(vc(c,ae,z)))),c=c.return}N.length!==0&&a.push({event:s,listeners:N})}var ob=/\r\n?/g,sb=/\u0000|\uFFFD/g;function rv(a){return(typeof a=="string"?a:""+a).replace(ob,`
`).replace(sb,"")}function av(a,s){return s=rv(s),rv(a)===s}function Pt(a,s,c,f,y,b){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ua(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ua(a,""+f);break;case"className":To(a,"class",f);break;case"tabIndex":To(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":To(a,c,f);break;case"style":Tl(a,f,b);break;case"data":if(s!=="object"){To(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=na(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Pt(a,s,"name",y.name,y,null),Pt(a,s,"formEncType",y.formEncType,y,null),Pt(a,s,"formMethod",y.formMethod,y,null),Pt(a,s,"formTarget",y.formTarget,y,null)):(Pt(a,s,"encType",y.encType,y,null),Pt(a,s,"method",y.method,y,null),Pt(a,s,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=na(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=pr);break;case"onScroll":f!=null&&ut("scroll",a);break;case"onScrollEnd":f!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=na(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":ut("beforetoggle",a),ut("toggle",a),it(a,"popover",f);break;case"xlinkActuate":Lr(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Lr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Lr(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Lr(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Lr(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Lr(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Lr(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Lr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Lr(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":it(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=td.get(c)||c,it(a,c,f))}}function N0(a,s,c,f,y,b){switch(c){case"style":Tl(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?Ua(a,f):(typeof f=="number"||typeof f=="bigint")&&Ua(a,""+f);break;case"onScroll":f!=null&&ut("scroll",a);break;case"onScrollEnd":f!=null&&ut("scrollend",a);break;case"onClick":f!=null&&(a.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),b=a[cn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):it(a,c,f)}}}function qn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var N=c[b];if(N!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,b,N,c,null)}}y&&Pt(a,s,"srcSet",c.srcSet,c,null),f&&Pt(a,s,"src",c.src,c,null);return;case"input":ut("invalid",a);var I=b=N=y=null,z=null,ae=null;for(f in c)if(c.hasOwnProperty(f)){var pe=c[f];if(pe!=null)switch(f){case"name":y=pe;break;case"type":N=pe;break;case"checked":z=pe;break;case"defaultChecked":ae=pe;break;case"value":b=pe;break;case"defaultValue":I=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:Pt(a,s,f,pe,c,null)}}ys(a,b,I,z,ae,N,y,!1);return;case"select":ut("invalid",a),f=N=b=null;for(y in c)if(c.hasOwnProperty(y)&&(I=c[y],I!=null))switch(y){case"value":b=I;break;case"defaultValue":N=I;break;case"multiple":f=I;default:Pt(a,s,y,I,c,null)}s=b,c=N,a.multiple=!!f,s!=null?ta(a,!!f,s,!1):c!=null&&ta(a,!!f,c,!0);return;case"textarea":ut("invalid",a),b=y=f=null;for(N in c)if(c.hasOwnProperty(N)&&(I=c[N],I!=null))switch(N){case"value":f=I;break;case"defaultValue":y=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Pt(a,s,N,I,c,null)}Ro(a,f,y,b);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(f=c[z],f!=null))switch(z){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pt(a,s,z,f,c,null)}return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(f=0;f<gc.length;f++)ut(gc[f],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in c)if(c.hasOwnProperty(ae)&&(f=c[ae],f!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,ae,f,c,null)}return;default:if(Dl(s)){for(pe in c)c.hasOwnProperty(pe)&&(f=c[pe],f!==void 0&&N0(a,s,pe,f,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(f=c[I],f!=null&&Pt(a,s,I,f,c,null))}function lb(a,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,N=null,I=null,z=null,ae=null,pe=null;for(ue in c){var ye=c[ue];if(c.hasOwnProperty(ue)&&ye!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":z=ye;default:f.hasOwnProperty(ue)||Pt(a,s,ue,null,f,ye)}}for(var oe in f){var ue=f[oe];if(ye=c[oe],f.hasOwnProperty(oe)&&(ue!=null||ye!=null))switch(oe){case"type":b=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":pe=ue;break;case"value":N=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==ye&&Pt(a,s,oe,ue,f,ye)}}wa(a,N,I,z,ae,pe,b,y);return;case"select":ue=N=I=oe=null;for(b in c)if(z=c[b],c.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":ue=z;default:f.hasOwnProperty(b)||Pt(a,s,b,null,f,z)}for(y in f)if(b=f[y],z=c[y],f.hasOwnProperty(y)&&(b!=null||z!=null))switch(y){case"value":oe=b;break;case"defaultValue":I=b;break;case"multiple":N=b;default:b!==z&&Pt(a,s,y,b,f,z)}s=I,c=N,f=ue,oe!=null?ta(a,!!c,oe,!1):!!f!=!!c&&(s!=null?ta(a,!!c,s,!0):ta(a,!!c,c?[]:"",!1));return;case"textarea":ue=oe=null;for(I in c)if(y=c[I],c.hasOwnProperty(I)&&y!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Pt(a,s,I,null,f,y)}for(N in f)if(y=f[N],b=c[N],f.hasOwnProperty(N)&&(y!=null||b!=null))switch(N){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Pt(a,s,N,y,f,b)}Ol(a,oe,ue);return;case"option":for(var Fe in c)if(oe=c[Fe],c.hasOwnProperty(Fe)&&oe!=null&&!f.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:Pt(a,s,Fe,null,f,oe)}for(z in f)if(oe=f[z],ue=c[z],f.hasOwnProperty(z)&&oe!==ue&&(oe!=null||ue!=null))switch(z){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Pt(a,s,z,oe,f,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in c)oe=c[We],c.hasOwnProperty(We)&&oe!=null&&!f.hasOwnProperty(We)&&Pt(a,s,We,null,f,oe);for(ae in f)if(oe=f[ae],ue=c[ae],f.hasOwnProperty(ae)&&oe!==ue&&(oe!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:Pt(a,s,ae,oe,f,ue)}return;default:if(Dl(s)){for(var Ft in c)oe=c[Ft],c.hasOwnProperty(Ft)&&oe!==void 0&&!f.hasOwnProperty(Ft)&&N0(a,s,Ft,void 0,f,oe);for(pe in f)oe=f[pe],ue=c[pe],!f.hasOwnProperty(pe)||oe===ue||oe===void 0&&ue===void 0||N0(a,s,pe,oe,f,ue);return}}for(var J in c)oe=c[J],c.hasOwnProperty(J)&&oe!=null&&!f.hasOwnProperty(J)&&Pt(a,s,J,null,f,oe);for(ye in f)oe=f[ye],ue=c[ye],!f.hasOwnProperty(ye)||oe===ue||oe==null&&ue==null||Pt(a,s,ye,oe,f,ue)}function iv(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cb(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],b=y.transferSize,N=y.initiatorType,I=y.duration;if(b&&I&&iv(N)){for(N=0,I=y.responseEnd,f+=1;f<c.length;f++){var z=c[f],ae=z.startTime;if(ae>I)break;var pe=z.transferSize,ye=z.initiatorType;pe&&iv(ye)&&(z=z.responseEnd,N+=pe*(z<I?1:(I-ae)/(z-ae)))}if(--f,s+=8*(b+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var O0=null,T0=null;function $u(a){return a.nodeType===9?a:a.ownerDocument}function ov(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function D0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var I0=null;function ub(){var a=window.event;return a&&a.type==="popstate"?a===I0?!1:(I0=a,!0):(I0=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(a){return cv.resolve(null).then(a).catch(hb)}:lv;function hb(a){setTimeout(function(){throw a})}function eo(a){return a==="head"}function uv(a,s){var c=s,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),il(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")mc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,mc(c);for(var b=c.firstChild;b;){var N=b.nextSibling,I=b.nodeName;b[Cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=N}}else c==="body"&&mc(a.ownerDocument.body);c=y}while(c);il(s)}function fv(a,s){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function R0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":R0(c),vs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function pb(a,s,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Cr])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Gr(a.nextSibling),a===null)break}return null}function gb(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Gr(a.nextSibling),a===null))return null;return a}function dv(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Gr(a.nextSibling),a===null))return null;return a}function M0(a){return a.data==="$?"||a.data==="$~"}function j0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vb(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Gr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var B0=null;function hv(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Gr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function pv(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function gv(a,s,c){switch(s=$u(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function mc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);vs(a)}var Xr=new Map,vv=new Set;function Yu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ci=xe.d;xe.d={f:mb,r:yb,D:xb,C:bb,L:wb,m:Eb,X:Ab,S:_b,M:Sb};function mb(){var a=ci.f(),s=Uu();return a||s}function yb(a){var s=Lt(a);s!==null&&s.tag===5&&s.type==="form"?Mp(s):ci.r(a)}var nl=typeof document>"u"?null:document;function mv(a,s,c){var f=nl;if(f&&typeof s=="string"&&s){var y=On(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),vv.has(y)||(vv.add(y),a={rel:a,crossOrigin:c,href:s},f.querySelector(y)===null&&(s=f.createElement("link"),qn(s,"link",a),un(s),f.head.appendChild(s)))}}function xb(a){ci.D(a),mv("dns-prefetch",a,null)}function bb(a,s){ci.C(a,s),mv("preconnect",a,s)}function wb(a,s,c){ci.L(a,s,c);var f=nl;if(f&&a&&s){var y='link[rel="preload"][as="'+On(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+On(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+On(c.imageSizes)+'"]')):y+='[href="'+On(a)+'"]';var b=y;switch(s){case"style":b=rl(a);break;case"script":b=al(a)}Xr.has(b)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Xr.set(b,a),f.querySelector(y)!==null||s==="style"&&f.querySelector(yc(b))||s==="script"&&f.querySelector(xc(b))||(s=f.createElement("link"),qn(s,"link",a),un(s),f.head.appendChild(s)))}}function Eb(a,s){ci.m(a,s);var c=nl;if(c&&a){var f=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+On(f)+'"][href="'+On(a)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=al(a)}if(!Xr.has(b)&&(a=m({rel:"modulepreload",href:a},s),Xr.set(b,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xc(b)))return}f=c.createElement("link"),qn(f,"link",a),un(f),c.head.appendChild(f)}}}function _b(a,s,c){ci.S(a,s,c);var f=nl;if(f&&a){var y=Qn(f).hoistableStyles,b=rl(a);s=s||"default";var N=y.get(b);if(!N){var I={loading:0,preload:null};if(N=f.querySelector(yc(b)))I.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Xr.get(b))&&L0(a,c);var z=N=f.createElement("link");un(z),qn(z,"link",a),z._p=new Promise(function(ae,pe){z.onload=ae,z.onerror=pe}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Wu(N,s,f)}N={type:"stylesheet",instance:N,count:1,state:I},y.set(b,N)}}}function Ab(a,s){ci.X(a,s);var c=nl;if(c&&a){var f=Qn(c).hoistableScripts,y=al(a),b=f.get(y);b||(b=c.querySelector(xc(y)),b||(a=m({src:a,async:!0},s),(s=Xr.get(y))&&k0(a,s),b=c.createElement("script"),un(b),qn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function Sb(a,s){ci.M(a,s);var c=nl;if(c&&a){var f=Qn(c).hoistableScripts,y=al(a),b=f.get(y);b||(b=c.querySelector(xc(y)),b||(a=m({src:a,async:!0,type:"module"},s),(s=Xr.get(y))&&k0(a,s),b=c.createElement("script"),un(b),qn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function yv(a,s,c,f){var y=(y=Je.current)?Yu(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=rl(c.href),c=Qn(y).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=rl(c.href);var b=Qn(y).hoistableStyles,N=b.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,N),(b=y.querySelector(yc(a)))&&!b._p&&(N.instance=b,N.state.loading=5),Xr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Xr.set(a,c),b||Cb(y,a,c,N.state))),s&&f===null)throw Error(r(528,""));return N}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=al(c),c=Qn(y).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function rl(a){return'href="'+On(a)+'"'}function yc(a){return'link[rel="stylesheet"]['+a+"]"}function xv(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function Cb(a,s,c,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),qn(s,"link",c),un(s),a.head.appendChild(s))}function al(a){return'[src="'+On(a)+'"]'}function xc(a){return"script[async]"+a}function bv(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+On(c.href)+'"]');if(f)return s.instance=f,un(f),f;var y=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),un(f),qn(f,"style",y),Wu(f,c.precedence,a),s.instance=f;case"stylesheet":y=rl(c.href);var b=a.querySelector(yc(y));if(b)return s.state.loading|=4,s.instance=b,un(b),b;f=xv(c),(y=Xr.get(y))&&L0(f,y),b=(a.ownerDocument||a).createElement("link"),un(b);var N=b;return N._p=new Promise(function(I,z){N.onload=I,N.onerror=z}),qn(b,"link",f),s.state.loading|=4,Wu(b,c.precedence,a),s.instance=b;case"script":return b=al(c.src),(y=a.querySelector(xc(b)))?(s.instance=y,un(y),y):(f=c,(y=Xr.get(b))&&(f=m({},c),k0(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),un(y),qn(y,"link",f),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Wu(f,c.precedence,a));return s.instance}function Wu(a,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,N=0;N<f.length;N++){var I=f[N];if(I.dataset.precedence===s)b=I;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function L0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function k0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Zu=null;function wv(a,s,c){if(Zu===null){var f=new Map,y=Zu=new Map;y.set(c,f)}else y=Zu,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var b=c[y];if(!(b[Cr]||b[qt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(s)||"";N=a+N;var I=f.get(N);I?I.push(b):f.set(N,[b])}}return f}function Ev(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Nb(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _v(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Ob(a,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=rl(f.href),b=s.querySelector(yc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Qu.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=b,un(b);return}b=s.ownerDocument||s,f=xv(f),(y=Xr.get(y))&&L0(f,y),b=b.createElement("link"),un(b);var N=b;N._p=new Promise(function(I,z){N.onload=I,N.onerror=z}),qn(b,"link",f),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Qu.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var P0=0;function Tb(a,s){return a.stylesheets&&a.count===0&&ef(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&ef(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&P0===0&&(P0=62500*cb());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ef(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>P0?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ju=null;function ef(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ju=new Map,s.forEach(Db,a),Ju=null,Qu.call(a))}function Db(a,s){if(!(s.state.loading&4)){var c=Ju.get(a);if(c)var f=c.get(null);else{c=new Map,Ju.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var N=y[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),f=N)}f&&c.set(null,f)}y=s.instance,N=y.getAttribute("data-precedence"),b=c.get(N)||f,b===f&&c.set(null,y),c.set(N,y),this.count++,f=Qu.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var bc={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function Ib(a,s,c,f,y,b,N,I,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Av(a,s,c,f,y,b,N,I,z,ae,pe,ye){return a=new Ib(a,s,c,N,z,ae,pe,ye,I),s=1,b===!0&&(s|=24),b=Tr(3,null,null,s),a.current=b,b.stateNode=a,s=md(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:s},wd(b),a}function Sv(a){return a?(a=gr,a):gr}function Cv(a,s,c,f,y,b){y=Sv(y),f.context===null?f.context=y:f.pendingContext=y,f=Vi(s),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=qi(a,f,s),c!==null&&(br(c,a,s),Ql(c,a,s))}function Nv(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function F0(a,s){Nv(a,s),(a=a.alternate)&&Nv(a,s)}function Ov(a){if(a.tag===13||a.tag===31){var s=en(a,67108864);s!==null&&br(s,a,67108864),F0(a,67108864)}}function Tv(a){if(a.tag===13||a.tag===31){var s=jr();s=Al(s);var c=en(a,s);c!==null&&br(c,a,s),F0(a,s)}}var tf=!0;function Rb(a,s,c,f){var y=le.T;le.T=null;var b=xe.p;try{xe.p=2,U0(a,s,c,f)}finally{xe.p=b,le.T=y}}function Mb(a,s,c,f){var y=le.T;le.T=null;var b=xe.p;try{xe.p=8,U0(a,s,c,f)}finally{xe.p=b,le.T=y}}function U0(a,s,c,f){if(tf){var y=z0(f);if(y===null)C0(a,s,f,nf,c),Iv(a,f);else if(Bb(y,a,s,c,f))f.stopPropagation();else if(Iv(a,f),s&4&&-1<jb.indexOf(a)){for(;y!==null;){var b=Lt(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Jr(b.pendingLanes);if(N!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var z=1<<31-Le(N);I.entanglements[1]|=z,N&=~z}Oa(b),(Ct&6)===0&&(Pu=Zn()+500,pc(0))}}break;case 31:case 13:I=en(b,2),I!==null&&br(I,b,2),Uu(),F0(b,2)}if(b=z0(f),b===null&&C0(a,s,f,nf,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else C0(a,s,f,null,c)}}function z0(a){return a=xs(a),H0(a)}var nf=null;function H0(a){if(nf=null,a=xa(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return nf=a,null}function Dv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xo()){case ha:return 2;case pa:return 8;case Ai:case bo:return 32;case hs:return 268435456;default:return 32}default:return 32}}var V0=!1,to=null,no=null,ro=null,wc=new Map,Ec=new Map,ao=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(a,s){switch(a){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":wc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(s.pointerId)}}function _c(a,s,c,f,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Lt(s),s!==null&&Ov(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function Bb(a,s,c,f,y){switch(s){case"focusin":return to=_c(to,a,s,c,f,y),!0;case"dragenter":return no=_c(no,a,s,c,f,y),!0;case"mouseover":return ro=_c(ro,a,s,c,f,y),!0;case"pointerover":var b=y.pointerId;return wc.set(b,_c(wc.get(b)||null,a,s,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Ec.set(b,_c(Ec.get(b)||null,a,s,c,f,y)),!0}return!1}function Rv(a){var s=xa(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,Co(a.priority,function(){Tv(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,Co(a.priority,function(){Tv(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function rf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=z0(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);kr=f,c.target.dispatchEvent(f),kr=null}else return s=Lt(c),s!==null&&Ov(s),a.blockedOn=c,!1;s.shift()}return!0}function Mv(a,s,c){rf(a)&&c.delete(s)}function Lb(){V0=!1,to!==null&&rf(to)&&(to=null),no!==null&&rf(no)&&(no=null),ro!==null&&rf(ro)&&(ro=null),wc.forEach(Mv),Ec.forEach(Mv)}function af(a,s){a.blockedOn===s&&(a.blockedOn=null,V0||(V0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Lb)))}var of=null;function jv(a){of!==a&&(of=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){of===a&&(of=null);for(var s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],y=a[s+2];if(typeof f!="function"){if(H0(f||c)===null)continue;break}var b=Lt(c);b!==null&&(a.splice(s,3),s-=3,zd(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function il(a){function s(z){return af(z,a)}to!==null&&af(to,a),no!==null&&af(no,a),ro!==null&&af(ro,a),wc.forEach(s),Ec.forEach(s);for(var c=0;c<ao.length;c++){var f=ao[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ao.length&&(c=ao[0],c.blockedOn===null);)Rv(c),c.blockedOn===null&&ao.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],N=y[cn]||null;if(typeof b=="function")N||jv(c);else if(N){var I=null;if(b&&b.hasAttribute("formAction")){if(y=b,N=b[cn]||null)I=N.formAction;else if(H0(y)!==null)continue}else I=N.action;typeof I=="function"?c[f+1]=I:(c.splice(f,3),f-=3),jv(c)}}}function Bv(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function q0(a){this._internalRoot=a}sf.prototype.render=q0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=jr();Cv(c,f,a,s,null,null)},sf.prototype.unmount=q0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Cv(a.current,2,null,a,null,null),Uu(),s[or]=null}};function sf(a){this._internalRoot=a}sf.prototype.unstable_scheduleHydration=function(a){if(a){var s=So();a={blockedOn:null,target:a,priority:s};for(var c=0;c<ao.length&&s!==0&&s<ao[c].priority;c++);ao.splice(c,0,a),c===0&&Rv(a)}};var Lv=e.version;if(Lv!=="19.2.0")throw Error(r(527,Lv,"19.2.0"));xe.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var kb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ga=lf.inject(kb),Pn=lf}catch{}}return Sc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,f="",y=Vp,b=qp,N=Gp;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=Av(a,1,!1,null,null,c,f,null,y,b,N,Bv),a[or]=s.current,S0(a),new q0(s)},Sc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var f=!1,y="",b=Vp,N=qp,I=Gp,z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(z=c.formState)),s=Av(a,1,!0,s,c??null,f,y,z,b,N,I,Bv),s.context=Sv(null),c=s.current,f=jr(),f=Al(f),y=Vi(f),y.callback=null,qi(c,y,f),c=f,s.current.lanes=c,Br(s,c),Oa(s),a[or]=s.current,S0(a),new sf(s)},Sc.version="19.2.0",Sc}var Xv;function Yb(){if(Xv)return K0.exports;Xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K0.exports=$b(),K0.exports}var Wb=Yb();var Kv="popstate";function Zb(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return _h("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bc(i)}return Jb(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function _h(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hl(e):e,state:n,key:e&&e.key||r||Qb()}}function Bc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Jb(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,h=v();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function v(){return(l.state||{idx:null}).idx}function m(){u="POP";let T=v(),R=T==null?null:T-h;h=T,d&&d({action:u,location:S.location,delta:R})}function w(T,R){u="PUSH";let M=_h(S.location,T,R);h=v()+1;let P=$v(M,h),B=S.createHref(M);try{l.pushState(P,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(B)}o&&d&&d({action:u,location:S.location,delta:1})}function E(T,R){u="REPLACE";let M=_h(S.location,T,R);h=v();let P=$v(M,h),B=S.createHref(M);l.replaceState(P,"",B),o&&d&&d({action:u,location:S.location,delta:0})}function _(T){return ew(T)}let S={get action(){return u},get location(){return t(i,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Kv,m),d=T,()=>{i.removeEventListener(Kv,m),d=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let R=_(T);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:E,go(T){return l.go(T)}};return S}function ew(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Iy(t,e,n="/"){return tw(t,e,n,!1)}function tw(t,e,n,r){let i=typeof e=="string"?hl(e):e,o=mi(i.pathname||"/",n);if(o==null)return null;let l=Ry(t);nw(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=hw(o);u=fw(l[d],h,r)}return u}function Ry(t,e=[],n=[],r="",i=!1){let o=(l,u,d=i,h)=>{let v={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;nn(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let m=fi([r,v.relativePath]),w=n.concat(v);l.children&&l.children.length>0&&(nn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ry(l.children,e,w,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:cw(m,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of My(l.path))o(l,u,!0,d)}),e}function My(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=My(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function nw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rw=/^:[\w-]+$/,aw=3,iw=2,ow=1,sw=10,lw=-2,Yv=t=>t==="*";function cw(t,e){let n=t.split("/"),r=n.length;return n.some(Yv)&&(r+=lw),e&&(r+=iw),n.filter(i=>!Yv(i)).reduce((i,o)=>i+(rw.test(o)?aw:o===""?ow:sw),r)}function uw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fw(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",m=Cf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},v),w=d.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Cf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:fi([o,m.pathname]),pathnameBase:yw(fi([o,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(o=fi([o,m.pathnameBase]))}return l}function Cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:v,isOptional:m},w)=>{if(v==="*"){let _=u[w]||"";l=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const E=u[w];return m&&!E?h[v]=void 0:h[v]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function dw(t,e=!1,n=!0){Wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gw=t=>pw.test(t);function vw(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hl(t):t,o;if(n)if(gw(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Wr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=Wv(n.substring(1),"/"):o=Wv(n,e)}else o=e;return{pathname:o,search:xw(r),hash:bw(i)}}function Wv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r1(t){let e=mw(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function a1(t,e,n,r=!1){let i;typeof t=="string"?i=hl(t):(i={...t},nn(!i.pathname||!i.pathname.includes("?"),Z0("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Z0("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Z0("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),m-=1;i.pathname=w.join("/")}u=m>=0?e[m]:"/"}let d=vw(i,u),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||v)&&(d.pathname+="/"),d}var fi=t=>t.join("/").replace(/\/\/+/g,"/"),yw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ww(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jy=["POST","PUT","PATCH","DELETE"];new Set(jy);var Ew=["GET",...jy];new Set(Ew);var pl=j.createContext(null);pl.displayName="DataRouter";var jf=j.createContext(null);jf.displayName="DataRouterState";j.createContext(!1);var By=j.createContext({isTransitioning:!1});By.displayName="ViewTransition";var _w=j.createContext(new Map);_w.displayName="Fetchers";var Aw=j.createContext(null);Aw.displayName="Await";var ua=j.createContext(null);ua.displayName="Navigation";var Uc=j.createContext(null);Uc.displayName="Location";var fa=j.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var i1=j.createContext(null);i1.displayName="RouteError";function Sw(t,{relative:e}={}){nn(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(ua),{hash:i,pathname:o,search:l}=zc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:fi([n,o])),r.createHref({pathname:u,search:l,hash:i})}function gl(){return j.useContext(Uc)!=null}function bi(){return nn(gl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Uc).location}var Ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ky(t){j.useContext(ua).static||j.useLayoutEffect(t)}function Jt(){let{isDataRoute:t}=j.useContext(fa);return t?Pw():Cw()}function Cw(){nn(gl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(pl),{basename:e,navigator:n}=j.useContext(ua),{matches:r}=j.useContext(fa),{pathname:i}=bi(),o=JSON.stringify(r1(r)),l=j.useRef(!1);return ky(()=>{l.current=!0}),j.useCallback((d,h={})=>{if(Wr(l.current,Ly),!l.current)return;if(typeof d=="number"){n.go(d);return}let v=a1(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(h.replace?n.replace:n.push)(v,h.state,h)},[e,n,o,i,t])}j.createContext(null);function wi(){let{matches:t}=j.useContext(fa),e=t[t.length-1];return e?e.params:{}}function zc(t,{relative:e}={}){let{matches:n}=j.useContext(fa),{pathname:r}=bi(),i=JSON.stringify(r1(n));return j.useMemo(()=>a1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Nw(t,e){return Py(t,e)}function Py(t,e,n,r,i){nn(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(ua),{matches:l}=j.useContext(fa),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",v=u?u.pathnameBase:"/",m=u&&u.route;{let M=m&&m.path||"";Fy(h,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=bi(),E;if(e){let M=typeof e=="string"?hl(e):e;nn(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=w;let _=E.pathname||"/",S=_;if(v!=="/"){let M=v.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=Iy(t,{pathname:S});Wr(m||T!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Wr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Rw(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:fi([v,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:fi([v,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,n,r,i);return e&&R?j.createElement(Uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Ow(){let t=kw(),e=ww(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,l)}var Tw=j.createElement(Ow,null),Dw=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(fa.Provider,{value:this.props.routeContext},j.createElement(i1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iw({routeContext:t,match:e,children:n}){let r=j.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(fa.Provider,{value:t},n)}function Rw(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let v=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);nn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let u=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let m=o[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=v),m.route.id){let{loaderData:w,errors:E}=n,_=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=n&&r?(v,m)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return o.reduceRight((v,m,w)=>{let E,_=!1,S=null,T=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||Tw,u&&(d<0&&w===0?(Fy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):d===w&&(_=!0,T=m.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,w+1)),M=()=>{let P;return E?P=S:_?P=T:m.route.Component?P=j.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=v,j.createElement(Iw,{match:m,routeContext:{outlet:v,matches:R,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?j.createElement(Dw,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:M(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:h}):M()},null)}function o1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(t){let e=j.useContext(pl);return nn(e,o1(t)),e}function jw(t){let e=j.useContext(jf);return nn(e,o1(t)),e}function Bw(t){let e=j.useContext(fa);return nn(e,o1(t)),e}function s1(t){let e=Bw(t),n=e.matches[e.matches.length-1];return nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lw(){return s1("useRouteId")}function kw(){let t=j.useContext(i1),e=jw("useRouteError"),n=s1("useRouteError");return t!==void 0?t:e.errors?.[n]}function Pw(){let{router:t}=Mw("useNavigate"),e=s1("useNavigate"),n=j.useRef(!1);return ky(()=>{n.current=!0}),j.useCallback(async(i,o={})=>{Wr(n.current,Ly),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Zv={};function Fy(t,e,n){!e&&!Zv[t]&&(Zv[t]=!0,Wr(!1,n))}j.memo(Fw);function Fw({routes:t,future:e,state:n,unstable_onError:r}){return Py(t,void 0,n,r,e)}function Ah({to:t,replace:e,state:n,relative:r}){nn(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(ua);Wr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(fa),{pathname:l}=bi(),u=Jt(),d=a1(t,r1(o),l,r==="path"),h=JSON.stringify(d);return j.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Ot(t){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uw({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){nn(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=hl(n));let{pathname:d="/",search:h="",hash:v="",state:m=null,key:w="default"}=n,E=j.useMemo(()=>{let _=mi(d,l);return _==null?null:{location:{pathname:_,search:h,hash:v,state:m,key:w},navigationType:r}},[l,d,h,v,m,w,r]);return Wr(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:j.createElement(ua.Provider,{value:u},j.createElement(Uc.Provider,{children:e,value:E}))}function zw({children:t,location:e}){return Nw(Sh(t),e)}function Sh(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,Sh(r.props.children,o));return}nn(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sh(r.props.children,o)),n.push(l)}),n}var mf="get",yf="application/x-www-form-urlencoded";function Bf(t){return t!=null&&typeof t.tagName=="string"}function Hw(t){return Bf(t)&&t.tagName.toLowerCase()==="button"}function Vw(t){return Bf(t)&&t.tagName.toLowerCase()==="form"}function qw(t){return Bf(t)&&t.tagName.toLowerCase()==="input"}function Gw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xw(t,e){return t.button===0&&(!e||e==="_self")&&!Gw(t)}var cf=null;function Kw(){if(cf===null)try{new FormData(document.createElement("form"),0),cf=!1}catch{cf=!0}return cf}var $w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Q0(t){return t!=null&&!$w.has(t)?(Wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):t}function Yw(t,e){let n,r,i,o,l;if(Vw(t)){let u=t.getAttribute("action");r=u?mi(u,e):null,n=t.getAttribute("method")||mf,i=Q0(t.getAttribute("enctype"))||yf,o=new FormData(t)}else if(Hw(t)||qw(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?mi(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||mf,i=Q0(t.getAttribute("formenctype"))||Q0(u.getAttribute("enctype"))||yf,o=new FormData(u,t),!Kw()){let{name:h,type:v,value:m}=t;if(v==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,m)}}else{if(Bf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mf,r=null,i=yf,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ww(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Zw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Jw(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Zw(o,n);return l.links?l.links():[]}return[]}));return r3(r.flat(1).filter(Qw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Qv(t,e,n,r,i,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function e3(t,e,{includeHydrateFallback:n}={}){return t3(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function t3(t){return[...new Set(t)]}function n3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function r3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(n3(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Uy(){let t=j.useContext(pl);return l1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a3(){let t=j.useContext(jf);return l1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c1=j.createContext(void 0);c1.displayName="FrameworkContext";function zy(){let t=j.useContext(c1);return l1(t,"You must render this element inside a <HydratedRouter> element"),t}function i3(t,e){let n=j.useContext(c1),[r,i]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:v,onTouchStart:m}=e,w=j.useRef(null);j.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=R=>{R.forEach(M=>{l(M.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[t]),j.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Cc(u,E),onBlur:Cc(d,_),onMouseEnter:Cc(h,E),onMouseLeave:Cc(v,_),onTouchStart:Cc(m,E)}]:[!1,w,{}]}function Cc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function o3({page:t,...e}){let{router:n}=Uy(),r=j.useMemo(()=>Iy(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(l3,{page:t,matches:r,...e}):null}function s3(t){let{manifest:e,routeModules:n}=zy(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return Jw(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function l3({page:t,matches:e,...n}){let r=bi(),{manifest:i,routeModules:o}=zy(),{basename:l}=Uy(),{loaderData:u,matches:d}=a3(),h=j.useMemo(()=>Qv(t,e,d,i,r,"data"),[t,e,d,i,r]),v=j.useMemo(()=>Qv(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(R=>{let M=i.routes[R.route.id];!M||!M.hasLoader||(!h.some(P=>P.route.id===R.route.id)&&R.route.id in u&&o[R.route.id]?.shouldRevalidate||M.hasClientLoader?S=!0:_.add(R.route.id))}),_.size===0)return[];let T=Ww(t,l,"data");return S&&_.size>0&&T.searchParams.set("_routes",e.filter(R=>_.has(R.route.id)).map(R=>R.route.id).join(",")),[T.pathname+T.search]},[l,u,r,i,h,e,t,o]),w=j.useMemo(()=>e3(v,i),[v,i]),E=s3(v);return j.createElement(j.Fragment,null,m.map(_=>j.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),w.map(_=>j.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),E.map(({key:_,link:S})=>j.createElement("link",{key:_,nonce:n.nonce,...S})))}function c3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hy&&(window.__reactRouterVersion="7.9.6")}catch{}function u3({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=Zb({window:n,v5Compat:!0}));let i=r.current,[o,l]=j.useState({action:i.action,location:i.location}),u=j.useCallback(d=>{j.startTransition(()=>l(d))},[l]);return j.useLayoutEffect(()=>i.listen(u),[i,u]),j.createElement(Uw,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:v,viewTransition:m,...w},E){let{basename:_}=j.useContext(ua),S=typeof h=="string"&&Vy.test(h),T,R=!1;if(typeof h=="string"&&S&&(T=h,Hy))try{let Te=new URL(window.location.href),Oe=h.startsWith("//")?new URL(Te.protocol+h):new URL(h),Ke=mi(Oe.pathname,_);Oe.origin===Te.origin&&Ke!=null?h=Ke+Oe.search+Oe.hash:R=!0}catch{Wr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Sw(h,{relative:i}),[P,B,Y]=i3(r,w),se=p3(h,{replace:l,state:u,target:d,preventScrollReset:v,relative:i,viewTransition:m});function ee(Te){e&&e(Te),Te.defaultPrevented||se(Te)}let be=j.createElement("a",{...w,...Y,href:T||M,onClick:R||o?e:ee,ref:c3(E,B),target:d,"data-discover":!S&&n==="render"?"true":void 0});return P&&!S?j.createElement(j.Fragment,null,be,j.createElement(o3,{page:M})):be});Kn.displayName="Link";var f3=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},v){let m=zc(l,{relative:h.relative}),w=bi(),E=j.useContext(jf),{navigator:_,basename:S}=j.useContext(ua),T=E!=null&&x3(m)&&u===!0,R=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,M=w.pathname,P=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(M=M.toLowerCase(),P=P?P.toLowerCase():null,R=R.toLowerCase()),P&&S&&(P=mi(P,S)||P);const B=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let Y=M===R||!i&&M.startsWith(R)&&M.charAt(B)==="/",se=P!=null&&(P===R||!i&&P.startsWith(R)&&P.charAt(R.length)==="/"),ee={isActive:Y,isPending:se,isTransitioning:T},be=Y?e:void 0,Te;typeof r=="function"?Te=r(ee):Te=[r,Y?"active":null,se?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof o=="function"?o(ee):o;return j.createElement(Kn,{...h,"aria-current":be,className:Te,ref:v,style:Oe,to:l,viewTransition:u},typeof d=="function"?d(ee):d)});f3.displayName="NavLink";var d3=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=mf,action:u,onSubmit:d,relative:h,preventScrollReset:v,viewTransition:m,...w},E)=>{let _=m3(),S=y3(u,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&Vy.test(u),M=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let B=P.nativeEvent.submitter,Y=B?.getAttribute("formmethod")||l;_(B||P.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:i,state:o,relative:h,preventScrollReset:v,viewTransition:m})};return j.createElement("form",{ref:E,method:T,action:S,onSubmit:r?d:M,...w,"data-discover":!R&&t==="render"?"true":void 0})});d3.displayName="Form";function h3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qy(t){let e=j.useContext(pl);return nn(e,h3(t)),e}function p3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Jt(),d=bi(),h=zc(t,{relative:o});return j.useCallback(v=>{if(Xw(v,e)){v.preventDefault();let m=n!==void 0?n:Bc(d)===Bc(h);u(t,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,n,r,e,t,i,o,l])}var g3=0,v3=()=>`__${String(++g3)}__`;function m3(){let{router:t}=qy("useSubmit"),{basename:e}=j.useContext(ua),n=Lw();return j.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=Yw(r,e);if(i.navigate===!1){let v=i.fetcherKey||v3();await t.fetch(v,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function y3(t,{relative:e}={}){let{basename:n}=j.useContext(ua),r=j.useContext(fa);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...zc(t||".",{relative:e})},l=bi();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(v=>v==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let v=u.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:fi([n,o.pathname])),Bc(o)}function x3(t,{relative:e}={}){let n=j.useContext(By);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qy("useViewTransitionState"),i=zc(t,{relative:e});if(!n.isTransitioning)return!1;let o=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cf(i.pathname,l)!=null||Cf(i.pathname,o)!=null}function Gy(t,e){return function(){return t.apply(e,arguments)}}const{toString:b3}=Object.prototype,{getPrototypeOf:u1}=Object,{iterator:Lf,toStringTag:Xy}=Symbol,kf=(t=>e=>{const n=b3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),da=t=>(t=t.toLowerCase(),e=>kf(e)===t),Pf=t=>e=>typeof e===t,{isArray:vl}=Array,ul=Pf("undefined");function Hc(t){return t!==null&&!ul(t)&&t.constructor!==null&&!ul(t.constructor)&&_r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ky=da("ArrayBuffer");function w3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ky(t.buffer),e}const E3=Pf("string"),_r=Pf("function"),$y=Pf("number"),Vc=t=>t!==null&&typeof t=="object",_3=t=>t===!0||t===!1,xf=t=>{if(kf(t)!=="object")return!1;const e=u1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Xy in t)&&!(Lf in t)},A3=t=>{if(!Vc(t)||Hc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},S3=da("Date"),C3=da("File"),N3=da("Blob"),O3=da("FileList"),T3=t=>Vc(t)&&_r(t.pipe),D3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_r(t.append)&&((e=kf(t))==="formdata"||e==="object"&&_r(t.toString)&&t.toString()==="[object FormData]"))},I3=da("URLSearchParams"),[R3,M3,j3,B3]=["ReadableStream","Request","Response","Headers"].map(da),L3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),vl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Hc(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function Yy(t,e){if(Hc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wy=t=>!ul(t)&&t!==rs;function Ch(){const{caseless:t,skipUndefined:e}=Wy(this)&&this||{},n={},r=(i,o)=>{const l=t&&Yy(n,o)||o;xf(n[l])&&xf(i)?n[l]=Ch(n[l],i):xf(i)?n[l]=Ch({},i):vl(i)?n[l]=i.slice():(!e||!ul(i))&&(n[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&qc(arguments[i],r);return n}const k3=(t,e,n,{allOwnKeys:r}={})=>(qc(e,(i,o)=>{n&&_r(i)?t[o]=Gy(i,n):t[o]=i},{allOwnKeys:r}),t),P3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),F3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},U3=(t,e,n,r)=>{let i,o,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&u1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},z3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},H3=t=>{if(!t)return null;if(vl(t))return t;let e=t.length;if(!$y(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},V3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&u1(Uint8Array)),q3=(t,e)=>{const r=(t&&t[Lf]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},G3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},X3=da("HTMLFormElement"),K3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Jv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$3=da("RegExp"),Zy=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qc(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},Y3=t=>{Zy(t,(e,n)=>{if(_r(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(_r(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},W3=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return vl(t)?r(t):r(String(t).split(e)),n},Z3=()=>{},Q3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function J3(t){return!!(t&&_r(t.append)&&t[Xy]==="FormData"&&t[Lf])}const eE=t=>{const e=new Array(10),n=(r,i)=>{if(Vc(r)){if(e.indexOf(r)>=0)return;if(Hc(r))return r;if(!("toJSON"in r)){e[i]=r;const o=vl(r)?[]:{};return qc(r,(l,u)=>{const d=n(l,i+1);!ul(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return n(t,0)},tE=da("AsyncFunction"),nE=t=>t&&(Vc(t)||_r(t))&&_r(t.then)&&_r(t.catch),Qy=((t,e)=>t?setImmediate:e?((n,r)=>(rs.addEventListener("message",({source:i,data:o})=>{i===rs&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_r(rs.postMessage)),rE=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||Qy,aE=t=>t!=null&&_r(t[Lf]),ce={isArray:vl,isArrayBuffer:Ky,isBuffer:Hc,isFormData:D3,isArrayBufferView:w3,isString:E3,isNumber:$y,isBoolean:_3,isObject:Vc,isPlainObject:xf,isEmptyObject:A3,isReadableStream:R3,isRequest:M3,isResponse:j3,isHeaders:B3,isUndefined:ul,isDate:S3,isFile:C3,isBlob:N3,isRegExp:$3,isFunction:_r,isStream:T3,isURLSearchParams:I3,isTypedArray:V3,isFileList:O3,forEach:qc,merge:Ch,extend:k3,trim:L3,stripBOM:P3,inherits:F3,toFlatObject:U3,kindOf:kf,kindOfTest:da,endsWith:z3,toArray:H3,forEachEntry:q3,matchAll:G3,isHTMLForm:X3,hasOwnProperty:Jv,hasOwnProp:Jv,reduceDescriptors:Zy,freezeMethods:Y3,toObjectSet:W3,toCamelCase:K3,noop:Z3,toFiniteNumber:Q3,findKey:Yy,global:rs,isContextDefined:Wy,isSpecCompliantForm:J3,toJSONObject:eE,isAsyncFn:tE,isThenable:nE,setImmediate:Qy,asap:rE,isIterable:aE};function rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ce.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const Jy=rt.prototype,ex={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ex[t]={value:t}});Object.defineProperties(rt,ex);Object.defineProperty(Jy,"isAxiosError",{value:!0});rt.from=(t,e,n,r,i,o)=>{const l=Object.create(Jy);ce.toFlatObject(t,l,function(v){return v!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return rt.call(l,u,d,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const iE=null;function Nh(t){return ce.isPlainObject(t)||ce.isArray(t)}function tx(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function em(t,e,n){return t?t.concat(e).map(function(i,o){return i=tx(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function oE(t){return ce.isArray(t)&&!t.some(Nh)}const sE=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function Ff(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!ce.isUndefined(T[S])});const r=n.metaTokens,i=n.visitor||v,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(ce.isDate(_))return _.toISOString();if(ce.isBoolean(_))return _.toString();if(!d&&ce.isBlob(_))throw new rt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(_)||ce.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,S,T){let R=_;if(_&&!T&&typeof _=="object"){if(ce.endsWith(S,"{}"))S=r?S:S.slice(0,-2),_=JSON.stringify(_);else if(ce.isArray(_)&&oE(_)||(ce.isFileList(_)||ce.endsWith(S,"[]"))&&(R=ce.toArray(_)))return S=tx(S),R.forEach(function(P,B){!(ce.isUndefined(P)||P===null)&&e.append(l===!0?em([S],B,o):l===null?S:S+"[]",h(P))}),!1}return Nh(_)?!0:(e.append(em(T,S,o),h(_)),!1)}const m=[],w=Object.assign(sE,{defaultVisitor:v,convertValue:h,isVisitable:Nh});function E(_,S){if(!ce.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(_),ce.forEach(_,function(R,M){(!(ce.isUndefined(R)||R===null)&&i.call(e,R,ce.isString(M)?M.trim():M,S,w))===!0&&E(R,S?S.concat(M):[M])}),m.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return E(t),e}function tm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function f1(t,e){this._pairs=[],t&&Ff(t,this,e)}const nx=f1.prototype;nx.append=function(e,n){this._pairs.push([e,n])};nx.toString=function(e){const n=e?function(r){return e.call(this,r,tm)}:tm;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rx(t,e,n){if(!e)return t;const r=n&&n.encode||lE;ce.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=ce.isURLSearchParams(e)?e.toString():new f1(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class nm{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ax={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cE=typeof URLSearchParams<"u"?URLSearchParams:f1,uE=typeof FormData<"u"?FormData:null,fE=typeof Blob<"u"?Blob:null,dE={isBrowser:!0,classes:{URLSearchParams:cE,FormData:uE,Blob:fE},protocols:["http","https","file","blob","url","data"]},d1=typeof window<"u"&&typeof document<"u",Oh=typeof navigator=="object"&&navigator||void 0,hE=d1&&(!Oh||["ReactNative","NativeScript","NS"].indexOf(Oh.product)<0),pE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gE=d1&&window.location.href||"http://localhost",vE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d1,hasStandardBrowserEnv:hE,hasStandardBrowserWebWorkerEnv:pE,navigator:Oh,origin:gE},Symbol.toStringTag,{value:"Module"})),rr={...vE,...dE};function mE(t,e){return Ff(t,new rr.classes.URLSearchParams,{visitor:function(n,r,i,o){return rr.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function yE(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xE(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ix(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&ce.isArray(i)?i.length:l,d?(ce.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!ce.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&ce.isArray(i[l])&&(i[l]=xE(i[l])),!u)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(r,i)=>{e(yE(r),i,n,0)}),n}return null}function bE(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Gc={transitional:ax,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ce.isObject(e);if(o&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return i?JSON.stringify(ix(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mE(e,this.formSerializer).toString();if((u=ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ff(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),bE(e)):e}],transformResponse:[function(e){const n=this.transitional||Gc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?rt.from(u,rt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Gc.headers[t]={}});const wE=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EE=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&wE[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},rm=Symbol("internals");function Nc(t){return t&&String(t).trim().toLowerCase()}function bf(t){return t===!1||t==null?t:ce.isArray(t)?t.map(bf):String(t)}function _E(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const AE=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function J0(t,e,n,r,i){if(ce.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ce.isString(e)){if(ce.isString(r))return e.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(e)}}function SE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function CE(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Ar=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,d,h){const v=Nc(d);if(!v)throw new Error("header name must be a non-empty string");const m=ce.findKey(i,v);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||d]=bf(u))}const l=(u,d)=>ce.forEach(u,(h,v)=>o(h,v,d));if(ce.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ce.isString(e)&&(e=e.trim())&&!AE(e))l(EE(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let u={},d,h;for(const v of e){if(!ce.isArray(v))throw TypeError("Object iterator must return a key-value pair");u[h=v[0]]=(d=u[h])?ce.isArray(d)?[...d,v[1]]:[d,v[1]]:v[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Nc(e),e){const r=ce.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _E(i);if(ce.isFunction(n))return n.call(this,i,r);if(ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Nc(e),e){const r=ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||J0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Nc(l),l){const u=ce.findKey(r,l);u&&(!n||J0(r,r[u],u,n))&&(delete r[u],i=!0)}}return ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||J0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ce.forEach(this,(i,o)=>{const l=ce.findKey(r,o);if(l){n[l]=bf(i),delete n[o];return}const u=e?SE(o):String(o).trim();u!==o&&delete n[o],n[u]=bf(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[rm]=this[rm]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Nc(l);r[u]||(CE(i,l),r[u]=!0)}return ce.isArray(e)?e.forEach(o):o(e),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Ar.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ce.freezeMethods(Ar);function eh(t,e){const n=this||Gc,r=e||n,i=Ar.from(r.headers);let o=r.data;return ce.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function ox(t){return!!(t&&t.__CANCEL__)}function ml(t,e,n){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(ml,rt,{__CANCEL__:!0});function sx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NE(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OE(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),v=r[o];l||(l=h),n[i]=d,r[i]=h;let m=o,w=0;for(;m!==i;)w+=n[m++],m=m%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-l<e)return;const E=v&&h-v;return E?Math.round(w*1e3/E):void 0}}function TE(t,e){let n=0,r=1e3/e,i,o;const l=(h,v=Date.now())=>{n=v,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const v=Date.now(),m=v-n;m>=r?l(h,v):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},r-m)))},()=>i&&l(i)]}const Nf=(t,e,n=3)=>{let r=0;const i=OE(50,250);return TE(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=i(d),v=l<=u;r=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&v?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(m)},n)},am=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},im=t=>(...e)=>ce.asap(()=>t(...e)),DE=rr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,rr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,IE=rr.hasStandardBrowserEnv?{write(t,e,n,r,i,o,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];ce.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),ce.isString(r)&&u.push(`path=${r}`),ce.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),ce.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function RE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ME(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lx(t,e,n){let r=!RE(e);return t&&(r||n==!1)?ME(t,e):e}const om=t=>t instanceof Ar?{...t}:t;function ls(t,e){e=e||{};const n={};function r(h,v,m,w){return ce.isPlainObject(h)&&ce.isPlainObject(v)?ce.merge.call({caseless:w},h,v):ce.isPlainObject(v)?ce.merge({},v):ce.isArray(v)?v.slice():v}function i(h,v,m,w){if(ce.isUndefined(v)){if(!ce.isUndefined(h))return r(void 0,h,m,w)}else return r(h,v,m,w)}function o(h,v){if(!ce.isUndefined(v))return r(void 0,v)}function l(h,v){if(ce.isUndefined(v)){if(!ce.isUndefined(h))return r(void 0,h)}else return r(void 0,v)}function u(h,v,m){if(m in e)return r(h,v);if(m in t)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,v,m)=>i(om(h),om(v),m,!0)};return ce.forEach(Object.keys({...t,...e}),function(v){const m=d[v]||i,w=m(t[v],e[v],v);ce.isUndefined(w)&&m!==u||(n[v]=w)}),n}const cx=t=>{const e=ls({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=Ar.from(l),e.url=rx(lx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ce.isFormData(n)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ce.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([v,m])=>{h.includes(v.toLowerCase())&&l.set(v,m)})}}if(rr.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(e)),r||r!==!1&&DE(e.url))){const d=i&&o&&IE.read(o);d&&l.set(i,d)}return e},jE=typeof XMLHttpRequest<"u",BE=jE&&function(t){return new Promise(function(n,r){const i=cx(t);let o=i.data;const l=Ar.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,v,m,w,E,_;function S(){E&&E(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(v),i.signal&&i.signal.removeEventListener("abort",v)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function R(){if(!T)return;const P=Ar.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),Y={data:!u||u==="text"||u==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:P,config:t,request:T};sx(function(ee){n(ee),S()},function(ee){r(ee),S()},Y),T=null}"onloadend"in T?T.onloadend=R:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(R)},T.onabort=function(){T&&(r(new rt("Request aborted",rt.ECONNABORTED,t,T)),T=null)},T.onerror=function(B){const Y=B&&B.message?B.message:"Network Error",se=new rt(Y,rt.ERR_NETWORK,t,T);se.event=B||null,r(se),T=null},T.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Y=i.transitional||ax;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new rt(B,Y.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,T)),T=null},o===void 0&&l.setContentType(null),"setRequestHeader"in T&&ce.forEach(l.toJSON(),function(B,Y){T.setRequestHeader(Y,B)}),ce.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),u&&u!=="json"&&(T.responseType=i.responseType),h&&([w,_]=Nf(h,!0),T.addEventListener("progress",w)),d&&T.upload&&([m,E]=Nf(d),T.upload.addEventListener("progress",m),T.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(v=P=>{T&&(r(!P||P.type?new ml(null,t,T):P),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(v),i.signal&&(i.signal.aborted?v():i.signal.addEventListener("abort",v)));const M=NE(i.url);if(M&&rr.protocols.indexOf(M)===-1){r(new rt("Unsupported protocol "+M+":",rt.ERR_BAD_REQUEST,t));return}T.send(o||null)})},LE=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const v=h instanceof Error?h:this.reason;r.abort(v instanceof rt?v:new ml(v instanceof Error?v.message:v))}};let l=e&&setTimeout(()=>{l=null,o(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ce.asap(u),d}},kE=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},PE=async function*(t,e){for await(const n of FE(t))yield*kE(n,e)},FE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},sm=(t,e,n,r)=>{const i=PE(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:v}=await i.next();if(h){u(),d.close();return}let m=v.byteLength;if(n){let w=o+=m;n(w)}d.enqueue(new Uint8Array(v))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},lm=64*1024,{isFunction:uf}=ce,UE=(({Request:t,Response:e})=>({Request:t,Response:e}))(ce.global),{ReadableStream:cm,TextEncoder:um}=ce.global,fm=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zE=t=>{t=ce.merge.call({skipUndefined:!0},UE,t);const{fetch:e,Request:n,Response:r}=t,i=e?uf(e):typeof fetch=="function",o=uf(n),l=uf(r);if(!i)return!1;const u=i&&uf(cm),d=i&&(typeof um=="function"?(_=>S=>_.encode(S))(new um):async _=>new Uint8Array(await new n(_).arrayBuffer())),h=o&&u&&fm(()=>{let _=!1;const S=new n(rr.origin,{body:new cm,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!S}),v=l&&u&&fm(()=>ce.isReadableStream(new r("").body)),m={stream:v&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!m[_]&&(m[_]=(S,T)=>{let R=S&&S[_];if(R)return R.call(S);throw new rt(`Response type '${_}' is not supported`,rt.ERR_NOT_SUPPORT,T)})});const w=async _=>{if(_==null)return 0;if(ce.isBlob(_))return _.size;if(ce.isSpecCompliantForm(_))return(await new n(rr.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(_)||ce.isArrayBuffer(_))return _.byteLength;if(ce.isURLSearchParams(_)&&(_=_+""),ce.isString(_))return(await d(_)).byteLength},E=async(_,S)=>{const T=ce.toFiniteNumber(_.getContentLength());return T??w(S)};return async _=>{let{url:S,method:T,data:R,signal:M,cancelToken:P,timeout:B,onDownloadProgress:Y,onUploadProgress:se,responseType:ee,headers:be,withCredentials:Te="same-origin",fetchOptions:Oe}=cx(_),Ke=e||fetch;ee=ee?(ee+"").toLowerCase():"text";let Pe=LE([M,P&&P.toAbortSignal()],B),Ve=null;const dt=Pe&&Pe.unsubscribe&&(()=>{Pe.unsubscribe()});let At;try{if(se&&h&&T!=="get"&&T!=="head"&&(At=await E(be,R))!==0){let F=new n(S,{method:"POST",body:R,duplex:"half"}),he;if(ce.isFormData(R)&&(he=F.headers.get("content-type"))&&be.setContentType(he),F.body){const[Ae,Re]=am(At,Nf(im(se)));R=sm(F.body,lm,Ae,Re)}}ce.isString(Te)||(Te=Te?"include":"omit");const le=o&&"credentials"in n.prototype,xe={...Oe,signal:Pe,method:T.toUpperCase(),headers:be.normalize().toJSON(),body:R,duplex:"half",credentials:le?Te:void 0};Ve=o&&new n(S,xe);let Ce=await(o?Ke(Ve,Oe):Ke(S,xe));const ve=v&&(ee==="stream"||ee==="response");if(v&&(Y||ve&&dt)){const F={};["status","statusText","headers"].forEach(He=>{F[He]=Ce[He]});const he=ce.toFiniteNumber(Ce.headers.get("content-length")),[Ae,Re]=Y&&am(he,Nf(im(Y),!0))||[];Ce=new r(sm(Ce.body,lm,Ae,()=>{Re&&Re(),dt&&dt()}),F)}ee=ee||"text";let Ne=await m[ce.findKey(m,ee)||"text"](Ce,_);return!ve&&dt&&dt(),await new Promise((F,he)=>{sx(F,he,{data:Ne,headers:Ar.from(Ce.headers),status:Ce.status,statusText:Ce.statusText,config:_,request:Ve})})}catch(le){throw dt&&dt(),le&&le.name==="TypeError"&&/Load failed|fetch/i.test(le.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,_,Ve),{cause:le.cause||le}):rt.from(le,le&&le.code,_,Ve)}}},HE=new Map,ux=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let l=o.length,u=l,d,h,v=HE;for(;u--;)d=o[u],h=v.get(d),h===void 0&&v.set(d,h=u?new Map:zE(e)),v=h;return h};ux();const h1={http:iE,xhr:BE,fetch:{get:ux}};ce.forEach(h1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dm=t=>`- ${t}`,VE=t=>ce.isFunction(t)||t===null||t===!1;function qE(t,e){t=ce.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!VE(r)&&(i=h1[(u=String(r)).toLowerCase()],i===void 0))throw new rt(`Unknown adapter '${u}'`);if(i&&(ce.isFunction(i)||(i=i.get(e))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(dm).join(`
`):" "+dm(l[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const fx={getAdapter:qE,adapters:h1};function th(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ml(null,t)}function hm(t){return th(t),t.headers=Ar.from(t.headers),t.data=eh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fx.getAdapter(t.adapter||Gc.adapter,t)(t).then(function(r){return th(t),r.data=eh.call(t,t.transformResponse,r),r.headers=Ar.from(r.headers),r},function(r){return ox(r)||(th(t),r&&r.response&&(r.response.data=eh.call(t,t.transformResponse,r.response),r.response.headers=Ar.from(r.response.headers))),Promise.reject(r)})}const dx="1.13.2",Uf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const pm={};Uf.transitional=function(e,n,r){function i(o,l){return"[Axios v"+dx+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new rt(i(l," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!pm[l]&&(pm[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};Uf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function GE(t,e,n){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new rt("option "+o+" must be "+d,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+o,rt.ERR_BAD_OPTION)}}const wf={assertOptions:GE,validators:Uf},Ta=wf.validators;let os=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nm,response:new nm}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ls(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&wf.assertOptions(r,{silentJSONParsing:Ta.transitional(Ta.boolean),forcedJSONParsing:Ta.transitional(Ta.boolean),clarifyTimeoutError:Ta.transitional(Ta.boolean)},!1),i!=null&&(ce.isFunction(i)?n.paramsSerializer={serialize:i}:wf.assertOptions(i,{encode:Ta.function,serialize:Ta.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wf.assertOptions(n,{baseUrl:Ta.spelling("baseURL"),withXsrfToken:Ta.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ce.merge(o.common,o[n.method]);o&&ce.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),n.headers=Ar.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let v,m=0,w;if(!d){const _=[hm.bind(this),void 0];for(_.unshift(...u),_.push(...h),w=_.length,v=Promise.resolve(n);m<w;)v=v.then(_[m++],_[m++]);return v}w=u.length;let E=n;for(;m<w;){const _=u[m++],S=u[m++];try{E=_(E)}catch(T){S.call(this,T);break}}try{v=hm.call(this,E)}catch(_){return Promise.reject(_)}for(m=0,w=h.length;m<w;)v=v.then(h[m++],h[m++]);return v}getUri(e){e=ls(this.defaults,e);const n=lx(e.baseURL,e.url,e.allowAbsoluteUrls);return rx(n,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){os.prototype[e]=function(n,r){return this.request(ls(r||{},{method:e,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(ls(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}os.prototype[e]=n(),os.prototype[e+"Form"]=n(!0)});let XE=class hx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new ml(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hx(function(i){e=i}),cancel:e}}};function KE(t){return function(n){return t.apply(null,n)}}function $E(t){return ce.isObject(t)&&t.isAxiosError===!0}const Th={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Th).forEach(([t,e])=>{Th[e]=t});function px(t){const e=new os(t),n=Gy(os.prototype.request,e);return ce.extend(n,os.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return px(ls(t,i))},n}const hn=px(Gc);hn.Axios=os;hn.CanceledError=ml;hn.CancelToken=XE;hn.isCancel=ox;hn.VERSION=dx;hn.toFormData=Ff;hn.AxiosError=rt;hn.Cancel=hn.CanceledError;hn.all=function(e){return Promise.all(e)};hn.spread=KE;hn.isAxiosError=$E;hn.mergeConfig=ls;hn.AxiosHeaders=Ar;hn.formToJSON=t=>ix(ce.isHTMLForm(t)?new FormData(t):t);hn.getAdapter=fx.getAdapter;hn.HttpStatusCode=Th;hn.default=hn;const{Axios:j5,AxiosError:B5,CanceledError:L5,isCancel:k5,CancelToken:P5,VERSION:F5,all:U5,Cancel:z5,isAxiosError:H5,spread:V5,toFormData:q5,AxiosHeaders:G5,HttpStatusCode:X5,formToJSON:K5,getAdapter:$5,mergeConfig:Y5}=hn,Xe=hn.create({baseURL:"https:///back.52.3.56.173.nip.io",headers:{"Content-Type":"application/json"}});Xe.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});var Ef={exports:{}},YE=Ef.exports,gm;function WE(){return gm||(gm=1,(function(t,e){(function(n,r){t.exports=r()})(YE,function(){var n=function(g,x){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(A[O]=C[O])})(g,x)},r=function(){return(r=Object.assign||function(g){for(var x,A=1,C=arguments.length;A<C;A++)for(var O in x=arguments[A])Object.prototype.hasOwnProperty.call(x,O)&&(g[O]=x[O]);return g}).apply(this,arguments)};function i(g,x,A){for(var C,O=0,D=x.length;O<D;O++)!C&&O in x||((C=C||Array.prototype.slice.call(x,0,O))[O]=x[O]);return g.concat(C||Array.prototype.slice.call(x))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Fb,l=Object.keys,u=Array.isArray;function d(g,x){return typeof x!="object"||l(x).forEach(function(A){g[A]=x[A]}),g}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var h=Object.getPrototypeOf,v={}.hasOwnProperty;function m(g,x){return v.call(g,x)}function w(g,x){typeof x=="function"&&(x=x(h(g))),(typeof Reflect>"u"?l:Reflect.ownKeys)(x).forEach(function(A){_(g,A,x[A])})}var E=Object.defineProperty;function _(g,x,A,C){E(g,x,d(A&&m(A,"get")&&typeof A.get=="function"?{get:A.get,set:A.set,configurable:!0}:{value:A,configurable:!0,writable:!0},C))}function S(g){return{from:function(x){return g.prototype=Object.create(x.prototype),_(g.prototype,"constructor",g),{extend:w.bind(null,g.prototype)}}}}var T=Object.getOwnPropertyDescriptor,R=[].slice;function M(g,x,A){return R.call(g,x,A)}function P(g,x){return x(g)}function B(g){if(!g)throw new Error("Assertion Failed")}function Y(g){o.setImmediate?setImmediate(g):setTimeout(g,0)}function se(g,x){if(typeof x=="string"&&m(g,x))return g[x];if(!x)return g;if(typeof x!="string"){for(var A=[],C=0,O=x.length;C<O;++C){var D=se(g,x[C]);A.push(D)}return A}var L=x.indexOf(".");if(L!==-1){var U=g[x.substr(0,L)];return U==null?void 0:se(U,x.substr(L+1))}}function ee(g,x,A){if(g&&x!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof x!="string"&&"length"in x){B(typeof A!="string"&&"length"in A);for(var C=0,O=x.length;C<O;++C)ee(g,x[C],A[C])}else{var D,L,U=x.indexOf(".");U!==-1?(D=x.substr(0,U),(L=x.substr(U+1))===""?A===void 0?u(g)&&!isNaN(parseInt(D))?g.splice(D,1):delete g[D]:g[D]=A:ee(U=!(U=g[D])||!m(g,D)?g[D]={}:U,L,A)):A===void 0?u(g)&&!isNaN(parseInt(x))?g.splice(x,1):delete g[x]:g[x]=A}}function be(g){var x,A={};for(x in g)m(g,x)&&(A[x]=g[x]);return A}var Te=[].concat;function Oe(g){return Te.apply([],g)}var ha="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Oe([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(x){return x+g+"Array"})}))).filter(function(g){return o[g]}),Ke=new Set(ha.map(function(g){return o[g]})),Pe=null;function Ve(g){return Pe=new WeakMap,g=(function x(A){if(!A||typeof A!="object")return A;var C=Pe.get(A);if(C)return C;if(u(A)){C=[],Pe.set(A,C);for(var O=0,D=A.length;O<D;++O)C.push(x(A[O]))}else if(Ke.has(A.constructor))C=A;else{var L,U=h(A);for(L in C=U===Object.prototype?{}:Object.create(U),Pe.set(A,C),A)m(A,L)&&(C[L]=x(A[L]))}return C})(g),Pe=null,g}var dt={}.toString;function At(g){return dt.call(g).slice(8,-1)}var le=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xe=typeof le=="symbol"?function(g){var x;return g!=null&&(x=g[le])&&x.apply(g)}:function(){return null};function Ce(g,x){return x=g.indexOf(x),0<=x&&g.splice(x,1),0<=x}var ve={};function Ne(g){var x,A,C,O;if(arguments.length===1){if(u(g))return g.slice();if(this===ve&&typeof g=="string")return[g];if(O=xe(g)){for(A=[];!(C=O.next()).done;)A.push(C.value);return A}if(g==null)return[g];if(typeof(x=g.length)!="number")return[g];for(A=new Array(x);x--;)A[x]=g[x];return A}for(x=arguments.length,A=new Array(x);x--;)A[x]=arguments[x];return A}var F=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],lr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xo),he={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ae(g,x){this.name=g,this.message=x}function Re(g,x){return g+". Errors: "+Object.keys(x).map(function(A){return x[A].toString()}).filter(function(A,C,O){return O.indexOf(A)===C}).join(`
`)}function He(g,x,A,C){this.failures=x,this.failedKeys=C,this.successCount=A,this.message=Re(g,x)}function Je(g,x){this.name="BulkError",this.failures=Object.keys(x).map(function(A){return x[A]}),this.failuresByPos=x,this.message=Re(g,this.failures)}S(Ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(He).from(Ae),S(Je).from(Ae);var mt=lr.reduce(function(g,x){return g[x]=x+"Error",g},{}),kn=Ae,Be=lr.reduce(function(g,x){var A=x+"Error";function C(O,D){this.name=A,O?typeof O=="string"?(this.message="".concat(O).concat(D?`
 `+D:""),this.inner=D||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=he[x]||A,this.inner=null)}return S(C).from(kn),g[x]=C,g},{});Be.Syntax=SyntaxError,Be.Type=TypeError,Be.Range=RangeError;var Ei=xo.reduce(function(g,x){return g[x+"Error"]=Be[x],g},{}),Ma=lr.reduce(function(g,x){return["Syntax","Type","Range"].indexOf(x)===-1&&(g[x+"Error"]=Be[x]),g},{});function bt(){}function _i(g){return g}function ja(g,x){return g==null||g===_i?x:function(A){return x(g(A))}}function Qr(g,x){return function(){g.apply(this,arguments),x.apply(this,arguments)}}function wl(g,x){return g===bt?x:function(){var A=g.apply(this,arguments);A!==void 0&&(arguments[0]=A);var C=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var D=x.apply(this,arguments);return C&&(this.onsuccess=this.onsuccess?Qr(C,this.onsuccess):C),O&&(this.onerror=this.onerror?Qr(O,this.onerror):O),D!==void 0?D:A}}function Zf(g,x){return g===bt?x:function(){g.apply(this,arguments);var A=this.onsuccess,C=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?Qr(A,this.onsuccess):A),C&&(this.onerror=this.onerror?Qr(C,this.onerror):C)}}function Kc(g,x){return g===bt?x:function(A){var C=g.apply(this,arguments);d(A,C);var O=this.onsuccess,D=this.onerror;return this.onsuccess=null,this.onerror=null,A=x.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?Qr(O,this.onsuccess):O),D&&(this.onerror=this.onerror?Qr(D,this.onerror):D),C===void 0?A===void 0?void 0:A:d(C,A)}}function El(g,x){return g===bt?x:function(){return x.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function mo(g,x){return g===bt?x:function(){var A=g.apply(this,arguments);if(A&&typeof A.then=="function"){for(var C=this,O=arguments.length,D=new Array(O);O--;)D[O]=arguments[O];return A.then(function(){return x.apply(C,D)})}return x.apply(this,arguments)}}Ma.ModifyError=He,Ma.DexieError=Ae,Ma.BulkError=Je;var hr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $c(g){hr=g}var yo={},Zn=100,ha=typeof Promise>"u"?[]:(function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,h(g),g];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,h(x),g]})(),xo=ha[0],lr=ha[1],ha=ha[2],lr=lr&&lr.then,pa=xo&&xo.constructor,Ai=!!ha,bo=function(g,x){wo.push([g,x]),ps&&(queueMicrotask(Yc),ps=!1)},hs=!0,ps=!0,Ba=[],ga=[],Pn=_i,Fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:bt,pgp:!1,env:{},finalize:bt},Le=Fn,wo=[],La=0,gs=[];function je(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=Le;if(typeof g!="function"){if(g!==yo)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Jr(this,this._value))}this._state=null,this._value=null,++x.ref,(function A(C,O){try{O(function(D){if(C._state===null){if(D===C)throw new TypeError("A promise cannot be resolved with itself.");var L=C._lib&&va();D&&typeof D.then=="function"?A(C,function(U,V){D instanceof je?D._then(U,V):D.then(U,V)}):(C._state=!0,C._value=D,_o(C)),L&&Br()}},Jr.bind(null,C))}catch(D){Jr(C,D)}})(this,g)}var Si={get:function(){var g=Le,x=Co;function A(C,O){var D=this,L=!g.global&&(g!==Le||x!==Co),U=L&&!or(),V=new je(function(q,W){ka(D,new Eo(vs(C,g,L,U),vs(O,g,L,U),q,W,g))});return this._consoleTask&&(V._consoleTask=this._consoleTask),V}return A.prototype=yo,A},set:function(g){_(this,"then",g&&g.prototype===yo?Si:{get:function(){return g},set:Si.set})}};function Eo(g,x,A,C,O){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof x=="function"?x:null,this.resolve=A,this.reject=C,this.psd=O}function Jr(g,x){var A,C;ga.push(x),g._state===null&&(A=g._lib&&va(),x=Pn(x),g._state=!1,g._value=x,C=g,Ba.some(function(O){return O._value===C._value})||Ba.push(C),_o(g),A&&Br())}function _o(g){var x=g._listeners;g._listeners=[];for(var A=0,C=x.length;A<C;++A)ka(g,x[A]);var O=g._PSD;--O.ref||O.finalize(),La===0&&(++La,bo(function(){--La==0&&_l()},[]))}function ka(g,x){if(g._state!==null){var A=g._state?x.onFulfilled:x.onRejected;if(A===null)return(g._state?x.resolve:x.reject)(g._value);++x.psd.ref,++La,bo(Qf,[A,g,x])}else g._listeners.push(x)}function Qf(g,x,A){try{var C,O=x._value;!x._state&&ga.length&&(ga=[]),C=hr&&x._consoleTask?x._consoleTask.run(function(){return g(O)}):g(O),x._state||ga.indexOf(O)!==-1||(function(D){for(var L=Ba.length;L;)if(Ba[--L]._value===D._value)return Ba.splice(L,1)})(x),A.resolve(C)}catch(D){A.reject(D)}finally{--La==0&&_l(),--A.psd.ref||A.psd.finalize()}}function Yc(){Cr(Fn,function(){va()&&Br()})}function va(){var g=hs;return ps=hs=!1,g}function Br(){var g,x,A;do for(;0<wo.length;)for(g=wo,wo=[],A=g.length,x=0;x<A;++x){var C=g[x];C[0].apply(null,C[1])}while(0<wo.length);ps=hs=!0}function _l(){var g=Ba;Ba=[],g.forEach(function(C){C._PSD.onunhandled.call(null,C._value,C)});for(var x=gs.slice(0),A=x.length;A;)x[--A]()}function Ao(g){return new je(yo,!1,g)}function zt(g,x){var A=Le;return function(){var C=va(),O=Le;try{return ya(A,!0),g.apply(this,arguments)}catch(D){x&&x(D)}finally{ya(O,!1),C&&Br()}}}w(je.prototype,{then:Si,_then:function(g,x){ka(this,new Eo(null,null,g,x,Le))},catch:function(g){if(arguments.length===1)return this.then(null,g);var x=g,A=arguments[1];return typeof x=="function"?this.then(null,function(C){return(C instanceof x?A:Ao)(C)}):this.then(null,function(C){return(C&&C.name===x?A:Ao)(C)})},finally:function(g){return this.then(function(x){return je.resolve(g()).then(function(){return x})},function(x){return je.resolve(g()).then(function(){return Ao(x)})})},timeout:function(g,x){var A=this;return g<1/0?new je(function(C,O){var D=setTimeout(function(){return O(new Be.Timeout(x))},g);A.then(C,O).finally(clearTimeout.bind(null,D))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Fn.env=Sl(),w(je,{all:function(){var g=Ne.apply(null,arguments).map(Ni);return new je(function(x,A){g.length===0&&x([]);var C=g.length;g.forEach(function(O,D){return je.resolve(O).then(function(L){g[D]=L,--C||x(g)},A)})})},resolve:function(g){return g instanceof je?g:g&&typeof g.then=="function"?new je(function(x,A){g.then(x,A)}):new je(yo,!0,g)},reject:Ao,race:function(){var g=Ne.apply(null,arguments).map(Ni);return new je(function(x,A){g.map(function(C){return je.resolve(C).then(x,A)})})},PSD:{get:function(){return Le},set:function(g){return Le=g}},totalEchoes:{get:function(){return Co}},newPSD:qt,usePSD:Cr,scheduler:{get:function(){return bo},set:function(g){bo=g}},rejectionMapper:{get:function(){return Pn},set:function(g){Pn=g}},follow:function(g,x){return new je(function(A,C){return qt(function(O,D){var L=Le;L.unhandleds=[],L.onunhandled=D,L.finalize=Qr(function(){var U,V=this;U=function(){V.unhandleds.length===0?O():D(V.unhandleds[0])},gs.push(function q(){U(),gs.splice(gs.indexOf(q),1)}),++La,bo(function(){--La==0&&_l()},[])},L.finalize),g()},x,A,C)})}}),pa&&(pa.allSettled&&_(je,"allSettled",function(){var g=Ne.apply(null,arguments).map(Ni);return new je(function(x){g.length===0&&x([]);var A=g.length,C=new Array(A);g.forEach(function(O,D){return je.resolve(O).then(function(L){return C[D]={status:"fulfilled",value:L}},function(L){return C[D]={status:"rejected",reason:L}}).then(function(){return--A||x(C)})})})}),pa.any&&typeof AggregateError<"u"&&_(je,"any",function(){var g=Ne.apply(null,arguments).map(Ni);return new je(function(x,A){g.length===0&&A(new AggregateError([]));var C=g.length,O=new Array(C);g.forEach(function(D,L){return je.resolve(D).then(function(U){return x(U)},function(U){O[L]=U,--C||A(new AggregateError(O))})})})}),pa.withResolvers&&(je.withResolvers=pa.withResolvers));var ln={awaits:0,echoes:0,id:0},Al=0,Ci=[],So=0,Co=0,ma=0;function qt(g,x,A,C){var O=Le,D=Object.create(O);return D.parent=O,D.ref=0,D.global=!1,D.id=++ma,Fn.env,D.env=Ai?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject}:{},x&&d(D,x),++O.ref,D.finalize=function(){--this.parent.ref||this.parent.finalize()},C=Cr(D,g,A,C),D.ref===0&&D.finalize(),C}function cn(){return ln.id||(ln.id=++Al),++ln.awaits,ln.echoes+=Zn,ln.id}function or(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*Zn,!0)}function Ni(g){return ln.echoes&&g&&g.constructor===pa?(cn(),g.then(function(x){return or(),x},function(x){return or(),Lt(x)})):g}function Jf(){var g=Ci[Ci.length-1];Ci.pop(),ya(g,!1)}function ya(g,x){var A,C=Le;(x?!ln.echoes||So++&&g===Le:!So||--So&&g===Le)||queueMicrotask(x?(function(O){++Co,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),Ci.push(Le),ya(O,!0)}).bind(null,g):Jf),g!==Le&&(Le=g,C===Fn&&(Fn.env=Sl()),Ai&&(A=Fn.env.Promise,x=g.env,(C.global||g.global)&&(Object.defineProperty(o,"Promise",x.PromiseProp),A.all=x.all,A.race=x.race,A.resolve=x.resolve,A.reject=x.reject,x.allSettled&&(A.allSettled=x.allSettled),x.any&&(A.any=x.any))))}function Sl(){var g=o.Promise;return Ai?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function Cr(g,x,A,C,O){var D=Le;try{return ya(g,!0),x(A,C,O)}finally{ya(D,!1)}}function vs(g,x,A,C){return typeof g!="function"?g:function(){var O=Le;A&&cn(),ya(x,!0);try{return g.apply(this,arguments)}finally{ya(O,!1),C&&queueMicrotask(or)}}}function xa(g){Promise===pa&&ln.echoes===0?So===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+lr).indexOf("[native code]")===-1&&(cn=or=bt);var Lt=je.reject,Nr="",Qn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",un="String expected.",Pa=[],No="__dbnames",ea="readonly",ba="readwrite";function Fa(g,x){return g?x?function(){return g.apply(this,arguments)&&x.apply(this,arguments)}:g:x}var Cl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Oo(g){return typeof g!="string"||/\./.test(g)?function(x){return x}:function(x){return x[g]===void 0&&g in x&&delete(x=Ve(x))[g],x}}function Wc(){throw Be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(g,x){try{var A=To(g),C=To(x);if(A!==C)return A==="Array"?1:C==="Array"?-1:A==="binary"?1:C==="binary"?-1:A==="string"?1:C==="string"?-1:A==="Date"?1:C!=="Date"?NaN:-1;switch(A){case"number":case"Date":case"string":return x<g?1:g<x?-1:0;case"binary":return(function(O,D){for(var L=O.length,U=D.length,V=L<U?L:U,q=0;q<V;++q)if(O[q]!==D[q])return O[q]<D[q]?-1:1;return L===U?0:L<U?-1:1})(Lr(g),Lr(x));case"Array":return(function(O,D){for(var L=O.length,U=D.length,V=L<U?L:U,q=0;q<V;++q){var W=it(O[q],D[q]);if(W!==0)return W}return L===U?0:L<U?-1:1})(g,x)}}catch{}return NaN}function To(g){var x=typeof g;return x!="object"?x:ArrayBuffer.isView(g)?"binary":(g=At(g),g==="ArrayBuffer"?"binary":g)}function Lr(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}function Un(g,x,A){var C=g.schema.yProps;return C?(x&&0<A.numFailures&&(x=x.filter(function(O,D){return!A.failures[D]})),Promise.all(C.map(function(O){return O=O.updatesTable,x?g.db.table(O).where("k").anyOf(x).delete():g.db.table(O).clear()})).then(function(){return A})):A}var Oi=(Zc.prototype.execute=function(g){var x=this["@@propmod"];if(x.add!==void 0){var A=x.add;if(u(A))return i(i([],u(g)?g:[],!0),A).sort();if(typeof A=="number")return(Number(g)||0)+A;if(typeof A=="bigint")try{return BigInt(g)+A}catch{return BigInt(0)+A}throw new TypeError("Invalid term ".concat(A))}if(x.remove!==void 0){var C=x.remove;if(u(C))return u(g)?g.filter(function(O){return!C.includes(O)}).sort():[];if(typeof C=="number")return Number(g)-C;if(typeof C=="bigint")try{return BigInt(g)-C}catch{return BigInt(0)-C}throw new TypeError("Invalid subtrahend ".concat(C))}return A=(A=x.replacePrefix)===null||A===void 0?void 0:A[0],A&&typeof g=="string"&&g.startsWith(A)?x.replacePrefix[1]+g.substring(A.length):g},Zc);function Zc(g){this["@@propmod"]=g}function ms(g,x){for(var A=l(x),C=A.length,O=!1,D=0;D<C;++D){var L=A[D],U=x[L],V=se(g,L);U instanceof Oi?(ee(g,L,U.execute(V)),O=!0):V!==U&&(ee(g,L,U),O=!0)}return O}var Nl=(St.prototype._trans=function(g,x,A){var C=this._tx||Le.trans,O=this.name,D=hr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function L(q,W,H){if(!H.schema[O])throw new Be.NotFound("Table "+O+" not part of transaction");return x(H.idbtrans,H)}var U=va();try{var V=C&&C.db._novip===this.db._novip?C===Le.trans?C._promise(g,L,A):qt(function(){return C._promise(g,L,A)},{trans:C,transless:Le.transless||Le}):(function q(W,H,Q,G){if(W.idbdb&&(W._state.openComplete||Le.letThrough||W._vip)){var K=W._createTransaction(H,Q,W._dbSchema);try{K.create(),W._state.PR1398_maxLoop=3}catch($){return $.name===mt.InvalidState&&W.isOpen()&&0<--W._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),W.close({disableAutoOpen:!1}),W.open().then(function(){return q(W,H,Q,G)})):Lt($)}return K._promise(H,function($,Z){return qt(function(){return Le.trans=K,G($,Z,K)})}).then(function($){if(H==="readwrite")try{K.idbtrans.commit()}catch{}return H==="readonly"?$:K._completion.then(function(){return $})})}if(W._state.openComplete)return Lt(new Be.DatabaseClosed(W._state.dbOpenError));if(!W._state.isBeingOpened){if(!W._state.autoOpen)return Lt(new Be.DatabaseClosed);W.open().catch(bt)}return W._state.dbReadyPromise.then(function(){return q(W,H,Q,G)})})(this.db,g,[this.name],L);return D&&(V._consoleTask=D,V=V.catch(function(q){return console.trace(q),Lt(q)})),V}finally{U&&Br()}},St.prototype.get=function(g,x){var A=this;return g&&g.constructor===Object?this.where(g).first(x):g==null?Lt(new Be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(C){return A.core.get({trans:C,key:g}).then(function(O){return A.hook.reading.fire(O)})}).then(x)},St.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(u(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var x=l(g);if(x.length===1)return this.where(x[0]).equals(g[x[0]]);var A=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&x.every(function(q){return 0<=U.keyPath.indexOf(q)})){for(var V=0;V<x.length;++V)if(x.indexOf(U.keyPath[V])===-1)return!1;return!0}return!1}).sort(function(U,V){return U.keyPath.length-V.keyPath.length})[0];if(A&&this.db._maxKey!==Nr){var D=A.keyPath.slice(0,x.length);return this.where(D).equals(D.map(function(V){return g[V]}))}!A&&hr&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(x.join("+"),"]"));var C=this.schema.idxByName;function O(U,V){return it(U,V)===0}var L=x.reduce(function(H,V){var q=H[0],W=H[1],H=C[V],Q=g[V];return[q||H,q||!H?Fa(W,H&&H.multi?function(G){return G=se(G,V),u(G)&&G.some(function(K){return O(Q,K)})}:function(G){return O(Q,se(G,V))}):W]},[null,null]),D=L[0],L=L[1];return D?this.where(D.name).equals(g[D.keyPath]).filter(L):A?this.filter(L):this.where(x).equals("")},St.prototype.filter=function(g){return this.toCollection().and(g)},St.prototype.count=function(g){return this.toCollection().count(g)},St.prototype.offset=function(g){return this.toCollection().offset(g)},St.prototype.limit=function(g){return this.toCollection().limit(g)},St.prototype.each=function(g){return this.toCollection().each(g)},St.prototype.toArray=function(g){return this.toCollection().toArray(g)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,u(g)?"[".concat(g.join("+"),"]"):g))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(g){var x,A=this.db,C=this.name;function O(){return x!==null&&x.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof Wc&&((function(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function W(){this.constructor=V}n(V,q),V.prototype=q===null?Object.create(q):(W.prototype=q.prototype,new W)})(O,x=g),Object.defineProperty(O.prototype,"db",{get:function(){return A},enumerable:!1,configurable:!0}),O.prototype.table=function(){return C},g=O);for(var D=new Set,L=g.prototype;L;L=h(L))Object.getOwnPropertyNames(L).forEach(function(V){return D.add(V)});function U(V){if(!V)return V;var q,W=Object.create(g.prototype);for(q in V)if(!D.has(q))try{W[q]=V[q]}catch{}return W}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),g},St.prototype.defineClass=function(){return this.mapToClass(function(g){d(this,g)})},St.prototype.add=function(g,x){var A=this,C=this.schema.primKey,O=C.auto,D=C.keyPath,L=g;return D&&O&&(L=Oo(D)(g)),this._trans("readwrite",function(U){return A.core.mutate({trans:U,type:"add",keys:x!=null?[x]:null,values:[L]})}).then(function(U){return U.numFailures?je.reject(U.failures[0]):U.lastResult}).then(function(U){if(D)try{ee(g,D,U)}catch{}return U})},St.prototype.upsert=function(g,x){var A=this,C=this.schema.primKey.keyPath;return this._trans("readwrite",function(O){return A.core.get({trans:O,key:g}).then(function(D){var L=D??{};return ms(L,x),C&&ee(L,C,g),A.core.mutate({trans:O,type:"put",values:[L],keys:[g],upsert:!0,updates:{keys:[g],changeSpecs:[x]}}).then(function(U){return U.numFailures?je.reject(U.failures[0]):!!D})})})},St.prototype.update=function(g,x){return typeof g!="object"||u(g)?this.where(":id").equals(g).modify(x):(g=se(g,this.schema.primKey.keyPath),g===void 0?Lt(new Be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(x))},St.prototype.put=function(g,x){var A=this,C=this.schema.primKey,O=C.auto,D=C.keyPath,L=g;return D&&O&&(L=Oo(D)(g)),this._trans("readwrite",function(U){return A.core.mutate({trans:U,type:"put",values:[L],keys:x!=null?[x]:null})}).then(function(U){return U.numFailures?je.reject(U.failures[0]):U.lastResult}).then(function(U){if(D)try{ee(g,D,U)}catch{}return U})},St.prototype.delete=function(g){var x=this;return this._trans("readwrite",function(A){return x.core.mutate({trans:A,type:"delete",keys:[g]}).then(function(C){return Un(x,[g],C)}).then(function(C){return C.numFailures?je.reject(C.failures[0]):void 0})})},St.prototype.clear=function(){var g=this;return this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"deleteRange",range:Cl}).then(function(A){return Un(g,null,A)})}).then(function(x){return x.numFailures?je.reject(x.failures[0]):void 0})},St.prototype.bulkGet=function(g){var x=this;return this._trans("readonly",function(A){return x.core.getMany({keys:g,trans:A}).then(function(C){return C.map(function(O){return x.hook.reading.fire(O)})})})},St.prototype.bulkAdd=function(g,x,A){var C=this,O=Array.isArray(x)?x:void 0,D=(A=A||(O?void 0:x))?A.allKeys:void 0;return this._trans("readwrite",function(L){var q=C.schema.primKey,U=q.auto,q=q.keyPath;if(q&&O)throw new Be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==g.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");var V=g.length,q=q&&U?g.map(Oo(q)):g;return C.core.mutate({trans:L,type:"add",keys:O,values:q,wantResults:D}).then(function(K){var H=K.numFailures,Q=K.results,G=K.lastResult,K=K.failures;if(H===0)return D?Q:G;throw new Je("".concat(C.name,".bulkAdd(): ").concat(H," of ").concat(V," operations failed"),K)})})},St.prototype.bulkPut=function(g,x,A){var C=this,O=Array.isArray(x)?x:void 0,D=(A=A||(O?void 0:x))?A.allKeys:void 0;return this._trans("readwrite",function(L){var q=C.schema.primKey,U=q.auto,q=q.keyPath;if(q&&O)throw new Be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==g.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");var V=g.length,q=q&&U?g.map(Oo(q)):g;return C.core.mutate({trans:L,type:"put",keys:O,values:q,wantResults:D}).then(function(K){var H=K.numFailures,Q=K.results,G=K.lastResult,K=K.failures;if(H===0)return D?Q:G;throw new Je("".concat(C.name,".bulkPut(): ").concat(H," of ").concat(V," operations failed"),K)})})},St.prototype.bulkUpdate=function(g){var x=this,A=this.core,C=g.map(function(L){return L.key}),O=g.map(function(L){return L.changes}),D=[];return this._trans("readwrite",function(L){return A.getMany({trans:L,keys:C,cache:"clone"}).then(function(U){var V=[],q=[];g.forEach(function(H,Q){var G=H.key,K=H.changes,$=U[Q];if($){for(var Z=0,te=Object.keys(K);Z<te.length;Z++){var ie=te[Z],fe=K[ie];if(ie===x.schema.primKey.keyPath){if(it(fe,G)!==0)throw new Be.Constraint("Cannot update primary key in bulkUpdate()")}else ee($,ie,fe)}D.push(Q),V.push(G),q.push($)}});var W=V.length;return A.mutate({trans:L,type:"put",keys:V,values:q,updates:{keys:C,changeSpecs:O}}).then(function(H){var Q=H.numFailures,G=H.failures;if(Q===0)return W;for(var K=0,$=Object.keys(G);K<$.length;K++){var Z,te=$[K],ie=D[Number(te)];ie!=null&&(Z=G[te],delete G[te],G[ie]=Z)}throw new Je("".concat(x.name,".bulkUpdate(): ").concat(Q," of ").concat(W," operations failed"),G)})})})},St.prototype.bulkDelete=function(g){var x=this,A=g.length;return this._trans("readwrite",function(C){return x.core.mutate({trans:C,type:"delete",keys:g}).then(function(O){return Un(x,g,O)})}).then(function(L){var O=L.numFailures,D=L.lastResult,L=L.failures;if(O===0)return D;throw new Je("".concat(x.name,".bulkDelete(): ").concat(O," of ").concat(A," operations failed"),L)})},St);function St(){}function Do(g){function x(L,U){if(U){for(var V=arguments.length,q=new Array(V-1);--V;)q[V-1]=arguments[V];return A[L].subscribe.apply(null,q),g}if(typeof L=="string")return A[L]}var A={};x.addEventType=D;for(var C=1,O=arguments.length;C<O;++C)D(arguments[C]);return x;function D(L,U,V){if(typeof L!="object"){var q;U=U||El;var W={subscribers:[],fire:V=V||bt,subscribe:function(H){W.subscribers.indexOf(H)===-1&&(W.subscribers.push(H),W.fire=U(W.fire,H))},unsubscribe:function(H){W.subscribers=W.subscribers.filter(function(Q){return Q!==H}),W.fire=W.subscribers.reduce(U,V)}};return A[L]=x[L]=W}l(q=L).forEach(function(H){var Q=q[H];if(u(Q))D(H,q[H][0],q[H][1]);else{if(Q!=="asap")throw new Be.InvalidArgument("Invalid event config");var G=D(H,_i,function(){for(var K=arguments.length,$=new Array(K);K--;)$[K]=arguments[K];G.subscribers.forEach(function(Z){Y(function(){Z.apply(null,$)})})})}})}}function On(g,x){return S(x).from({prototype:g}),x}function wa(g,x){return!(g.filter||g.algorithm||g.or)&&(x?g.justLimit:!g.replayFilter)}function ys(g,x){g.filter=Fa(g.filter,x)}function Io(g,x,A){var C=g.replayFilter;g.replayFilter=C?function(){return Fa(C(),x())}:x,g.justLimit=A&&!C}function ta(g,x){if(g.isPrimKey)return x.primaryKey;var A=x.getIndexByKeyPath(g.index);if(!A)throw new Be.Schema("KeyPath "+g.index+" on object store "+x.name+" is not indexed");return A}function Ol(g,x,A){var C=ta(g,x.schema);return x.openCursor({trans:A,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:C,range:g.range}})}function Ro(g,x,A,C){var O=g.replayFilter?Fa(g.filter,g.replayFilter()):g.filter;if(g.or){var D={},L=function(U,V,q){var W,H;O&&!O(V,q,function(Q){return V.stop(Q)},function(Q){return V.fail(Q)})||((H=""+(W=V.primaryKey))=="[object ArrayBuffer]"&&(H=""+new Uint8Array(W)),m(D,H)||(D[H]=!0,x(U,V,q)))};return Promise.all([g.or._iterate(L,A),Ua(Ol(g,C,A),g.algorithm,L,!g.keysOnly&&g.valueMapper)])}return Ua(Ol(g,C,A),Fa(g.algorithm,O),x,!g.keysOnly&&g.valueMapper)}function Ua(g,x,A,C){var O=zt(C?function(D,L,U){return A(C(D),L,U)}:A);return g.then(function(D){if(D)return D.start(function(){var L=function(){return D.continue()};x&&!x(D,function(U){return L=U},function(U){D.stop(U),L=bt},function(U){D.fail(U),L=bt})||O(D.value,D,function(U){return L=U}),L()})})}var ed=(gt.prototype._read=function(g,x){var A=this._ctx;return A.error?A.table._trans(null,Lt.bind(null,A.error)):A.table._trans("readonly",g).then(x)},gt.prototype._write=function(g){var x=this._ctx;return x.error?x.table._trans(null,Lt.bind(null,x.error)):x.table._trans("readwrite",g,"locked")},gt.prototype._addAlgorithm=function(g){var x=this._ctx;x.algorithm=Fa(x.algorithm,g)},gt.prototype._iterate=function(g,x){return Ro(this._ctx,g,x,this._ctx.table.core)},gt.prototype.clone=function(g){var x=Object.create(this.constructor.prototype),A=Object.create(this._ctx);return g&&d(A,g),x._ctx=A,x},gt.prototype.raw=function(){return this._ctx.valueMapper=null,this},gt.prototype.each=function(g){var x=this._ctx;return this._read(function(A){return Ro(x,g,A,x.table.core)})},gt.prototype.count=function(g){var x=this;return this._read(function(A){var C=x._ctx,O=C.table.core;if(wa(C,!0))return O.count({trans:A,query:{index:ta(C,O.schema),range:C.range}}).then(function(L){return Math.min(L,C.limit)});var D=0;return Ro(C,function(){return++D,!1},A,O).then(function(){return D})}).then(g)},gt.prototype.sortBy=function(g,x){var A=g.split(".").reverse(),C=A[0],O=A.length-1;function D(V,q){return q?D(V[A[q]],q-1):V[C]}var L=this._ctx.dir==="next"?1:-1;function U(V,q){return it(D(V,O),D(q,O))*L}return this.toArray(function(V){return V.sort(U)}).then(x)},gt.prototype.toArray=function(g){var x=this;return this._read(function(A){var C=x._ctx;if(C.dir==="next"&&wa(C,!0)&&0<C.limit){var O=C.valueMapper,D=ta(C,C.table.core.schema);return C.table.core.query({trans:A,limit:C.limit,values:!0,query:{index:D,range:C.range}}).then(function(U){return U=U.result,O?U.map(O):U})}var L=[];return Ro(C,function(U){return L.push(U)},A,C.table.core).then(function(){return L})},g)},gt.prototype.offset=function(g){var x=this._ctx;return g<=0||(x.offset+=g,wa(x)?Io(x,function(){var A=g;return function(C,O){return A===0||(A===1?--A:O(function(){C.advance(A),A=0}),!1)}}):Io(x,function(){var A=g;return function(){return--A<0}})),this},gt.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),Io(this._ctx,function(){var x=g;return function(A,C,O){return--x<=0&&C(O),0<=x}},!0),this},gt.prototype.until=function(g,x){return ys(this._ctx,function(A,C,O){return!g(A.value)||(C(O),x)}),this},gt.prototype.first=function(g){return this.limit(1).toArray(function(x){return x[0]}).then(g)},gt.prototype.last=function(g){return this.reverse().first(g)},gt.prototype.filter=function(g){var x;return ys(this._ctx,function(A){return g(A.value)}),(x=this._ctx).isMatch=Fa(x.isMatch,g),this},gt.prototype.and=function(g){return this.filter(g)},gt.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},gt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},gt.prototype.desc=function(){return this.reverse()},gt.prototype.eachKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(A,C){g(C.key,C)})},gt.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},gt.prototype.eachPrimaryKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(A,C){g(C.primaryKey,C)})},gt.prototype.keys=function(g){var x=this._ctx;x.keysOnly=!x.isMatch;var A=[];return this.each(function(C,O){A.push(O.key)}).then(function(){return A}).then(g)},gt.prototype.primaryKeys=function(g){var x=this._ctx;if(x.dir==="next"&&wa(x,!0)&&0<x.limit)return this._read(function(C){var O=ta(x,x.table.core.schema);return x.table.core.query({trans:C,values:!1,limit:x.limit,query:{index:O,range:x.range}})}).then(function(C){return C.result}).then(g);x.keysOnly=!x.isMatch;var A=[];return this.each(function(C,O){A.push(O.primaryKey)}).then(function(){return A}).then(g)},gt.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},gt.prototype.firstKey=function(g){return this.limit(1).keys(function(x){return x[0]}).then(g)},gt.prototype.lastKey=function(g){return this.reverse().firstKey(g)},gt.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var x={};return ys(this._ctx,function(O){var C=O.primaryKey.toString(),O=m(x,C);return x[C]=!0,!O}),this},gt.prototype.modify=function(g){var x=this,A=this._ctx;return this._write(function(C){var O=typeof g=="function"?g:function($){return ms($,g)},D=A.table.core,q=D.schema.primaryKey,L=q.outbound,U=q.extractKey,V=200,q=x.db._options.modifyChunkSize;q&&(V=typeof q=="object"?q[D.name]||q["*"]||200:q);function W($,ie){var te=ie.failures,ie=ie.numFailures;Q+=$-ie;for(var fe=0,me=l(te);fe<me.length;fe++){var _e=me[fe];H.push(te[_e])}}var H=[],Q=0,G=[],K=g===Tl;return x.clone().primaryKeys().then(function($){function Z(ie){var fe=Math.min(V,$.length-ie),me=$.slice(ie,ie+fe);return(K?Promise.resolve([]):D.getMany({trans:C,keys:me,cache:"immutable"})).then(function(_e){var Me=[],we=[],Se=L?[]:null,De=K?me:[];if(!K)for(var Ee=0;Ee<fe;++Ee){var ke=_e[Ee],qe={value:Ve(ke),primKey:$[ie+Ee]};O.call(qe,qe.value,qe)!==!1&&(qe.value==null?De.push($[ie+Ee]):L||it(U(ke),U(qe.value))===0?(we.push(qe.value),L&&Se.push($[ie+Ee])):(De.push($[ie+Ee]),Me.push(qe.value)))}return Promise.resolve(0<Me.length&&D.mutate({trans:C,type:"add",values:Me}).then(function(Qe){for(var tt in Qe.failures)De.splice(parseInt(tt),1);W(Me.length,Qe)})).then(function(){return(0<we.length||te&&typeof g=="object")&&D.mutate({trans:C,type:"put",keys:Se,values:we,criteria:te,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<ie}).then(function(Qe){return W(we.length,Qe)})}).then(function(){return(0<De.length||te&&K)&&D.mutate({trans:C,type:"delete",keys:De,criteria:te,isAdditionalChunk:0<ie}).then(function(Qe){return Un(A.table,De,Qe)}).then(function(Qe){return W(De.length,Qe)})}).then(function(){return $.length>ie+fe&&Z(ie+V)})})}var te=wa(A)&&A.limit===1/0&&(typeof g!="function"||K)&&{index:A.index,range:A.range};return Z(0).then(function(){if(0<H.length)throw new He("Error modifying one or more objects",H,Q,G);return $.length})})})},gt.prototype.delete=function(){var g=this._ctx,x=g.range;return!wa(g)||g.table.schema.yProps||!g.isPrimKey&&x.type!==3?this.modify(Tl):this._write(function(A){var C=g.table.core.schema.primaryKey,O=x;return g.table.core.count({trans:A,query:{index:C,range:O}}).then(function(D){return g.table.core.mutate({trans:A,type:"deleteRange",range:O}).then(function(V){var U=V.failures,V=V.numFailures;if(V)throw new He("Could not delete some values",Object.keys(U).map(function(q){return U[q]}),D-V);return D-V})})})},gt);function gt(){}var Tl=function(g,x){return x.value=null};function Dl(g,x){return g<x?-1:g===x?0:1}function td(g,x){return x<g?-1:g===x?0:1}function sr(g,x,A){return g=g instanceof za?new g.Collection(g):g,g._ctx.error=new(A||TypeError)(x),g}function na(g){return new g.Collection(g,function(){return xs("")}).limit(0)}function pr(g,x,A,C){var O,D,L,U,V,q,W,H=A.length;if(!A.every(function(K){return typeof K=="string"}))return sr(g,un);function Q(K){O=K==="next"?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},D=K==="next"?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},L=K==="next"?Dl:td;var $=A.map(function(Z){return{lower:D(Z),upper:O(Z)}}).sort(function(Z,te){return L(Z.lower,te.lower)});U=$.map(function(Z){return Z.upper}),V=$.map(function(Z){return Z.lower}),W=(q=K)==="next"?"":C}Q("next"),g=new g.Collection(g,function(){return kr(U[0],V[H-1]+C)}),g._ondirectionchange=function(K){Q(K)};var G=0;return g._addAlgorithm(function(K,$,Z){var te=K.key;if(typeof te!="string")return!1;var ie=D(te);if(x(ie,V,G))return!0;for(var fe=null,me=G;me<H;++me){var _e=(function(Me,we,Se,De,Ee,ke){for(var qe=Math.min(Me.length,De.length),Qe=-1,tt=0;tt<qe;++tt){var In=we[tt];if(In!==De[tt])return Ee(Me[tt],Se[tt])<0?Me.substr(0,tt)+Se[tt]+Se.substr(tt+1):Ee(Me[tt],De[tt])<0?Me.substr(0,tt)+De[tt]+Se.substr(tt+1):0<=Qe?Me.substr(0,Qe)+we[Qe]+Se.substr(Qe+1):null;Ee(Me[tt],In)<0&&(Qe=tt)}return qe<De.length&&ke==="next"?Me+Se.substr(Me.length):qe<Me.length&&ke==="prev"?Me.substr(0,Se.length):Qe<0?null:Me.substr(0,Qe)+De[Qe]+Se.substr(Qe+1)})(te,ie,U[me],V[me],L,q);_e===null&&fe===null?G=me+1:(fe===null||0<L(fe,_e))&&(fe=_e)}return $(fe!==null?function(){K.continue(fe+W)}:Z),!1}),g}function kr(g,x,A,C){return{type:2,lower:g,upper:x,lowerOpen:A,upperOpen:C}}function xs(g){return{type:1,lower:g,upper:g}}var za=(Object.defineProperty(Xt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Xt.prototype.between=function(g,x,A,C){A=A!==!1,C=C===!0;try{return 0<this._cmp(g,x)||this._cmp(g,x)===0&&(A||C)&&(!A||!C)?na(this):new this.Collection(this,function(){return kr(g,x,!A,!C)})}catch{return sr(this,Qn)}},Xt.prototype.equals=function(g){return g==null?sr(this,Qn):new this.Collection(this,function(){return xs(g)})},Xt.prototype.above=function(g){return g==null?sr(this,Qn):new this.Collection(this,function(){return kr(g,void 0,!0)})},Xt.prototype.aboveOrEqual=function(g){return g==null?sr(this,Qn):new this.Collection(this,function(){return kr(g,void 0,!1)})},Xt.prototype.below=function(g){return g==null?sr(this,Qn):new this.Collection(this,function(){return kr(void 0,g,!1,!0)})},Xt.prototype.belowOrEqual=function(g){return g==null?sr(this,Qn):new this.Collection(this,function(){return kr(void 0,g)})},Xt.prototype.startsWith=function(g){return typeof g!="string"?sr(this,un):this.between(g,g+Nr,!0,!0)},Xt.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):pr(this,function(x,A){return x.indexOf(A[0])===0},[g],Nr)},Xt.prototype.equalsIgnoreCase=function(g){return pr(this,function(x,A){return x===A[0]},[g],"")},Xt.prototype.anyOfIgnoreCase=function(){var g=Ne.apply(ve,arguments);return g.length===0?na(this):pr(this,function(x,A){return A.indexOf(x)!==-1},g,"")},Xt.prototype.startsWithAnyOfIgnoreCase=function(){var g=Ne.apply(ve,arguments);return g.length===0?na(this):pr(this,function(x,A){return A.some(function(C){return x.indexOf(C)===0})},g,Nr)},Xt.prototype.anyOf=function(){var g=this,x=Ne.apply(ve,arguments),A=this._cmp;try{x.sort(A)}catch{return sr(this,Qn)}if(x.length===0)return na(this);var C=new this.Collection(this,function(){return kr(x[0],x[x.length-1])});C._ondirectionchange=function(D){A=D==="next"?g._ascending:g._descending,x.sort(A)};var O=0;return C._addAlgorithm(function(D,L,U){for(var V=D.key;0<A(V,x[O]);)if(++O===x.length)return L(U),!1;return A(V,x[O])===0||(L(function(){D.continue(x[O])}),!1)}),C},Xt.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Xt.prototype.noneOf=function(){var g=Ne.apply(ve,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return sr(this,Qn)}var x=g.reduce(function(A,C){return A?A.concat([[A[A.length-1][1],C]]):[[-1/0,C]]},null);return x.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},Xt.prototype.inAnyRange=function(te,x){var A=this,C=this._cmp,O=this._ascending,D=this._descending,L=this._min,U=this._max;if(te.length===0)return na(this);if(!te.every(function(ie){return ie[0]!==void 0&&ie[1]!==void 0&&O(ie[0],ie[1])<=0}))return sr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Be.InvalidArgument);var V=!x||x.includeLowers!==!1,q=x&&x.includeUppers===!0,W,H=O;function Q(ie,fe){return H(ie[0],fe[0])}try{(W=te.reduce(function(ie,fe){for(var me=0,_e=ie.length;me<_e;++me){var Me=ie[me];if(C(fe[0],Me[1])<0&&0<C(fe[1],Me[0])){Me[0]=L(Me[0],fe[0]),Me[1]=U(Me[1],fe[1]);break}}return me===_e&&ie.push(fe),ie},[])).sort(Q)}catch{return sr(this,Qn)}var G=0,K=q?function(ie){return 0<O(ie,W[G][1])}:function(ie){return 0<=O(ie,W[G][1])},$=V?function(ie){return 0<D(ie,W[G][0])}:function(ie){return 0<=D(ie,W[G][0])},Z=K,te=new this.Collection(this,function(){return kr(W[0][0],W[W.length-1][1],!V,!q)});return te._ondirectionchange=function(ie){H=ie==="next"?(Z=K,O):(Z=$,D),W.sort(Q)},te._addAlgorithm(function(ie,fe,me){for(var _e,Me=ie.key;Z(Me);)if(++G===W.length)return fe(me),!1;return!K(_e=Me)&&!$(_e)||(A._cmp(Me,W[G][1])===0||A._cmp(Me,W[G][0])===0||fe(function(){H===O?ie.continue(W[G][0]):ie.continue(W[G][1])}),!1)}),te},Xt.prototype.startsWithAnyOf=function(){var g=Ne.apply(ve,arguments);return g.every(function(x){return typeof x=="string"})?g.length===0?na(this):this.inAnyRange(g.map(function(x){return[x,x+Nr]})):sr(this,"startsWithAnyOf() only works with strings")},Xt);function Xt(){}function Or(g){return zt(function(x){return Ha(x),g(x.target.error),!1})}function Ha(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var Ti="storagemutated",Va="x-storagemutated-1",Tn=Do(null,Ti),Il=(Jn.prototype._lock=function(){return B(!Le.global),++this._reculock,this._reculock!==1||Le.global||(Le.lockOwnerFor=this),this},Jn.prototype._unlock=function(){if(B(!Le.global),--this._reculock==0)for(Le.global||(Le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{Cr(g[1],g[0])}catch{}}return this},Jn.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},Jn.prototype.create=function(g){var x=this;if(!this.mode)return this;var A=this.db.idbdb,C=this.db._state.dbOpenError;if(B(!this.idbtrans),!g&&!A)switch(C&&C.name){case"DatabaseClosedError":throw new Be.DatabaseClosed(C);case"MissingAPIError":throw new Be.MissingAPI(C.message,C);default:throw new Be.OpenFailed(C)}if(!this.active)throw new Be.TransactionInactive;return B(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||A).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zt(function(O){Ha(O),x._reject(g.error)}),g.onabort=zt(function(O){Ha(O),x.active&&x._reject(new Be.Abort(g.error)),x.active=!1,x.on("abort").fire(O)}),g.oncomplete=zt(function(){x.active=!1,x._resolve(),"mutatedParts"in g&&Tn.storagemutated.fire(g.mutatedParts)}),this},Jn.prototype._promise=function(g,x,A){var C=this;if(g==="readwrite"&&this.mode!=="readwrite")return Lt(new Be.ReadOnly("Transaction is readonly"));if(!this.active)return Lt(new Be.TransactionInactive);if(this._locked())return new je(function(D,L){C._blockedFuncs.push([function(){C._promise(g,x,A).then(D,L)},Le])});if(A)return qt(function(){var D=new je(function(L,U){C._lock();var V=x(L,U,C);V&&V.then&&V.then(L,U)});return D.finally(function(){return C._unlock()}),D._lib=!0,D});var O=new je(function(D,L){var U=x(D,L,C);U&&U.then&&U.then(D,L)});return O._lib=!0,O},Jn.prototype._root=function(){return this.parent?this.parent._root():this},Jn.prototype.waitFor=function(g){var x,A=this._root(),C=je.resolve(g);A._waitingFor?A._waitingFor=A._waitingFor.then(function(){return C}):(A._waitingFor=C,A._waitingQueue=[],x=A.idbtrans.objectStore(A.storeNames[0]),(function D(){for(++A._spinCount;A._waitingQueue.length;)A._waitingQueue.shift()();A._waitingFor&&(x.get(-1/0).onsuccess=D)})());var O=A._waitingFor;return new je(function(D,L){C.then(function(U){return A._waitingQueue.push(zt(D.bind(null,U)))},function(U){return A._waitingQueue.push(zt(L.bind(null,U)))}).finally(function(){A._waitingFor===O&&(A._waitingFor=null)})})},Jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Be.Abort))},Jn.prototype.table=function(g){var x=this._memoizedTables||(this._memoizedTables={});if(m(x,g))return x[g];var A=this.schema[g];if(!A)throw new Be.NotFound("Table "+g+" not part of transaction");return A=new this.db.Table(g,A,this),A.core=this.db.core.table(g),x[g]=A},Jn);function Jn(){}function Pr(g,x,A,C,O,D,L,U){return{name:g,keyPath:x,unique:A,multi:C,auto:O,compound:D,src:(A&&!L?"&":"")+(C?"*":"")+(O?"++":"")+bs(x),type:U}}function bs(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function Di(g,x,A){return{name:g,primKey:x,indexes:A,mappedClass:null,idxByName:(C=function(O){return[O.name,O]},A.reduce(function(O,D,L){return L=C(D,L),L&&(O[L[0]]=L[1]),O},{}))};var C}var Ii=function(g){try{return g.only([[]]),Ii=function(){return[[]]},[[]]}catch{return Ii=function(){return Nr},Nr}};function Ri(g){return g==null?function(){}:typeof g=="string"?(x=g).split(".").length===1?function(A){return A[x]}:function(A){return se(A,x)}:function(A){return se(A,g)};var x}function Mo(g){return[].slice.call(g)}var Qc=0;function pn(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function qa(g,x,V){function C(Z){if(Z.type===3)return null;if(Z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var G=Z.lower,K=Z.upper,$=Z.lowerOpen,Z=Z.upperOpen;return G===void 0?K===void 0?null:x.upperBound(K,!!Z):K===void 0?x.lowerBound(G,!!$):x.bound(G,K,!!$,!!Z)}function O(Q){var G,K=Q.name;return{name:K,schema:Q,mutate:function($){var Z=$.trans,te=$.type,ie=$.keys,fe=$.values,me=$.range;return new Promise(function(_e,Me){_e=zt(_e);var we=Z.objectStore(K),Se=we.keyPath==null,De=te==="put"||te==="add";if(!De&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var Ee,ke=(ie||fe||{length:1}).length;if(ie&&fe&&ie.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if(ke===0)return _e({numFailures:0,failures:{},results:[],lastResult:void 0});function qe(vn){++In,Ha(vn)}var Qe=[],tt=[],In=0;if(te==="deleteRange"){if(me.type===4)return _e({numFailures:In,failures:tt,results:[],lastResult:void 0});me.type===3?Qe.push(Ee=we.clear()):Qe.push(Ee=we.delete(C(me)))}else{var Se=De?Se?[fe,ie]:[fe,null]:[ie,null],Ze=Se[0],gn=Se[1];if(De)for(var en=0;en<ke;++en)Qe.push(Ee=gn&&gn[en]!==void 0?we[te](Ze[en],gn[en]):we[te](Ze[en])),Ee.onerror=qe;else for(en=0;en<ke;++en)Qe.push(Ee=we[te](Ze[en])),Ee.onerror=qe}function Uo(vn){vn=vn.target.result,Qe.forEach(function(gr,Gl){return gr.error!=null&&(tt[Gl]=gr.error)}),_e({numFailures:In,failures:tt,results:te==="delete"?ie:Qe.map(function(gr){return gr.result}),lastResult:vn})}Ee.onerror=function(vn){qe(vn),Uo(vn)},Ee.onsuccess=Uo})},getMany:function($){var Z=$.trans,te=$.keys;return new Promise(function(ie,fe){ie=zt(ie);for(var me,_e=Z.objectStore(K),Me=te.length,we=new Array(Me),Se=0,De=0,Ee=function(Qe){Qe=Qe.target,we[Qe._pos]=Qe.result,++De===Se&&ie(we)},ke=Or(fe),qe=0;qe<Me;++qe)te[qe]!=null&&((me=_e.get(te[qe]))._pos=qe,me.onsuccess=Ee,me.onerror=ke,++Se);Se===0&&ie(we)})},get:function($){var Z=$.trans,te=$.key;return new Promise(function(ie,fe){ie=zt(ie);var me=Z.objectStore(K).get(te);me.onsuccess=function(_e){return ie(_e.target.result)},me.onerror=Or(fe)})},query:(G=q,function($){return new Promise(function(Z,te){Z=zt(Z);var ie,fe,me,Se=$.trans,_e=$.values,Me=$.limit,Ee=$.query,we=Me===1/0?void 0:Me,De=Ee.index,Ee=Ee.range,Se=Se.objectStore(K),De=De.isPrimaryKey?Se:Se.index(De.name),Ee=C(Ee);if(Me===0)return Z({result:[]});G?((we=_e?De.getAll(Ee,we):De.getAllKeys(Ee,we)).onsuccess=function(ke){return Z({result:ke.target.result})},we.onerror=Or(te)):(ie=0,fe=!_e&&"openKeyCursor"in De?De.openKeyCursor(Ee):De.openCursor(Ee),me=[],fe.onsuccess=function(ke){var qe=fe.result;return qe?(me.push(_e?qe.value:qe.primaryKey),++ie===Me?Z({result:me}):void qe.continue()):Z({result:me})},fe.onerror=Or(te))})}),openCursor:function($){var Z=$.trans,te=$.values,ie=$.query,fe=$.reverse,me=$.unique;return new Promise(function(_e,Me){_e=zt(_e);var De=ie.index,we=ie.range,Se=Z.objectStore(K),Se=De.isPrimaryKey?Se:Se.index(De.name),De=fe?me?"prevunique":"prev":me?"nextunique":"next",Ee=!te&&"openKeyCursor"in Se?Se.openKeyCursor(C(we),De):Se.openCursor(C(we),De);Ee.onerror=Or(Me),Ee.onsuccess=zt(function(ke){var qe,Qe,tt,In,Ze=Ee.result;Ze?(Ze.___id=++Qc,Ze.done=!1,qe=Ze.continue.bind(Ze),Qe=(Qe=Ze.continuePrimaryKey)&&Qe.bind(Ze),tt=Ze.advance.bind(Ze),In=function(){throw new Error("Cursor not stopped")},Ze.trans=Z,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=zt(Me),Ze.next=function(){var gn=this,en=1;return this.start(function(){return en--?gn.continue():gn.stop()}).then(function(){return gn})},Ze.start=function(gn){function en(){if(Ee.result)try{gn()}catch(vn){Ze.fail(vn)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var Uo=new Promise(function(vn,gr){vn=zt(vn),Ee.onerror=Or(gr),Ze.fail=gr,Ze.stop=function(Gl){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=In,vn(Gl)}});return Ee.onsuccess=zt(function(vn){Ee.onsuccess=en,en()}),Ze.continue=qe,Ze.continuePrimaryKey=Qe,Ze.advance=tt,en(),Uo},_e(Ze)):_e(null)},Me)})},count:function($){var Z=$.query,te=$.trans,ie=Z.index,fe=Z.range;return new Promise(function(me,_e){var Me=te.objectStore(K),we=ie.isPrimaryKey?Me:Me.index(ie.name),Me=C(fe),we=Me?we.count(Me):we.count();we.onsuccess=zt(function(Se){return me(Se.target.result)}),we.onerror=Or(_e)})}}}var D,L,U,W=(L=V,U=Mo((D=g).objectStoreNames),{schema:{name:D.name,tables:U.map(function(Q){return L.objectStore(Q)}).map(function(Q){var G=Q.keyPath,Z=Q.autoIncrement,K=u(G),$={},Z={name:Q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G==null,compound:K,keyPath:G,autoIncrement:Z,unique:!0,extractKey:Ri(G)},indexes:Mo(Q.indexNames).map(function(te){return Q.index(te)}).map(function(me){var ie=me.name,fe=me.unique,_e=me.multiEntry,me=me.keyPath,_e={name:ie,compound:u(me),keyPath:me,unique:fe,multiEntry:_e,extractKey:Ri(me)};return $[pn(me)]=_e}),getIndexByKeyPath:function(te){return $[pn(te)]}};return $[":id"]=Z.primaryKey,G!=null&&($[pn(G)]=Z.primaryKey),Z})},hasGetAll:0<U.length&&"getAll"in L.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),V=W.schema,q=W.hasGetAll,W=V.tables.map(O),H={};return W.forEach(function(Q){return H[Q.name]=Q}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(Q){if(!H[Q])throw new Error("Table '".concat(Q,"' not found"));return H[Q]},MIN_KEY:-1/0,MAX_KEY:Ii(x),schema:V}}function ws(g,x,A,C){var O=A.IDBKeyRange;return A.indexedDB,{dbcore:(C=qa(x,O,C),g.dbcore.reduce(function(D,L){return L=L.create,r(r({},D),L(D))},C))}}function Ea(g,C){var A=C.db,C=ws(g._middlewares,A,g._deps,C);g.core=C.dbcore,g.tables.forEach(function(O){var D=O.name;g.core.schema.tables.some(function(L){return L.name===D})&&(O.core=g.core.table(D),g[D]instanceof g.Table&&(g[D].core=O.core))})}function Es(g,x,A,C){A.forEach(function(O){var D=C[O];x.forEach(function(L){var U=(function V(q,W){return T(q,W)||(q=h(q))&&V(q,W)})(L,O);(!U||"value"in U&&U.value===void 0)&&(L===g.Transaction.prototype||L instanceof g.Transaction?_(L,O,{get:function(){return this.table(O)},set:function(V){E(this,O,{value:V,writable:!0,configurable:!0,enumerable:!0})}}):L[O]=new g.Table(O,D))})})}function jo(g,x){x.forEach(function(A){for(var C in A)A[C]instanceof g.Table&&delete A[C]})}function Rl(g,x){return g._cfg.version-x._cfg.version}function Bo(g,x,A,C){var O=g._dbSchema;A.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=Di("$meta",eu("")[0],[]),g._storeNames.push("$meta"));var D=g._createTransaction("readwrite",g._storeNames,O);D.create(A),D._completion.catch(C);var L=D._reject.bind(D),U=Le.transless||Le;qt(function(){return Le.trans=D,Le.transless=U,x!==0?(Ea(g,A),q=x,((V=D).storeNames.includes("$meta")?V.table("$meta").get("version").then(function(W){return W??q}):je.resolve(q)).then(function(W){return Q=W,G=D,K=A,$=[],W=(H=g)._versions,Z=H._dbSchema=Mi(0,H.idbdb,K),(W=W.filter(function(te){return te._cfg.version>=Q})).length!==0?(W.forEach(function(te){$.push(function(){var ie=Z,fe=te._cfg.dbschema;Cs(H,ie,K),Cs(H,fe,K),Z=H._dbSchema=fe;var me=As(ie,fe);me.add.forEach(function(De){Ml(K,De[0],De[1].primKey,De[1].indexes)}),me.change.forEach(function(De){if(De.recreate)throw new Be.Upgrade("Not yet support for changing primary key");var Ee=K.objectStore(De.name);De.add.forEach(function(ke){return Ss(Ee,ke)}),De.change.forEach(function(ke){Ee.deleteIndex(ke.name),Ss(Ee,ke)}),De.del.forEach(function(ke){return Ee.deleteIndex(ke)})});var _e=te._cfg.contentUpgrade;if(_e&&te._cfg.version>Q){Ea(H,K),G._memoizedTables={};var Me=be(fe);me.del.forEach(function(De){Me[De]=ie[De]}),jo(H,[H.Transaction.prototype]),Es(H,[H.Transaction.prototype],l(Me),Me),G.schema=Me;var we,Se=F(_e);return Se&&cn(),me=je.follow(function(){var De;(we=_e(G))&&Se&&(De=or.bind(null,null),we.then(De,De))}),we&&typeof we.then=="function"?je.resolve(we):me.then(function(){return we})}}),$.push(function(ie){var fe,me,_e=te._cfg.dbschema;fe=_e,me=ie,[].slice.call(me.db.objectStoreNames).forEach(function(Me){return fe[Me]==null&&me.db.deleteObjectStore(Me)}),jo(H,[H.Transaction.prototype]),Es(H,[H.Transaction.prototype],H._storeNames,H._dbSchema),G.schema=H._dbSchema}),$.push(function(ie){H.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(H.idbdb.version/10)===te._cfg.version?(H.idbdb.deleteObjectStore("$meta"),delete H._dbSchema.$meta,H._storeNames=H._storeNames.filter(function(fe){return fe!=="$meta"})):ie.objectStore("$meta").put(te._cfg.version,"version"))})}),(function te(){return $.length?je.resolve($.shift()(G.idbtrans)).then(te):je.resolve()})().then(function(){Jc(Z,K)})):je.resolve();var H,Q,G,K,$,Z}).catch(L)):(l(O).forEach(function(W){Ml(A,W,O[W].primKey,O[W].indexes)}),Ea(g,A),void je.follow(function(){return g.on.populate.fire(D)}).catch(L));var V,q})}function _s(g,x){Jc(g._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var A=Mi(0,g.idbdb,x);Cs(g,g._dbSchema,x);for(var C=0,O=As(A,g._dbSchema).change;C<O.length;C++){var D=(function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=x.objectStore(L.name);L.add.forEach(function(V){hr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(V.src)),Ss(U,V)})})(O[C]);if(typeof D=="object")return D.value}}function As(g,x){var A,C={del:[],add:[],change:[]};for(A in g)x[A]||C.del.push(A);for(A in x){var O=g[A],D=x[A];if(O){var L={name:A,def:D,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(D.primKey.keyPath||"")||O.primKey.auto!==D.primKey.auto)L.recreate=!0,C.change.push(L);else{var U=O.idxByName,V=D.idxByName,q=void 0;for(q in U)V[q]||L.del.push(q);for(q in V){var W=U[q],H=V[q];W?W.src!==H.src&&L.change.push(H):L.add.push(H)}(0<L.del.length||0<L.add.length||0<L.change.length)&&C.change.push(L)}}else C.add.push([A,D])}return C}function Ml(g,x,A,C){var O=g.db.createObjectStore(x,A.keyPath?{keyPath:A.keyPath,autoIncrement:A.auto}:{autoIncrement:A.auto});return C.forEach(function(D){return Ss(O,D)}),O}function Jc(g,x){l(g).forEach(function(A){x.db.objectStoreNames.contains(A)||(hr&&console.debug("Dexie: Creating missing table",A),Ml(x,A,g[A].primKey,g[A].indexes))})}function Ss(g,x){g.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function Mi(g,x,A){var C={};return M(x.objectStoreNames,0).forEach(function(O){for(var D=A.objectStore(O),L=Pr(bs(q=D.keyPath),q||"",!0,!1,!!D.autoIncrement,q&&typeof q!="string",!0),U=[],V=0;V<D.indexNames.length;++V){var W=D.index(D.indexNames[V]),q=W.keyPath,W=Pr(W.name,q,!!W.unique,!!W.multiEntry,!1,q&&typeof q!="string",!1);U.push(W)}C[O]=Di(O,L,U)}),C}function Cs(g,x,A){for(var C=A.db.objectStoreNames,O=0;O<C.length;++O){var D=C[O],L=A.objectStore(D);g._hasGetAll="getAll"in L;for(var U=0;U<L.indexNames.length;++U){var V=L.indexNames[U],q=L.index(V).keyPath,W=typeof q=="string"?q:"["+M(q).join("+")+"]";!x[D]||(q=x[D].idxByName[W])&&(q.name=V,delete x[D].idxByName[W],x[D].idxByName[V]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function eu(g){return g.split(",").map(function(x,A){var D=x.split(":"),C=(O=D[1])===null||O===void 0?void 0:O.trim(),O=(x=D[0].trim()).replace(/([&*]|\+\+)/g,""),D=/^\[/.test(O)?O.match(/^\[(.*)\]$/)[1].split("+"):O;return Pr(O,D||null,/\&/.test(x),/\*/.test(x),/\+\+/.test(x),u(D),A===0,C)})}var nd=(ji.prototype._createTableSchema=Di,ji.prototype._parseIndexSyntax=eu,ji.prototype._parseStoresSpec=function(g,x){var A=this;l(g).forEach(function(C){if(g[C]!==null){var O=A._parseIndexSyntax(g[C]),D=O.shift();if(!D)throw new Be.Schema("Invalid schema for table "+C+": "+g[C]);if(D.unique=!0,D.multi)throw new Be.Schema("Primary key cannot be multiEntry*");O.forEach(function(L){if(L.auto)throw new Be.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new Be.Schema("Index must have a name and cannot be an empty string")}),O=A._createTableSchema(C,D,O),x[C]=O}})},ji.prototype.stores=function(A){var x=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,A):A;var A=x._versions,C={},O={};return A.forEach(function(D){d(C,D._cfg.storesSource),O=D._cfg.dbschema={},D._parseStoresSpec(C,O)}),x._dbSchema=O,jo(x,[x._allTables,x,x.Transaction.prototype]),Es(x,[x._allTables,x,x.Transaction.prototype,this._cfg.tables],l(O),O),x._storeNames=l(O),this},ji.prototype.upgrade=function(g){return this._cfg.contentUpgrade=mo(this._cfg.contentUpgrade||bt,g),this},ji);function ji(){}function jl(g,x){var A=g._dbNamesDB;return A||(A=g._dbNamesDB=new Fr(No,{addons:[],indexedDB:g,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),A.table("dbnames")}function Ns(g){return g&&typeof g.databases=="function"}function Bl(g){return qt(function(){return Le.letThrough=!0,g()})}function Ll(g){return!("from"in g)}var Dn=function(g,x){if(!this){var A=new Dn;return g&&"d"in g&&d(A,g),A}d(this,arguments.length?{d:1,from:g,to:1<arguments.length?x:g}:{d:0})};function Lo(g,x,A){var C=it(x,A);if(!isNaN(C)){if(0<C)throw RangeError();if(Ll(g))return d(g,{from:x,to:A,d:1});var O=g.l,C=g.r;if(it(A,g.from)<0)return O?Lo(O,x,A):g.l={from:x,to:A,d:1,l:null,r:null},nu(g);if(0<it(x,g.to))return C?Lo(C,x,A):g.r={from:x,to:A,d:1,l:null,r:null},nu(g);it(x,g.from)<0&&(g.from=x,g.l=null,g.d=C?C.d+1:1),0<it(A,g.to)&&(g.to=A,g.r=null,g.d=g.l?g.l.d+1:1),A=!g.r,O&&!g.l&&Ga(g,O),C&&A&&Ga(g,C)}}function Ga(g,x){Ll(x)||(function A(C,V){var D=V.from,L=V.to,U=V.l,V=V.r;Lo(C,D,L),U&&A(C,U),V&&A(C,V)})(g,x)}function tu(g,x){var A=Os(x),C=A.next();if(C.done)return!1;for(var O=C.value,D=Os(g),L=D.next(O.from),U=L.value;!C.done&&!L.done;){if(it(U.from,O.to)<=0&&0<=it(U.to,O.from))return!0;it(O.from,U.from)<0?O=(C=A.next(U.from)).value:U=(L=D.next(O.from)).value}return!1}function Os(g){var x=Ll(g)?null:{s:0,n:g};return{next:function(A){for(var C=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,C)for(;x.n.l&&it(A,x.n.from)<0;)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!C||it(A,x.n.to)<=0)return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function nu(g){var x,A,C=(((x=g.r)===null||x===void 0?void 0:x.d)||0)-(((A=g.l)===null||A===void 0?void 0:A.d)||0),O=1<C?"r":C<-1?"l":"";O&&(x=O=="r"?"l":"r",A=r({},g),C=g[O],g.from=C.from,g.to=C.to,g[O]=C[O],A[O]=C[x],(g[x]=A).d=kl(A)),g.d=kl(g)}function kl(A){var x=A.r,A=A.l;return(x?A?Math.max(x.d,A.d):x.d:A?A.d:0)+1}function Ts(g,x){return l(x).forEach(function(A){g[A]?Ga(g[A],x[A]):g[A]=(function C(O){var D,L,U={};for(D in O)m(O,D)&&(L=O[D],U[D]=!L||typeof L!="object"||Ke.has(L.constructor)?L:C(L));return U})(x[A])}),g}function Pl(g,x){return g.all||x.all||Object.keys(g).some(function(A){return x[A]&&tu(x[A],g[A])})}w(Dn.prototype,((lr={add:function(g){return Ga(this,g),this},addKey:function(g){return Lo(this,g,g),this},addKeys:function(g){var x=this;return g.forEach(function(A){return Lo(x,A,A)}),this},hasKey:function(g){var x=Os(this).next(g).value;return x&&it(x.from,g)<=0&&0<=it(x.to,g)}})[le]=function(){return Os(this)},lr));var Xa={},Fl={},Ul=!1;function Ds(g){Ts(Fl,g),Ul||(Ul=!0,setTimeout(function(){Ul=!1,zl(Fl,!(Fl={}))},0))}function zl(g,x){x===void 0&&(x=!1);var A=new Set;if(g.all)for(var C=0,O=Object.values(Xa);C<O.length;C++)ru(L=O[C],g,A,x);else for(var D in g){var L,U=/^idb\:\/\/(.*)\/(.*)\//.exec(D);U&&(D=U[1],U=U[2],(L=Xa["idb://".concat(D,"/").concat(U)])&&ru(L,g,A,x))}A.forEach(function(V){return V()})}function ru(g,x,A,C){for(var O=[],D=0,L=Object.entries(g.queries.query);D<L.length;D++){for(var U=L[D],V=U[0],q=[],W=0,H=U[1];W<H.length;W++){var Q=H[W];Pl(x,Q.obsSet)?Q.subscribers.forEach(function(Z){return A.add(Z)}):C&&q.push(Q)}C&&O.push([V,q])}if(C)for(var G=0,K=O;G<K.length;G++){var $=K[G],V=$[0],q=$[1];g.queries.query[V]=q}}function rd(g){var x=g._state,A=g._deps.indexedDB;if(x.isBeingOpened||g.idbdb)return x.dbReadyPromise.then(function(){return x.dbOpenError?Lt(x.dbOpenError):g});x.isBeingOpened=!0,x.dbOpenError=null,x.openComplete=!1;var C=x.openCanceller,O=Math.round(10*g.verno),D=!1;function L(){if(x.openCanceller!==C)throw new Be.DatabaseClosed("db.open() was cancelled")}function U(){return new je(function(Q,G){if(L(),!A)throw new Be.MissingAPI;var K=g.name,$=x.autoSchema||!O?A.open(K):A.open(K,O);if(!$)throw new Be.MissingAPI;$.onerror=Or(G),$.onblocked=zt(g._fireOnBlocked),$.onupgradeneeded=zt(function(Z){var te;W=$.transaction,x.autoSchema&&!g._options.allowEmptyDB?($.onerror=Ha,W.abort(),$.result.close(),(te=A.deleteDatabase(K)).onsuccess=te.onerror=zt(function(){G(new Be.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(W.onerror=Or(G),Z=Z.oldVersion>Math.pow(2,62)?0:Z.oldVersion,H=Z<1,g.idbdb=$.result,D&&_s(g,W),Bo(g,Z/10,W,G))},G),$.onsuccess=zt(function(){W=null;var Z,te,ie,fe,me,_e=g.idbdb=$.result,Me=M(_e.objectStoreNames);if(0<Me.length)try{var we=_e.transaction((fe=Me).length===1?fe[0]:fe,"readonly");if(x.autoSchema)te=_e,ie=we,(Z=g).verno=te.version/10,ie=Z._dbSchema=Mi(0,te,ie),Z._storeNames=M(te.objectStoreNames,0),Es(Z,[Z._allTables],l(ie),ie);else if(Cs(g,g._dbSchema,we),((me=As(Mi(0,(me=g).idbdb,we),me._dbSchema)).add.length||me.change.some(function(Se){return Se.add.length||Se.change.length}))&&!D)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_e.close(),O=_e.version+1,D=!0,Q(U());Ea(g,we)}catch{}Pa.push(g),_e.onversionchange=zt(function(Se){x.vcFired=!0,g.on("versionchange").fire(Se)}),_e.onclose=zt(function(){g.close({disableAutoOpen:!1})}),H&&(me=g._deps,we=K,_e=me.indexedDB,me=me.IDBKeyRange,Ns(_e)||we===No||jl(_e,me).put({name:we}).catch(bt)),Q()},G)}).catch(function(Q){switch(Q?.name){case"UnknownError":if(0<x.PR1398_maxLoop)return x.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<O)return O=0,U()}return je.reject(Q)})}var V,q=x.dbReadyResolve,W=null,H=!1;return je.race([C,(typeof navigator>"u"?je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Q){function G(){return indexedDB.databases().finally(Q)}V=setInterval(G,100),G()}).finally(function(){return clearInterval(V)}):Promise.resolve()).then(U)]).then(function(){return L(),x.onReadyBeingFired=[],je.resolve(Bl(function(){return g.on.ready.fire(g.vip)})).then(function Q(){if(0<x.onReadyBeingFired.length){var G=x.onReadyBeingFired.reduce(mo,bt);return x.onReadyBeingFired=[],je.resolve(Bl(function(){return G(g.vip)})).then(Q)}})}).finally(function(){x.openCanceller===C&&(x.onReadyBeingFired=null,x.isBeingOpened=!1)}).catch(function(Q){x.dbOpenError=Q;try{W&&W.abort()}catch{}return C===x.openCanceller&&g._close(),Lt(Q)}).finally(function(){x.openComplete=!0,q()}).then(function(){var Q;return H&&(Q={},g.tables.forEach(function(G){G.schema.indexes.forEach(function(K){K.name&&(Q["idb://".concat(g.name,"/").concat(G.name,"/").concat(K.name)]=new Dn(-1/0,[[[]]]))}),Q["idb://".concat(g.name,"/").concat(G.name,"/")]=Q["idb://".concat(g.name,"/").concat(G.name,"/:dels")]=new Dn(-1/0,[[[]]])}),Tn(Ti).fire(Q),zl(Q,!0)),g})}function ko(g){function x(D){return g.next(D)}var A=O(x),C=O(function(D){return g.throw(D)});function O(D){return function(V){var U=D(V),V=U.value;return U.done?V:V&&typeof V.then=="function"?V.then(A,C):u(V)?Promise.all(V).then(A,C):A(V)}}return O(x)()}function _a(g,x,A){for(var C=u(g)?g.slice():[g],O=0;O<A;++O)C.push(x);return C}var ad={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return r(r({},g),{table:function(x){var A=g.table(x),C=A.schema,O={},D=[];function L(H,Q,G){var K=pn(H),$=O[K]=O[K]||[],Z=H==null?0:typeof H=="string"?1:H.length,te=0<Q,te=r(r({},G),{name:te?"".concat(K,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:te,keyTail:Q,keyLength:Z,extractKey:Ri(H),unique:!te&&G.unique});return $.push(te),te.isPrimaryKey||D.push(te),1<Z&&L(Z===2?H[0]:H.slice(0,Z-1),Q+1,G),$.sort(function(ie,fe){return ie.keyTail-fe.keyTail}),te}x=L(C.primaryKey.keyPath,0,C.primaryKey),O[":id"]=[x];for(var U=0,V=C.indexes;U<V.length;U++){var q=V[U];L(q.keyPath,0,q)}function W(H){var Q,G=H.query.index;return G.isVirtual?r(r({},H),{query:{index:G.lowLevelIndex,range:(Q=H.query.range,G=G.keyTail,{type:Q.type===1?2:Q.type,lower:_a(Q.lower,Q.lowerOpen?g.MAX_KEY:g.MIN_KEY,G),lowerOpen:!0,upper:_a(Q.upper,Q.upperOpen?g.MIN_KEY:g.MAX_KEY,G),upperOpen:!0})}}):H}return r(r({},A),{schema:r(r({},C),{primaryKey:x,indexes:D,getIndexByKeyPath:function(H){return(H=O[pn(H)])&&H[0]}}),count:function(H){return A.count(W(H))},query:function(H){return A.query(W(H))},openCursor:function(H){var Q=H.query.index,G=Q.keyTail,K=Q.isVirtual,$=Q.keyLength;return K?A.openCursor(W(H)).then(function(te){return te&&Z(te)}):A.openCursor(H);function Z(te){return Object.create(te,{continue:{value:function(ie){ie!=null?te.continue(_a(ie,H.reverse?g.MAX_KEY:g.MIN_KEY,G)):H.unique?te.continue(te.key.slice(0,$).concat(H.reverse?g.MIN_KEY:g.MAX_KEY,G)):te.continue()}},continuePrimaryKey:{value:function(ie,fe){te.continuePrimaryKey(_a(ie,g.MAX_KEY,G),fe)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var ie=te.key;return $===1?ie[0]:ie.slice(0,$)}},value:{get:function(){return te.value}}})}}})}})}};function Is(g,x,A,C){return A=A||{},C=C||"",l(g).forEach(function(O){var D,L,U;m(x,O)?(D=g[O],L=x[O],typeof D=="object"&&typeof L=="object"&&D&&L?(U=At(D))!==At(L)?A[C+O]=x[O]:U==="Object"?Is(D,L,A,C+O+"."):D!==L&&(A[C+O]=x[O]):D!==L&&(A[C+O]=x[O])):A[C+O]=void 0}),l(x).forEach(function(O){m(g,O)||(A[C+O]=x[O])}),A}function Rs(g,x){return x.type==="delete"?x.keys:x.keys||x.values.map(g.extractKey)}var au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return r(r({},g),{table:function(x){var A=g.table(x),C=A.schema.primaryKey;return r(r({},A),{mutate:function(O){var D=Le.trans,L=D.table(x).hook,U=L.deleting,V=L.creating,q=L.updating;switch(O.type){case"add":if(V.fire===bt)break;return D._promise("readwrite",function(){return W(O)},!0);case"put":if(V.fire===bt&&q.fire===bt)break;return D._promise("readwrite",function(){return W(O)},!0);case"delete":if(U.fire===bt)break;return D._promise("readwrite",function(){return W(O)},!0);case"deleteRange":if(U.fire===bt)break;return D._promise("readwrite",function(){return(function H(Q,G,K){return A.query({trans:Q,values:!1,query:{index:C,range:G},limit:K}).then(function($){var Z=$.result;return W({type:"delete",keys:Z,trans:Q}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):Z.length<K?{failures:[],numFailures:0,lastResult:void 0}:H(Q,r(r({},G),{lower:Z[Z.length-1],lowerOpen:!0}),K)})})})(O.trans,O.range,1e4)},!0)}return A.mutate(O);function W(H){var Q,G,K,$=Le.trans,Z=H.keys||Rs(C,H);if(!Z)throw new Error("Keys missing");return(H=H.type==="add"||H.type==="put"?r(r({},H),{keys:Z}):r({},H)).type!=="delete"&&(H.values=i([],H.values)),H.keys&&(H.keys=i([],H.keys)),Q=A,K=Z,((G=H).type==="add"?Promise.resolve([]):Q.getMany({trans:G.trans,keys:K,cache:"immutable"})).then(function(te){var ie=Z.map(function(fe,me){var _e,Me,we,Se=te[me],De={onerror:null,onsuccess:null};return H.type==="delete"?U.fire.call(De,fe,Se,$):H.type==="add"||Se===void 0?(_e=V.fire.call(De,fe,H.values[me],$),fe==null&&_e!=null&&(H.keys[me]=fe=_e,C.outbound||ee(H.values[me],C.keyPath,fe))):(_e=Is(Se,H.values[me]),(Me=q.fire.call(De,_e,fe,Se,$))&&(we=H.values[me],Object.keys(Me).forEach(function(Ee){m(we,Ee)?we[Ee]=Me[Ee]:ee(we,Ee,Me[Ee])}))),De});return A.mutate(H).then(function(fe){for(var me=fe.failures,_e=fe.results,Me=fe.numFailures,fe=fe.lastResult,we=0;we<Z.length;++we){var Se=(_e||Z)[we],De=ie[we];Se==null?De.onerror&&De.onerror(me[we]):De.onsuccess&&De.onsuccess(H.type==="put"&&te[we]?H.values[we]:Se)}return{failures:me,results:_e,numFailures:Me,lastResult:fe}}).catch(function(fe){return ie.forEach(function(me){return me.onerror&&me.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function Hl(g,x,A){try{if(!x||x.keys.length<g.length)return null;for(var C=[],O=0,D=0;O<x.keys.length&&D<g.length;++O)it(x.keys[O],g[D])===0&&(C.push(A?Ve(x.values[O]):x.values[O]),++D);return C.length===g.length?C:null}catch{return null}}var iu={stack:"dbcore",level:-1,create:function(g){return{table:function(x){var A=g.table(x);return r(r({},A),{getMany:function(C){if(!C.cache)return A.getMany(C);var O=Hl(C.keys,C.trans._cache,C.cache==="clone");return O?je.resolve(O):A.getMany(C).then(function(D){return C.trans._cache={keys:C.keys,values:C.cache==="clone"?Ve(D):D},D})},mutate:function(C){return C.type!=="add"&&(C.trans._cache=null),A.mutate(C)}})}}}};function Ka(g,x){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!x.schema.primaryKey.outbound}function ou(g,x){switch(g){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var id={stack:"dbcore",level:0,name:"Observability",create:function(g){var x=g.schema.name,A=new Dn(g.MIN_KEY,g.MAX_KEY);return r(r({},g),{transaction:function(C,O,D){if(Le.subscr&&O!=="readonly")throw new Be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return g.transaction(C,O,D)},table:function(C){var O=g.table(C),D=O.schema,L=D.primaryKey,H=D.indexes,U=L.extractKey,V=L.outbound,q=L.autoIncrement&&H.filter(function(G){return G.compound&&G.keyPath.includes(L.keyPath)}),W=r(r({},O),{mutate:function(G){function K(Ee){return Ee="idb://".concat(x,"/").concat(C,"/").concat(Ee),fe[Ee]||(fe[Ee]=new Dn)}var $,Z,te,ie=G.trans,fe=G.mutatedParts||(G.mutatedParts={}),me=K(""),_e=K(":dels"),Me=G.type,De=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[Rs(L,G).filter(function(Ee){return Ee}),G.values]:[],we=De[0],Se=De[1],De=G.trans._cache;return u(we)?(me.addKeys(we),(De=Me==="delete"||we.length===Se.length?Hl(we,De):null)||_e.addKeys(we),(De||Se)&&($=K,Z=De,te=Se,D.indexes.forEach(function(Ee){var ke=$(Ee.name||"");function qe(tt){return tt!=null?Ee.extractKey(tt):null}function Qe(tt){return Ee.multiEntry&&u(tt)?tt.forEach(function(In){return ke.addKey(In)}):ke.addKey(tt)}(Z||te).forEach(function(tt,gn){var Ze=Z&&qe(Z[gn]),gn=te&&qe(te[gn]);it(Ze,gn)!==0&&(Ze!=null&&Qe(Ze),gn!=null&&Qe(gn))})}))):we?(Se={from:(Se=we.lower)!==null&&Se!==void 0?Se:g.MIN_KEY,to:(Se=we.upper)!==null&&Se!==void 0?Se:g.MAX_KEY},_e.add(Se),me.add(Se)):(me.add(A),_e.add(A),D.indexes.forEach(function(Ee){return K(Ee.name).add(A)})),O.mutate(G).then(function(Ee){return!we||G.type!=="add"&&G.type!=="put"||(me.addKeys(Ee.results),q&&q.forEach(function(ke){for(var qe=G.values.map(function(Ze){return ke.extractKey(Ze)}),Qe=ke.keyPath.findIndex(function(Ze){return Ze===L.keyPath}),tt=0,In=Ee.results.length;tt<In;++tt)qe[tt][Qe]=Ee.results[tt];K(ke.name).addKeys(qe)})),ie.mutatedParts=Ts(ie.mutatedParts||{},fe),Ee})}}),H=function(K){var $=K.query,K=$.index,$=$.range;return[K,new Dn((K=$.lower)!==null&&K!==void 0?K:g.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:g.MAX_KEY)]},Q={get:function(G){return[L,new Dn(G.key)]},getMany:function(G){return[L,new Dn().addKeys(G.keys)]},count:H,query:H,openCursor:H};return l(Q).forEach(function(G){W[G]=function(K){var $=Le.subscr,Z=!!$,te=Ka(Le,O)&&ou(G,K)?K.obsSet={}:$;if(Z){var ie=function(Se){return Se="idb://".concat(x,"/").concat(C,"/").concat(Se),te[Se]||(te[Se]=new Dn)},fe=ie(""),me=ie(":dels"),$=Q[G](K),Z=$[0],$=$[1];if((G==="query"&&Z.isPrimaryKey&&!K.values?me:ie(Z.name||"")).add($),!Z.isPrimaryKey){if(G!=="count"){var _e=G==="query"&&V&&K.values&&O.query(r(r({},K),{values:!1}));return O[G].apply(this,arguments).then(function(Se){if(G==="query"){if(V&&K.values)return _e.then(function(qe){return qe=qe.result,fe.addKeys(qe),Se});var De=K.values?Se.result.map(U):Se.result;(K.values?fe:me).addKeys(De)}else if(G==="openCursor"){var Ee=Se,ke=K.values;return Ee&&Object.create(Ee,{key:{get:function(){return me.addKey(Ee.primaryKey),Ee.key}},primaryKey:{get:function(){var qe=Ee.primaryKey;return me.addKey(qe),qe}},value:{get:function(){return ke&&fe.addKey(Ee.primaryKey),Ee.value}}})}return Se})}me.add(A)}}return O[G].apply(this,arguments)}}),W}})}};function su(g,x,A){if(A.numFailures===0)return x;if(x.type==="deleteRange")return null;var C=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return A.numFailures===C?null:(x=r({},x),u(x.keys)&&(x.keys=x.keys.filter(function(O,D){return!(D in A.failures)})),"values"in x&&u(x.values)&&(x.values=x.values.filter(function(O,D){return!(D in A.failures)})),x)}function Ms(g,x){return A=g,((C=x).lower===void 0||(C.lowerOpen?0<it(A,C.lower):0<=it(A,C.lower)))&&(g=g,(x=x).upper===void 0||(x.upperOpen?it(g,x.upper)<0:it(g,x.upper)<=0));var A,C}function Vl(g,x,Q,C,O,D){if(!Q||Q.length===0)return g;var L=x.query.index,U=L.multiEntry,V=x.query.range,q=C.schema.primaryKey.extractKey,W=L.extractKey,H=(L.lowLevelIndex||L).extractKey,Q=Q.reduce(function(G,K){var $=G,Z=[];if(K.type==="add"||K.type==="put")for(var te=new Dn,ie=K.values.length-1;0<=ie;--ie){var fe,me=K.values[ie],_e=q(me);te.hasKey(_e)||(fe=W(me),(U&&u(fe)?fe.some(function(Ee){return Ms(Ee,V)}):Ms(fe,V))&&(te.addKey(_e),Z.push(me)))}switch(K.type){case"add":var Me=new Dn().addKeys(x.values?G.map(function(ke){return q(ke)}):G),$=G.concat(x.values?Z.filter(function(ke){return ke=q(ke),!Me.hasKey(ke)&&(Me.addKey(ke),!0)}):Z.map(function(ke){return q(ke)}).filter(function(ke){return!Me.hasKey(ke)&&(Me.addKey(ke),!0)}));break;case"put":var we=new Dn().addKeys(K.values.map(function(ke){return q(ke)}));$=G.filter(function(ke){return!we.hasKey(x.values?q(ke):ke)}).concat(x.values?Z:Z.map(function(ke){return q(ke)}));break;case"delete":var Se=new Dn().addKeys(K.keys);$=G.filter(function(ke){return!Se.hasKey(x.values?q(ke):ke)});break;case"deleteRange":var De=K.range;$=G.filter(function(ke){return!Ms(q(ke),De)})}return $},g);return Q===g?g:(Q.sort(function(G,K){return it(H(G),H(K))||it(q(G),q(K))}),x.limit&&x.limit<1/0&&(Q.length>x.limit?Q.length=x.limit:g.length===x.limit&&Q.length<x.limit&&(O.dirty=!0)),D?Object.freeze(Q):Q)}function Bi(g,x){return it(g.lower,x.lower)===0&&it(g.upper,x.upper)===0&&!!g.lowerOpen==!!x.lowerOpen&&!!g.upperOpen==!!x.upperOpen}function Po(g,x){return(function(A,C,O,D){if(A===void 0)return C!==void 0?-1:0;if(C===void 0)return 1;if((C=it(A,C))===0){if(O&&D)return 0;if(O)return 1;if(D)return-1}return C})(g.lower,x.lower,g.lowerOpen,x.lowerOpen)<=0&&0<=(function(A,C,O,D){if(A===void 0)return C!==void 0?1:0;if(C===void 0)return-1;if((C=it(A,C))===0){if(O&&D)return 0;if(O)return-1;if(D)return 1}return C})(g.upper,x.upper,g.upperOpen,x.upperOpen)}function od(g,x,A,C){g.subscribers.add(A),C.addEventListener("abort",function(){var O,D;g.subscribers.delete(A),g.subscribers.size===0&&(O=g,D=x,setTimeout(function(){O.subscribers.size===0&&Ce(D,O)},3e3))})}var js={stack:"dbcore",level:0,name:"Cache",create:function(g){var x=g.schema.name;return r(r({},g),{transaction:function(A,C,O){var D,L,U=g.transaction(A,C,O);return C==="readwrite"&&(L=(D=new AbortController).signal,O=function(V){return function(){if(D.abort(),C==="readwrite"){for(var q=new Set,W=0,H=A;W<H.length;W++){var Q=H[W],G=Xa["idb://".concat(x,"/").concat(Q)];if(G){var K=g.table(Q),$=G.optimisticOps.filter(function(ke){return ke.trans===U});if(U._explicit&&V&&U.mutatedParts)for(var Z=0,te=Object.values(G.queries.query);Z<te.length;Z++)for(var ie=0,fe=(Me=te[Z]).slice();ie<fe.length;ie++)Pl((we=fe[ie]).obsSet,U.mutatedParts)&&(Ce(Me,we),we.subscribers.forEach(function(ke){return q.add(ke)}));else if(0<$.length){G.optimisticOps=G.optimisticOps.filter(function(ke){return ke.trans!==U});for(var me=0,_e=Object.values(G.queries.query);me<_e.length;me++)for(var Me,we,Se,De=0,Ee=(Me=_e[me]).slice();De<Ee.length;De++)(we=Ee[De]).res!=null&&U.mutatedParts&&(V&&!we.dirty?(Se=Object.isFrozen(we.res),Se=Vl(we.res,we.req,$,K,we,Se),we.dirty?(Ce(Me,we),we.subscribers.forEach(function(ke){return q.add(ke)})):Se!==we.res&&(we.res=Se,we.promise=je.resolve({result:Se}))):(we.dirty&&Ce(Me,we),we.subscribers.forEach(function(ke){return q.add(ke)})))}}}q.forEach(function(ke){return ke()})}}},U.addEventListener("abort",O(!1),{signal:L}),U.addEventListener("error",O(!1),{signal:L}),U.addEventListener("complete",O(!0),{signal:L})),U},table:function(A){var C=g.table(A),O=C.schema.primaryKey;return r(r({},C),{mutate:function(D){var L=Le.trans;if(O.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return C.mutate(D);var U=Xa["idb://".concat(x,"/").concat(A)];return U?(L=C.mutate(D),D.type!=="add"&&D.type!=="put"||!(50<=D.values.length||Rs(O,D).some(function(V){return V==null}))?(U.optimisticOps.push(D),D.mutatedParts&&Ds(D.mutatedParts),L.then(function(V){0<V.numFailures&&(Ce(U.optimisticOps,D),(V=su(0,D,V))&&U.optimisticOps.push(V),D.mutatedParts&&Ds(D.mutatedParts))}),L.catch(function(){Ce(U.optimisticOps,D),D.mutatedParts&&Ds(D.mutatedParts)})):L.then(function(V){var q=su(0,r(r({},D),{values:D.values.map(function(W,H){var Q;return V.failures[H]?W:(W=(Q=O.keyPath)!==null&&Q!==void 0&&Q.includes(".")?Ve(W):r({},W),ee(W,O.keyPath,V.results[H]),W)})}),V);U.optimisticOps.push(q),queueMicrotask(function(){return D.mutatedParts&&Ds(D.mutatedParts)})}),L):C.mutate(D)},query:function(D){if(!Ka(Le,C)||!ou("query",D))return C.query(D);var L=((q=Le.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",H=Le,U=H.requery,V=H.signal,q=(function(K,$,Z,te){var ie=Xa["idb://".concat(K,"/").concat($)];if(!ie)return[];if(!($=ie.queries[Z]))return[null,!1,ie,null];var fe=$[(te.query?te.query.index.name:null)||""];if(!fe)return[null,!1,ie,null];switch(Z){case"query":var me=fe.find(function(_e){return _e.req.limit===te.limit&&_e.req.values===te.values&&Bi(_e.req.query.range,te.query.range)});return me?[me,!0,ie,fe]:[fe.find(function(_e){return("limit"in _e.req?_e.req.limit:1/0)>=te.limit&&(!te.values||_e.req.values)&&Po(_e.req.query.range,te.query.range)}),!1,ie,fe];case"count":return me=fe.find(function(_e){return Bi(_e.req.query.range,te.query.range)}),[me,!!me,ie,fe]}})(x,A,"query",D),W=q[0],H=q[1],Q=q[2],G=q[3];return W&&H?W.obsSet=D.obsSet:(H=C.query(D).then(function(K){var $=K.result;if(W&&(W.res=$),L){for(var Z=0,te=$.length;Z<te;++Z)Object.freeze($[Z]);Object.freeze($)}else K.result=Ve($);return K}).catch(function(K){return G&&W&&Ce(G,W),Promise.reject(K)}),W={obsSet:D.obsSet,promise:H,subscribers:new Set,type:"query",req:D,dirty:!1},G?G.push(W):(G=[W],(Q=Q||(Xa["idb://".concat(x,"/").concat(A)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[D.query.index.name||""]=G)),od(W,G,U,V),W.promise.then(function(K){return{result:Vl(K.result,D,Q?.optimisticOps,C,W,L)}})}})}})}};function Fo(g,x){return new Proxy(g,{get:function(A,C,O){return C==="db"?x:Reflect.get(A,C,O)}})}var Fr=(Kt.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Be.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var x=this._versions,A=x.filter(function(C){return C._cfg.version===g})[0];return A||(A=new this.Version(g),x.push(A),x.sort(Rl),A.stores({}),this._state.autoSchema=!1,A)},Kt.prototype._whenReady=function(g){var x=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?g():new je(function(A,C){if(x._state.openComplete)return C(new Be.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void C(new Be.DatabaseClosed);x.open().catch(bt)}x._state.dbReadyPromise.then(A,C)}).then(g)},Kt.prototype.use=function(g){var x=g.stack,A=g.create,C=g.level,O=g.name;return O&&this.unuse({stack:x,name:O}),g=this._middlewares[x]||(this._middlewares[x]=[]),g.push({stack:x,create:A,level:C??10,name:O}),g.sort(function(D,L){return D.level-L.level}),this},Kt.prototype.unuse=function(g){var x=g.stack,A=g.name,C=g.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(O){return C?O.create!==C:!!A&&O.name!==A})),this},Kt.prototype.open=function(){var g=this;return Cr(Fn,function(){return rd(g)})},Kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var g=this._state,x=Pa.indexOf(this);if(0<=x&&Pa.splice(x,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new je(function(A){g.dbReadyResolve=A}),g.openCanceller=new je(function(A,C){g.cancelOpen=C}))},Kt.prototype.close=function(A){var x=(A===void 0?{disableAutoOpen:!0}:A).disableAutoOpen,A=this._state;x?(A.isBeingOpened&&A.cancelOpen(new Be.DatabaseClosed),this._close(),A.autoOpen=!1,A.dbOpenError=new Be.DatabaseClosed):(this._close(),A.autoOpen=this._options.autoOpen||A.isBeingOpened,A.openComplete=!1,A.dbOpenError=null)},Kt.prototype.delete=function(g){var x=this;g===void 0&&(g={disableAutoOpen:!0});var A=0<arguments.length&&typeof arguments[0]!="object",C=this._state;return new je(function(O,D){function L(){x.close(g);var U=x._deps.indexedDB.deleteDatabase(x.name);U.onsuccess=zt(function(){var V,q,W;V=x._deps,q=x.name,W=V.indexedDB,V=V.IDBKeyRange,Ns(W)||q===No||jl(W,V).delete(q).catch(bt),O()}),U.onerror=Or(D),U.onblocked=x._fireOnBlocked}if(A)throw new Be.InvalidArgument("Invalid closeOptions argument to db.delete()");C.isBeingOpened?C.dbReadyPromise.then(L):L()})},Kt.prototype.backendDB=function(){return this.idbdb},Kt.prototype.isOpen=function(){return this.idbdb!==null},Kt.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},Kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Kt.prototype,"tables",{get:function(){var g=this;return l(this._allTables).map(function(x){return g._allTables[x]})},enumerable:!1,configurable:!0}),Kt.prototype.transaction=function(){var g=(function(x,A,C){var O=arguments.length;if(O<2)throw new Be.InvalidArgument("Too few arguments");for(var D=new Array(O-1);--O;)D[O-1]=arguments[O];return C=D.pop(),[x,Oe(D),C]}).apply(this,arguments);return this._transaction.apply(this,g)},Kt.prototype._transaction=function(g,x,A){var C=this,O=Le.trans;O&&O.db===this&&g.indexOf("!")===-1||(O=null);var D,L,U=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if(L=x.map(function(q){if(q=q instanceof C.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),g=="r"||g===ea)D=ea;else{if(g!="rw"&&g!=ba)throw new Be.InvalidArgument("Invalid transaction mode: "+g);D=ba}if(O){if(O.mode===ea&&D===ba){if(!U)throw new Be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&L.forEach(function(q){if(O&&O.storeNames.indexOf(q)===-1){if(!U)throw new Be.SubTransaction("Table "+q+" not included in parent transaction.");O=null}}),U&&O&&!O.active&&(O=null)}}catch(q){return O?O._promise(null,function(W,H){H(q)}):Lt(q)}var V=(function q(W,H,Q,G,K){return je.resolve().then(function(){var $=Le.transless||Le,Z=W._createTransaction(H,Q,W._dbSchema,G);if(Z.explicit=!0,$={trans:Z,transless:$},G)Z.idbtrans=G.idbtrans;else try{Z.create(),Z.idbtrans._explicit=!0,W._state.PR1398_maxLoop=3}catch(fe){return fe.name===mt.InvalidState&&W.isOpen()&&0<--W._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),W.close({disableAutoOpen:!1}),W.open().then(function(){return q(W,H,Q,null,K)})):Lt(fe)}var te,ie=F(K);return ie&&cn(),$=je.follow(function(){var fe;(te=K.call(Z,Z))&&(ie?(fe=or.bind(null,null),te.then(fe,fe)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=ko(te)))},$),(te&&typeof te.then=="function"?je.resolve(te).then(function(fe){return Z.active?fe:Lt(new Be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return te})).then(function(fe){return G&&Z._resolve(),Z._completion.then(function(){return fe})}).catch(function(fe){return Z._reject(fe),Lt(fe)})})}).bind(null,this,D,L,O,A);return O?O._promise(D,V,"lock"):Le.trans?Cr(Le.transless,function(){return C._whenReady(V)}):this._whenReady(V)},Kt.prototype.table=function(g){if(!m(this._allTables,g))throw new Be.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},Kt);function Kt(g,x){var A=this;this._middlewares={},this.verno=0;var C=Kt.dependencies;this._options=x=r({addons:Kt.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},C=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,D,L,U,V,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:bt,dbReadyPromise:null,cancelOpen:bt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};q.dbReadyPromise=new je(function(H){q.dbReadyResolve=H}),q.openCanceller=new je(function(H,Q){q.cancelOpen=Q}),this._state=q,this.name=g,this.on=Do(this,"populate","blocked","versionchange","close",{ready:[mo,bt]}),this.once=function(H,Q){var G=function(){for(var K=[],$=0;$<arguments.length;$++)K[$]=arguments[$];A.on(H).unsubscribe(G),Q.apply(A,K)};return A.on(H,G)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(H){return function(Q,G){Kt.vip(function(){var K,$=A._state;$.openComplete?($.dbOpenError||je.resolve().then(Q),G&&H(Q)):$.onReadyBeingFired?($.onReadyBeingFired.push(Q),G&&H(Q)):(H(Q),K=A,G||H(function Z(){K.on.ready.unsubscribe(Q),K.on.ready.unsubscribe(Z)}))})}}),this.Collection=(O=this,On(ed.prototype,function(te,Z){this.db=O;var G=Cl,K=null;if(Z)try{G=Z()}catch(ie){K=ie}var $=te._ctx,Z=$.table,te=Z.hook.reading.fire;this._ctx={table:Z,index:$.index,isPrimKey:!$.index||Z.schema.primKey.keyPath&&$.index===Z.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:$.or,valueMapper:te!==_i?te:null}})),this.Table=(D=this,On(Nl.prototype,function(H,Q,G){this.db=D,this._tx=G,this.name=H,this.schema=Q,this.hook=D._allTables[H]?D._allTables[H].hook:Do(null,{creating:[wl,bt],reading:[ja,_i],updating:[Kc,bt],deleting:[Zf,bt]})})),this.Transaction=(L=this,On(Il.prototype,function(H,Q,G,K,$){var Z=this;H!=="readonly"&&Q.forEach(function(te){te=(te=G[te])===null||te===void 0?void 0:te.yProps,te&&(Q=Q.concat(te.map(function(ie){return ie.updatesTable})))}),this.db=L,this.mode=H,this.storeNames=Q,this.schema=G,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=Do(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(function(te,ie){Z._resolve=te,Z._reject=ie}),this._completion.then(function(){Z.active=!1,Z.on.complete.fire()},function(te){var ie=Z.active;return Z.active=!1,Z.on.error.fire(te),Z.parent?Z.parent._reject(te):ie&&Z.idbtrans&&Z.idbtrans.abort(),Lt(te)})})),this.Version=(U=this,On(nd.prototype,function(H){this.db=U,this._cfg={version:H,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(V=this,On(za.prototype,function(H,Q,G){if(this.db=V,this._ctx={table:H,index:Q===":id"?null:Q,or:G},this._cmp=this._ascending=it,this._descending=function(K,$){return it($,K)},this._max=function(K,$){return 0<it(K,$)?K:$},this._min=function(K,$){return it(K,$)<0?K:$},this._IDBKeyRange=V._deps.IDBKeyRange,!this._IDBKeyRange)throw new Be.MissingAPI})),this.on("versionchange",function(H){0<H.newVersion?console.warn("Another connection wants to upgrade database '".concat(A.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(A.name,"'. Closing db now to resume the delete request.")),A.close({disableAutoOpen:!1})}),this.on("blocked",function(H){!H.newVersion||H.newVersion<H.oldVersion?console.warn("Dexie.delete('".concat(A.name,"') was blocked")):console.warn("Upgrade '".concat(A.name,"' blocked by other connection holding version ").concat(H.oldVersion/10))}),this._maxKey=Ii(x.IDBKeyRange),this._createTransaction=function(H,Q,G,K){return new A.Transaction(H,Q,G,A._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(H){A.on("blocked").fire(H),Pa.filter(function(Q){return Q.name===A.name&&Q!==A&&!Q._state.vcFired}).map(function(Q){return Q.on("versionchange").fire(H)})},this.use(iu),this.use(js),this.use(id),this.use(ad),this.use(au);var W=new Proxy(this,{get:function(H,Q,G){if(Q==="_vip")return!0;if(Q==="table")return function($){return Fo(A.table($),W)};var K=Reflect.get(H,Q,G);return K instanceof Nl?Fo(K,W):Q==="tables"?K.map(function($){return Fo($,W)}):Q==="_createTransaction"?function(){return Fo(K.apply(this,arguments),W)}:K}});this.vip=W,C.forEach(function(H){return H(A)})}var Li,lr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",lu=(Bs.prototype.subscribe=function(g,x,A){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:x,complete:A})},Bs.prototype[lr]=function(){return this},Bs);function Bs(g){this._subscribe=g}try{Li={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Li={indexedDB:null,IDBKeyRange:null}}function cu(g){var x,A=!1,C=new lu(function(O){var D=F(g),L,U=!1,V={},q={},W={get closed(){return U},unsubscribe:function(){U||(U=!0,L&&L.abort(),H&&Tn.storagemutated.unsubscribe(G))}};O.start&&O.start(W);var H=!1,Q=function(){return xa(K)},G=function($){Ts(V,$),Pl(q,V)&&Q()},K=function(){var $,Z,te;!U&&Li.indexedDB&&(V={},$={},L&&L.abort(),L=new AbortController,te=(function(ie){var fe=va();try{D&&cn();var me=qt(g,ie);return me=D?me.finally(or):me}finally{fe&&Br()}})(Z={subscr:$,signal:L.signal,requery:Q,querier:g,trans:null}),Promise.resolve(te).then(function(ie){A=!0,x=ie,U||Z.signal.aborted||(V={},(function(fe){for(var me in fe)if(m(fe,me))return;return 1})(q=$)||H||(Tn(Ti,G),H=!0),xa(function(){return!U&&O.next&&O.next(ie)}))},function(ie){A=!1,["DatabaseClosedError","AbortError"].includes(ie?.name)||U||xa(function(){U||O.error&&O.error(ie)})}))};return setTimeout(Q,0),W});return C.hasValue=function(){return A},C.getValue=function(){return x},C}var $a=Fr;function ql(g){var x=Aa;try{Aa=!0,Tn.storagemutated.fire(g),zl(g,!0)}finally{Aa=x}}w($a,r(r({},Ma),{delete:function(g){return new $a(g,{addons:[]}).delete()},exists:function(g){return new $a(g,{addons:[]}).open().then(function(x){return x.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return x=$a.dependencies,A=x.indexedDB,x=x.IDBKeyRange,(Ns(A)?Promise.resolve(A.databases()).then(function(C){return C.map(function(O){return O.name}).filter(function(O){return O!==No})}):jl(A,x).toCollection().primaryKeys()).then(g)}catch{return Lt(new Be.MissingAPI)}var x,A},defineClass:function(){return function(g){d(this,g)}},ignoreTransaction:function(g){return Le.trans?Cr(Le.transless,g):g()},vip:Bl,async:function(g){return function(){try{var x=ko(g.apply(this,arguments));return x&&typeof x.then=="function"?x:je.resolve(x)}catch(A){return Lt(A)}}},spawn:function(g,x,A){try{var C=ko(g.apply(A,x||[]));return C&&typeof C.then=="function"?C:je.resolve(C)}catch(O){return Lt(O)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(g,x){return x=je.resolve(typeof g=="function"?$a.ignoreTransaction(g):g).timeout(x||6e4),Le.trans?Le.trans.waitFor(x):x},Promise:je,debug:{get:function(){return hr},set:function(g){$c(g)}},derive:S,extend:d,props:w,override:P,Events:Do,on:Tn,liveQuery:cu,extendObservabilitySet:Ts,getByKeyPath:se,setByKeyPath:ee,delByKeyPath:function(g,x){typeof x=="string"?ee(g,x,void 0):"length"in x&&[].map.call(x,function(A){ee(g,A,void 0)})},shallowClone:be,deepClone:Ve,getObjectDiff:Is,cmp:it,asap:Y,minKey:-1/0,addons:[],connections:Pa,errnames:mt,dependencies:Li,cache:Xa,semVer:"4.2.1",version:"4.2.1".split(".").map(function(g){return parseInt(g)}).reduce(function(g,x,A){return g+x/Math.pow(10,2*A)})})),$a.maxKey=Ii($a.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Tn(Ti,function(g){Aa||(g=new CustomEvent(Va,{detail:g}),Aa=!0,dispatchEvent(g),Aa=!1)}),addEventListener(Va,function(g){g=g.detail,Aa||ql(g)}));var ki,Aa=!1,er=function(){};return typeof BroadcastChannel<"u"&&((er=function(){(ki=new BroadcastChannel(Va)).onmessage=function(g){return g.data&&ql(g.data)}})(),typeof ki.unref=="function"&&ki.unref(),Tn(Ti,function(g){Aa||ki.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!Fr.disableBfCache&&g.persisted){hr&&console.debug("Dexie: handling persisted pagehide"),ki?.close();for(var x=0,A=Pa;x<A.length;x++)A[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!Fr.disableBfCache&&g.persisted&&(hr&&console.debug("Dexie: handling persisted pageshow"),er(),ql({all:new Dn(-1/0,[[]])}))})),je.rejectionMapper=function(g,x){return!g||g instanceof Ae||g instanceof TypeError||g instanceof SyntaxError||!g.name||!Ei[g.name]?g:(x=new Ei[g.name](x||g.message,g),"stack"in g&&_(x,"stack",{get:function(){return this.inner.stack}}),x)},$c(hr),r(Fr,Object.freeze({__proto__:null,Dexie:Fr,liveQuery:cu,Entity:Wc,cmp:it,PropModification:Oi,replacePrefix:function(g,x){return new Oi({replacePrefix:[g,x]})},add:function(g){return new Oi({add:g})},remove:function(g){return new Oi({remove:g})},default:Fr,RangeSet:Dn,mergeRanges:Ga,rangesOverlap:tu}),{default:Fr}),Fr})})(Ef)),Ef.exports}var ZE=WE();const Dh=Ub(ZE),vm=Symbol.for("Dexie"),Of=globalThis[vm]||(globalThis[vm]=Dh);if(Dh.semVer!==Of.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Dh.semVer} and ${Of.semVer}`);const{liveQuery:W5,mergeRanges:Z5,rangesOverlap:Q5,RangeSet:J5,cmp:eO,Entity:tO,PropModification:nO,replacePrefix:rO,add:aO,remove:iO,DexieYProvider:oO}=Of,ot=new Of("MeliCheckDB");ot.version(1).stores({users:"id, role, name, token",stores:"id, name, address, latitude, longitude, qrCode, status",products:"id, name, sku, unit, price",pendingVisits:"++id, storeId, timestamp, latitude, longitude, synced",pendingOrders:"++id, storeId, visitId, items, total, createdAt, synced"});ot.version(2).stores({users:"id, role, name, token",stores:"id, name, address, latitude, longitude, qrCode, status, lastSync",products:"id, name, sku, unit, price, status, lastSync",assignments:"++id, assignmentId, storeId, productId, dealerId, status, lastSync",pendingVisits:"++id, storeId, qrCode, timestamp, latitude, longitude, synced, syncAttempts, errorMessage",pendingOrders:"++id, offlineUniqueId, visitId, storeId, items, total, createdAt, synced, syncAttempts, errorMessage",syncMetadata:"key, lastSync, status"}).upgrade(t=>t.syncMetadata.add({key:"lastFullSync",lastSync:null,status:"never"}));const Ih=async()=>{const t=await ot.pendingVisits.where("synced").equals(0).count(),e=await ot.pendingOrders.where("synced").equals(0).count();return{visits:t,orders:e,total:t+e}},Dt=()=>navigator.onLine,p1=async(t="lastFullSync")=>{await ot.syncMetadata.put({key:t,lastSync:new Date().toISOString(),status:"success"})};ot.version(3).stores({users:"id, role, name, token",stores:"id, name, address, latitude, longitude, qrCode, status, lastSync",products:"id, name, sku, unit, price, status, lastSync",assignments:"++id, assignmentId, storeId, productId, dealerId, status, lastSync",pendingVisits:"++id, storeId, qrCode, timestamp, latitude, longitude, synced, syncAttempts, errorMessage",pendingOrders:"++id, offlineUniqueId, visitId, storeId, items, total, createdAt, synced, syncAttempts, errorMessage",syncMetadata:"key, lastSync, status",apiCache:"cacheKey, data, timestamp, url"});const gx=(t,e=null)=>{let n=t;if(e){const r=new URLSearchParams(e).toString();n=`${t}?${r}`}return n},vx=async(t,e,n)=>{try{await ot.apiCache.put({cacheKey:t,data:e,timestamp:new Date().toISOString(),url:n}),console.log(` Cache guardado: ${t}`)}catch(r){console.error("Error guardando en cache:",r)}},nh=async t=>{try{const e=await ot.apiCache.get(t);return e?(console.log(` Cache hit: ${t}`),e.data):(console.log(` Cache miss: ${t}`),null)}catch(e){return console.error("Error leyendo cache:",e),null}},Yn=async(t,e,n=null,r=!1)=>{const i=gx(e,n);if(r&&Dt()){console.log(` Cache First activado: ${e}`);const o=await nh(i);if(o)return console.log(` Datos obtenidos del cache (cache-first): ${e}`),{data:o,status:200,statusText:"OK (from cache - cache first)",headers:{},config:{},fromCache:!0};console.log(` No hay cache, intentando red: ${e}`)}if(Dt())try{console.log(` Intentando red: ${e}`);const o=await t();return o&&o.data&&await vx(i,o.data,e),o}catch(o){console.warn(` Error de red, buscando en cache: ${e}`,o.message);const l=await nh(i);if(l)return console.log(` Datos obtenidos del cache: ${e}`),{data:l,status:200,statusText:"OK (from cache)",headers:{},config:{},fromCache:!0};throw o}else{console.log(` Offline, buscando en cache: ${e}`);const o=await nh(i);if(o)return console.log(` Datos obtenidos del cache (offline): ${e}`),{data:o,status:200,statusText:"OK (from cache - offline)",headers:{},config:{},fromCache:!0};throw new Error(`No hay datos en cache para ${e} y ests offline`)}},QE=async(t,e)=>{const n=gx(t);await vx(n,e,t)},cl=async(t,e,n="id")=>{if(!(!Array.isArray(t)||t.length===0)){console.log(` Cacheando ${t.length} items individuales de ${e}...`);for(const r of t)if(r&&r[n]){const i=`${e}/${r[n]}`;await QE(i,{result:r})}console.log(` ${t.length} items cacheados individualmente`)}},ca="/api/assignments",JE=()=>Yn(()=>Xe.get(`${ca}/`),`${ca}/`),e_=t=>Yn(()=>Xe.get(`${ca}/${t}`),`${ca}/${t}`),t_=t=>Xe.post(`${ca}/`,t),n_=(t,e)=>Xe.put(`${ca}/${t}`,e),r_=t=>Xe.patch(`${ca}/${t}/toggle`),zf=()=>Yn(()=>Xe.get(`${ca}/me`),`${ca}/me`),a_=t=>Yn(()=>Xe.get(`${ca}/me/${t}`),`${ca}/me/${t}`),di={getAll:()=>Yn(()=>Xe.get("/api/products/"),"/api/products/"),getActives:()=>Yn(()=>Xe.get("/api/products/active"),"/api/products/active"),getOne:t=>Yn(()=>Xe.get(`/api/products/${t}`),`/api/products/${t}`),create:({name:t,sku:e,unit:n,price:r,file:i})=>{const o=new FormData;return o.append("name",t),o.append("sku",e),o.append("unit",n),o.append("price",r),i&&o.append("file",i),Xe.post("/api/products/",o,{headers:{"Content-Type":"multipart/form-data"}})},update:(t,{name:e,sku:n,unit:r,price:i,file:o})=>{const l=new FormData;return l.append("name",e),l.append("sku",n),l.append("unit",r),l.append("price",i),o&&l.append("file",o),Xe.put(`/api/products/${t}`,l,{headers:{"Content-Type":"multipart/form-data"}})},toggle:t=>Xe.patch(`/api/products/${t}/toggle`)},yi={getTodayVisits:(t=!1)=>Yn(()=>Xe.get("/api/visits/today"),"/api/visits/today",null,t),getOpenVisits:()=>Yn(()=>Xe.get("/api/visits/open"),"/api/visits/open"),getById:t=>Yn(()=>Xe.get(`/api/visits/${t}`),`/api/visits/${t}`),getVisitById:t=>Yn(()=>Xe.get(`/api/visits/${t}`),`/api/visits/${t}`),checkInByQr:t=>Xe.post("/api/visits/check-in/qr",t),getVisitsByDealer:t=>Xe.get(`/api/visits/dealer/${t}`),getVisitsByDealerAndDate:(t,e)=>Xe.get(`/api/visits/dealer/${t}/date/${e}`),getVisitsByStoreAndDate:(t,e)=>Xe.get(`/api/visits/store/${t}/date/${e}`),filterVisits:t=>{const e=new URLSearchParams;return t.dealerId&&e.append("dealerId",t.dealerId),t.storeId&&e.append("storeId",t.storeId),t.status&&e.append("status",t.status),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate),Xe.get(`/api/visits/filter?${e.toString()}`)}},hi={createOrder:t=>Xe.post("/api/orders/",t),updateOrder:(t,e)=>Xe.put(`/api/orders/${t}, data`),sendOrder:t=>Xe.post(`/api/orders/${t}/send`),cancelOrder:t=>Xe.post(`/api/orders/${t}/cancel`),getOrderById:t=>Yn(()=>Xe.get(`/api/orders/${t}`),`/api/orders/${t}`),getOrdersByVisit:t=>Yn(()=>Xe.get(`/api/orders/visit/${t}`),`/api/orders/visit/${t}`),getMyOrders:()=>Yn(()=>Xe.get("/api/orders/my-orders"),"/api/orders/my-orders"),filterOrders:t=>{const e=new URLSearchParams;return t.dealerId&&e.append("dealerId",t.dealerId),t.storeId&&e.append("storeId",t.storeId),t.status&&e.append("status",t.status),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate),Xe.get(`/api/orders/filter?${e.toString()}`)},createOrderOffline:async t=>{const{visitId:e,storeId:n,items:r,notes:i}=t,o=r.reduce((l,u)=>l+u.quantity*u.price,0);if(Dt())try{const l=await Xe.post("/api/orders/",{visitId:e,items:r.map(u=>({productId:u.productId,quantity:u.quantity,price:u.price})),total:o,notes:i});return console.log(" Pedido creado en servidor:",l.data),{success:!0,offline:!1,data:l.data}}catch(l){return console.error(" Error al crear pedido online, guardando offline:",l),await mm(e,n,r,o,i)}else return console.log(" Sin conexin, guardando pedido offline"),await mm(e,n,r,o,i)},getPendingOrders:async()=>await ot.pendingOrders.where("synced").equals(0).toArray(),getPendingCount:async()=>await ot.pendingOrders.where("synced").equals(0).count(),getAllWithPending:async()=>{const t=await ot.pendingOrders.where("synced").equals(0).toArray();let e=[];if(Dt())try{e=(await Xe.get("/api/orders/my-orders")).data.result||[]}catch(n){console.error("Error obteniendo pedidos del servidor:",n)}return{serverOrders:e,pendingOrders:t,total:e.length+t.length}}},mm=async(t,e,n,r,i)=>{try{const l={offlineUniqueId:`OFFLINE-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,visitId:t||null,storeId:e,items:n.map(d=>({productId:d.productId,productName:d.name||d.productName,quantity:d.quantity,price:d.price,sku:d.sku})),total:r,notes:i||"",createdAt:new Date().toISOString(),synced:0,syncAttempts:0},u=await ot.pendingOrders.add(l);return console.log(" Pedido guardado offline con ID:",u),{success:!0,offline:!0,localId:u,message:"Pedido guardado offline. Se sincronizar cuando haya conexin."}}catch(o){throw console.error("Error guardando pedido offline:",o),o}},mx=async()=>{try{console.log(" Sincronizando asignaciones del dealer...");const e=(await zf()).data.result||[];await ot.assignments.clear();for(const n of e)await ot.assignments.add({assignmentId:n.id,storeId:n.store?.id,productId:n.product?.id,dealerId:n.dealer?.id,status:n.status?.statusName||"ACTIVE",assignmentType:n.assignmentType?.typeName,store:n.store,product:n.product,lastSync:new Date().toISOString()}),n.store&&(await ot.stores.get(n.store.id)||await ot.stores.add({id:n.store.id,name:n.store.name,address:n.store.address,latitude:n.store.latitude,longitude:n.store.longitude,qrCode:n.store.qrCode,phone:n.store.phone,status:n.store.status?.statusName||"ACTIVE",lastSync:new Date().toISOString()})),n.product&&(await ot.products.get(n.product.id)||await ot.products.add({id:n.product.id,name:n.product.name,sku:n.product.sku,unit:n.product.unit,price:n.product.price,image:n.product.image,status:n.product.status?.statusName||"ACTIVE",lastSync:new Date().toISOString()}));return console.log(` ${e.length} asignaciones sincronizadas`),await p1("assignments"),{success:!0,count:e.length}}catch(t){throw console.error(" Error sincronizando asignaciones:",t),t}},i_=async()=>{try{console.log(" Sincronizando catlogo de productos...");const e=(await di.getActives()).data.result||[];for(const n of e)await ot.products.put({id:n.id,name:n.name,sku:n.sku,unit:n.unit,price:n.price,image:n.image,status:n.status?.statusName||"ACTIVE",lastSync:new Date().toISOString()});return console.log(` ${e.length} productos sincronizados`),await p1("products"),{success:!0,count:e.length}}catch(t){throw console.error(" Error sincronizando productos:",t),t}},o_=async()=>{console.log(" Iniciando sincronizacin completa...");const t={assignments:null,products:null,errors:[]};try{t.assignments=await mx()}catch(e){t.errors.push({type:"assignments",error:e.message})}try{t.products=await i_()}catch(e){t.errors.push({type:"products",error:e.message})}return await p1("lastFullSync"),console.log(" Sincronizacin completa finalizada",t),t},rh=async()=>{console.log(" Pre-cacheando todos los datos del dealer...");const t={visits:0,orders:0,assignments:0,products:0,errors:[]};try{console.log(" Pre-cacheando visitas de hoy...");const n=(await yi.getTodayVisits()).data.result||[];t.visits=n.length,n.length>0&&await cl(n,"/api/visits"),console.log(` ${n.length} visitas pre-cacheadas`)}catch(e){console.error(" Error pre-cacheando visitas:",e),t.errors.push({type:"visits",error:e.message})}try{console.log(" Pre-cacheando mis pedidos...");const n=(await hi.getMyOrders()).data.result||[];t.orders=n.length,n.length>0&&await cl(n,"/api/orders"),console.log(` ${n.length} pedidos pre-cacheados`)}catch(e){console.error(" Error pre-cacheando pedidos:",e),t.errors.push({type:"orders",error:e.message})}try{console.log(" Pre-cacheando mis asignaciones...");const n=(await zf()).data.result||[];if(t.assignments=n.length,n.length>0){await cl(n,"/api/assignments/me"),console.log(` Actualizando ${n.length} tiendas en db.stores...`);let r=0;for(const i of n)if(i.store)try{console.log(` Guardando tienda ${i.store.id} (${i.store.name}) en db.stores`),await ot.stores.put({id:i.store.id,name:i.store.name,address:i.store.address,latitude:i.store.latitude,longitude:i.store.longitude,qrCode:i.store.qrCode,status:i.store.status,lastSync:new Date().toISOString()}),r++,console.log(` Tienda ${i.store.id} guardada exitosamente`)}catch(o){console.error(` Error guardando tienda ${i.store.id}:`,o)}console.log(` ${n.length} asignaciones pre-cacheadas`),console.log(` ${r} tiendas actualizadas en db.stores`)}}catch(e){console.error(" Error pre-cacheando asignaciones:",e),t.errors.push({type:"assignments",error:e.message})}try{console.log(" Pre-cacheando productos activos...");const n=(await di.getActives()).data.result||[];t.products=n.length,console.log(` ${n.length} productos pre-cacheados`)}catch(e){console.error(" Error pre-cacheando productos:",e),t.errors.push({type:"products",error:e.message})}try{await o_()}catch(e){console.warn(" Error en sincronizacin legacy:",e)}return console.log(" Pre-cach completado:",t),t},s_=async()=>{const t=await ot.pendingVisits.where("synced").equals(0).toArray();if(t.length===0)return console.log(" No hay visitas pendientes de sincronizar"),{success:!0,count:0,errors:[]};console.log(` Sincronizando ${t.length} visitas pendientes...`);const e={success:0,failed:0,errors:[]};for(const n of t)try{const r=await yi.checkInByQr({qrCode:n.qrCode,latitude:n.latitude,longitude:n.longitude});await ot.pendingVisits.delete(n.id),e.success++,console.log(` Visita ${n.id} sincronizada con servidor (Visit ID: ${r.data.result?.id}) y eliminada de cach local`)}catch(r){console.error(` Error sincronizando visita ${n.id}:, error`);const i=(n.syncAttempts||0)+1;await ot.pendingVisits.update(n.id,{syncAttempts:i,errorMessage:r.response?.data?.message||r.message,lastSyncAttempt:new Date().toISOString()}),e.failed++,e.errors.push({visitId:n.id,error:r.response?.data?.message||r.message})}return console.log(` Visitas sincronizadas: ${e.success}, Fallidas: ${e.failed}`),e},l_=async()=>{const t=await ot.pendingOrders.where("synced").equals(0).toArray();if(t.length===0)return console.log(" No hay pedidos pendientes de sincronizar"),{success:!0,count:0,errors:[],skipped:0};console.log(` Sincronizando ${t.length} pedidos pendientes...`);const e={success:0,failed:0,skipped:0,errors:[]};for(const n of t)try{let r=n.visitId;if(!r&&n.storeId){const l=new Date().toISOString().split("T")[0];try{const h=((await Xe.get("/api/visits/today")).data.result||[]).find(v=>v.store?.id===n.storeId);h&&(r=h.id,console.log(` Vinculando pedido ${n.id} con visita ${r}`),await ot.pendingOrders.update(n.id,{visitId:r}))}catch(u){console.warn("No se pudo obtener visitas del servidor:",u)}}if(!r){console.warn(` Pedido ${n.id} omitido: Sin visitId disponible. Debe sincronizarse la visita primero.`),await ot.pendingOrders.update(n.id,{errorMessage:"Sin visitId: la visita debe sincronizarse primero",lastSyncAttempt:new Date().toISOString()}),e.skipped++,e.errors.push({orderId:n.id,error:"Sin visitId disponible",canRetry:!0});continue}const i=n.items.map(l=>({productId:l.productId,quantity:l.quantity,price:l.price||l.unitPrice,notes:l.notes||""})),o=await Xe.post("/api/orders/",{visitId:r,items:i,total:n.total,notes:n.notes||"",offlineUniqueId:n.offlineUniqueId});await ot.pendingOrders.delete(n.id),e.success++,console.log(` Pedido ${n.id} sincronizado con servidor (Order ID: ${o.data.result?.id}) y eliminado de cach local`)}catch(r){console.error(` Error sincronizando pedido ${n.id}:, error`);const i=(n.syncAttempts||0)+1,o=r.response?.data?.message||r.message;await ot.pendingOrders.update(n.id,{syncAttempts:i,errorMessage:o,lastSyncAttempt:new Date().toISOString()}),e.failed++,e.errors.push({orderId:n.id,error:o,canRetry:i<5})}return console.log(` Pedidos: ${e.success} sincronizados, ${e.failed} fallidos, ${e.skipped} omitidos`),e},Lc=async()=>{if(!Dt())return console.log(" Sin conexin, no se puede sincronizar"),{success:!1,message:"Sin conexin a internet",visits:{success:0,failed:0},orders:{success:0,failed:0,skipped:0}};console.log(" Sincronizando todos los datos pendientes..."),console.log(" Paso 1/2: Sincronizando visitas...");const t=await s_();console.log(" Paso 2/2: Sincronizando pedidos...");const e=await l_(),n=t.success+e.success,r=t.failed+e.failed,i=e.skipped||0;return console.log(" Sincronizacin completa:"),console.log(`   - xitos: ${n}`),console.log(`   - Fallos: ${r}`),console.log(`   - Omitidos: ${i}`),{success:r===0&&i===0,visits:t,orders:e,totalSuccess:n,totalFailed:r,totalSkipped:i}},c_=async()=>await ot.stores.toArray(),ym=async()=>await ot.products.where("status").equals("ACTIVE").toArray(),xm=async t=>await ot.stores.where("qrCode").equals(t).first(),u_=()=>{window.addEventListener("online",async()=>{console.log(" Conexin restaurada, iniciando auto-sincronizacin...");try{await Lc()}catch(t){console.error("Error en auto-sincronizacin:",t)}}),window.addEventListener("offline",()=>{console.log(" Conexin perdida, modo offline activado")})},yx=j.createContext(),yl=()=>j.useContext(yx),f_=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0);j.useEffect(()=>{(()=>{const w=localStorage.getItem("token"),E=localStorage.getItem("user");w&&E&&n(JSON.parse(E)),i(!1)})(),u_(),navigator.onLine&&Lc().catch(w=>{console.error("Error en sincronizacin inicial:",w)});const v=async()=>{const w=localStorage.getItem("user");if(w&&JSON.parse(w).role==="DEALER"){console.log(" Conexin restaurada - Sincronizando nuevos datos del servidor...");try{await Lc(),await rh(),console.log(" Sincronizacin automtica completada - Datos actualizados"),window.dispatchEvent(new CustomEvent("dataRefreshed"))}catch(_){console.error(" Error en sincronizacin automtica:",_)}}},m=async()=>{const w=localStorage.getItem("user");if(w){const E=JSON.parse(w);if(E.role==="DEALER"&&navigator.onLine){console.log(" Nueva notificacin recibida - Refrescando datos en segundo plano...");try{await rh(),console.log(" Datos refrescados automticamente - Nuevas visitas/asignaciones disponibles"),window.dispatchEvent(new CustomEvent("dataRefreshed"))}catch(_){console.error(" Error refrescando datos despus de notificacin:",_)}}else E.role==="DEALER"&&!navigator.onLine&&console.log(" Nueva notificacin recibida pero ests offline - Datos se sincronizarn cuando vuelvas online")}};return window.addEventListener("online",v),window.addEventListener("newNotification",m),()=>{window.removeEventListener("online",v),window.removeEventListener("newNotification",m)}},[]);const d={user:e,login:async(h,v)=>{try{const m=await Xe.post("/auth/login",{email:h,password:v});console.log(" RESPUESTA BACKEND:",m.data);const{token:w,user:E}=m.data;if(!w)throw new Error("No se recibi token");let _="";const S=E?.rol||E?.role||m.data.role;console.log(" OBJETO ROL ENCONTRADO:",S),S&&(typeof S=="string"?_=S:typeof S=="object"&&(_=S.roleEnum||S.name||S.nombre||S.authority)),console.log(" ROL STRING FINAL:",_),_||(console.error(" ERROR CRTICO: No se pudo extraer el nombre del rol."),_="DEALER");const T={...E,role:_,token:w};localStorage.setItem("token",w),localStorage.setItem("user",JSON.stringify(T));try{await ot.users.put({id:T.id||h,name:T.name||h,role:_,token:w})}catch(R){console.warn(R)}return n(T),_==="DEALER"&&setTimeout(async()=>{try{console.log(" Pre-cacheando todos los datos del dealer..."),await rh(),console.log(" Todos los datos pre-cacheados - Listo para trabajar offline!")}catch(R){console.error(" Error pre-cacheando datos:",R)}},1e3),{success:!0,role:_}}catch(m){return console.error("Login error:",m),{success:!1,message:m.response?.data?.message||"Error al iniciar sesin"}}},register:async h=>{try{const v=await Xe.post("/auth/register",h);return{success:!0,message:"Usuario registrado"}}catch(v){return{success:!1,message:v.response?.data?.message||"Error registro"}}},logout:async()=>{localStorage.removeItem("token"),localStorage.removeItem("user");try{await ot.users.clear()}catch{}n(null),window.location.href="/login"},loading:r};return p.jsx(yx.Provider,{value:d,children:!r&&t})},d_=()=>{};var bm={};const xx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,v=o>>2,m=(o&3)<<4|u>>4;let w=(u&15)<<2|h>>6,E=h&63;d||(E=64,l||(w=64)),r.push(n[v],n[m],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||m==null)throw new p_;const w=o<<2|u>>4;if(r.push(w),h!==64){const E=u<<4&240|h>>2;if(r.push(E),m!==64){const _=h<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g_=function(t){const e=xx(t);return bx.encodeByteArray(e,!0)},wx=function(t){return g_(t).replace(/\./g,"")},v_=function(t){try{return bx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const y_=()=>m_().__FIREBASE_DEFAULTS__,x_=()=>{if(typeof process>"u"||typeof bm>"u")return;const t=bm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v_(t[1]);return e&&JSON.parse(e)},w_=()=>{try{return d_()||y_()||x_()||b_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ex=()=>w_()?.config;class E_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function _x(){try{return typeof indexedDB=="object"}catch{return!1}}function Ax(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function __(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const A_="FirebaseError";class xl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A_,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?S_(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new xl(i,u,r)}}function S_(t,e){return t.replace(C_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C_=/\{\$([^}]+)}/g;function Rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(wm(o)&&wm(l)){if(!Rh(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wm(t){return t!==null&&typeof t=="object"}function g1(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class N_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T_(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O_(t){return t===ts?void 0:t}function T_(t){return t.instantiationMode==="EAGER"}class D_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qt||(Qt={}));const I_={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},R_=Qt.INFO,M_={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},j_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B_{constructor(e){this.name=e,this._logLevel=R_,this._logHandler=j_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const L_=(t,e)=>e.some(n=>t instanceof n);let Em,_m;function k_(){return Em||(Em=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P_(){return _m||(_m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,Mh=new WeakMap,Cx=new WeakMap,ah=new WeakMap,v1=new WeakMap;function F_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(pi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Sx.set(n,t)}).catch(()=>{}),v1.set(e,t),e}function U_(t){if(Mh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Mh.set(t,e)}let jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z_(t){jh=t(jh)}function H_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ih(this),e,...n);return Cx.set(r,e.sort?e.sort():[e]),pi(r)}:P_().includes(t)?function(...e){return t.apply(ih(this),e),pi(Sx.get(this))}:function(...e){return pi(t.apply(ih(this),e))}}function V_(t){return typeof t=="function"?H_(t):(t instanceof IDBTransaction&&U_(t),L_(t,k_())?new Proxy(t,jh):t)}function pi(t){if(t instanceof IDBRequest)return F_(t);if(ah.has(t))return ah.get(t);const e=V_(t);return e!==t&&(ah.set(t,e),v1.set(e,t)),e}const ih=t=>v1.get(t);function Vf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=pi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(pi(l.result),d.oldVersion,d.newVersion,pi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}function oh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),pi(n).then(()=>{})}const q_=["get","getKey","getAll","getAllKeys","count"],G_=["put","add","delete","clear"],sh=new Map;function Am(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sh.get(e))return sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q_.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return sh.set(e,o),o}z_(t=>({...t,get:(e,n,r)=>Am(e,n)||t.get(e,n,r),has:(e,n)=>!!Am(e,n)||t.has(e,n)}));class X_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K_(t){return t.getComponent()?.type==="VERSION"}const Bh="@firebase/app",Sm="0.14.6";const xi=new B_("@firebase/app"),$_="@firebase/app-compat",Y_="@firebase/analytics-compat",W_="@firebase/analytics",Z_="@firebase/app-check-compat",Q_="@firebase/app-check",J_="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",rA="@firebase/database-compat",aA="@firebase/functions",iA="@firebase/functions-compat",oA="@firebase/installations",sA="@firebase/installations-compat",lA="@firebase/messaging",cA="@firebase/messaging-compat",uA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",hA="@firebase/remote-config-compat",pA="@firebase/storage",gA="@firebase/storage-compat",vA="@firebase/firestore",mA="@firebase/ai",yA="@firebase/firestore-compat",xA="firebase";const Lh="[DEFAULT]",bA={[Bh]:"fire-core",[$_]:"fire-core-compat",[W_]:"fire-analytics",[Y_]:"fire-analytics-compat",[Q_]:"fire-app-check",[Z_]:"fire-app-check-compat",[J_]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[aA]:"fire-fn",[iA]:"fire-fn-compat",[oA]:"fire-iid",[sA]:"fire-iid-compat",[lA]:"fire-fcm",[cA]:"fire-fcm-compat",[uA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[hA]:"fire-rc-compat",[pA]:"fire-gcs",[gA]:"fire-gcs-compat",[vA]:"fire-fst",[yA]:"fire-fst-compat",[mA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};const Tf=new Map,wA=new Map,kh=new Map;function Cm(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cs(t){const e=t.name;if(kh.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,t);for(const n of Tf.values())Cm(n,t);for(const n of wA.values())Cm(n,t);return!0}function m1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const EA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Hf("app","Firebase",EA);class _A{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}function Nx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Lh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=Ex()),!n)throw co.create("no-options");const o=Tf.get(i);if(o){if(Rh(n,o.options)&&Rh(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const l=new D_(i);for(const d of kh.values())l.addComponent(d);const u=new _A(n,r,l);return Tf.set(i,u),u}function AA(t=Lh){const e=Tf.get(t);if(!e&&t===Lh&&Ex())return Nx();if(!e)throw co.create("no-app",{appName:t});return e}function uo(t,e,n){let r=bA[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(l.join(" "));return}cs(new po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const SA="firebase-heartbeat-database",CA=1,kc="firebase-heartbeat-store";let lh=null;function Ox(){return lh||(lh=Vf(SA,CA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),lh}async function NA(t){try{const n=(await Ox()).transaction(kc),r=await n.objectStore(kc).get(Tx(t));return await n.done,r}catch(e){if(e instanceof xl)xi.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}}async function Nm(t,e){try{const r=(await Ox()).transaction(kc,"readwrite");await r.objectStore(kc).put(e,Tx(t)),await r.done}catch(n){if(n instanceof xl)xi.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n?.message});xi.warn(r.message)}}}function Tx(t){return`${t.name}!${t.options.appId}`}const OA=1024,TA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Om();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>TA){const i=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Om(),{heartbeatsToSend:n,unsentEntries:r}=IA(this._heartbeatsCache.heartbeats),i=wx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return xi.warn(e),""}}}function Om(){return new Date().toISOString().substring(0,10)}function IA(t,e=OA){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Tm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _x()?Ax().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Tm(t){return wx(JSON.stringify({version:2,heartbeats:t})).length}function MA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function jA(t){cs(new po("platform-logger",e=>new X_(e),"PRIVATE")),cs(new po("heartbeat",e=>new DA(e),"PRIVATE")),uo(Bh,Sm,t),uo(Bh,Sm,"esm2020"),uo("fire-js","")}jA("");var BA="firebase",LA="12.6.0";uo(BA,LA,"app");const Dx="@firebase/installations",y1="0.6.19";const Ix=1e4,Rx=`w:${y1}`,Mx="FIS_v2",kA="https://firebaseinstallations.googleapis.com/v1",PA=3600*1e3,FA="installations",UA="Installations";const zA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},us=new Hf(FA,UA,zA);function jx(t){return t instanceof xl&&t.code.includes("request-failed")}function Bx({projectId:t}){return`${kA}/projects/${t}/installations`}function Lx(t){return{token:t.token,requestStatus:2,expiresIn:VA(t.expiresIn),creationTime:Date.now()}}async function kx(t,e){const r=(await e.json()).error;return us.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Px({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HA(t,{refreshToken:e}){const n=Px(t);return n.append("Authorization",qA(e)),n}async function Fx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VA(t){return Number(t.replace("s","000"))}function qA(t){return`${Mx} ${t}`}async function GA({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Bx(t),i=Px(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={fid:n,authVersion:Mx,appId:t.appId,sdkVersion:Rx},u={method:"POST",headers:i,body:JSON.stringify(l)},d=await Fx(()=>fetch(r,u));if(d.ok){const h=await d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Lx(h.authToken)}}else throw await kx("Create Installation",d)}function Ux(t){return new Promise(e=>{setTimeout(e,t)})}function XA(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const KA=/^[cdef][\w-]{21}$/,Ph="";function $A(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YA(t);return KA.test(n)?n:Ph}catch{return Ph}}function YA(t){return XA(t).substr(0,22)}function qf(t){return`${t.appName}!${t.appId}`}const zx=new Map;function Hx(t,e){const n=qf(t);Vx(n,e),WA(n,e)}function Vx(t,e){const n=zx.get(t);if(n)for(const r of n)r(e)}function WA(t,e){const n=ZA();n&&n.postMessage({key:t,fid:e}),QA()}let as=null;function ZA(){return!as&&"BroadcastChannel"in self&&(as=new BroadcastChannel("[Firebase] FID Change"),as.onmessage=t=>{Vx(t.data.key,t.data.fid)}),as}function QA(){zx.size===0&&as&&(as.close(),as=null)}const JA="firebase-installations-database",e4=1,fs="firebase-installations-store";let ch=null;function x1(){return ch||(ch=Vf(JA,e4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fs)}}})),ch}async function Df(t,e){const n=qf(t),i=(await x1()).transaction(fs,"readwrite"),o=i.objectStore(fs),l=await o.get(n);return await o.put(e,n),await i.done,(!l||l.fid!==e.fid)&&Hx(t,e.fid),e}async function qx(t){const e=qf(t),r=(await x1()).transaction(fs,"readwrite");await r.objectStore(fs).delete(e),await r.done}async function Gf(t,e){const n=qf(t),i=(await x1()).transaction(fs,"readwrite"),o=i.objectStore(fs),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await i.done,u&&(!l||l.fid!==u.fid)&&Hx(t,u.fid),u}async function b1(t){let e;const n=await Gf(t.appConfig,r=>{const i=t4(r),o=n4(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Ph?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t4(t){const e=t||{fid:$A(),registrationStatus:0};return Gx(e)}function n4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(us.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:a4(t)}:{installationEntry:e}}async function r4(t,e){try{const n=await GA(t,e);return Df(t.appConfig,n)}catch(n){throw jx(n)&&n.customData.serverCode===409?await qx(t.appConfig):await Df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function a4(t){let e=await Dm(t.appConfig);for(;e.registrationStatus===1;)await Ux(100),e=await Dm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await b1(t);return r||n}return e}function Dm(t){return Gf(t,e=>{if(!e)throw us.create("installation-not-found");return Gx(e)})}function Gx(t){return i4(t)?{fid:t.fid,registrationStatus:0}:t}function i4(t){return t.registrationStatus===1&&t.registrationTime+Ix<Date.now()}async function o4({appConfig:t,heartbeatServiceProvider:e},n){const r=s4(t,n),i=HA(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={installation:{sdkVersion:Rx,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},d=await Fx(()=>fetch(r,u));if(d.ok){const h=await d.json();return Lx(h)}else throw await kx("Generate Auth Token",d)}function s4(t,{fid:e}){return`${Bx(t)}/${e}/authTokens:generate`}async function w1(t,e=!1){let n;const r=await Gf(t.appConfig,o=>{if(!Xx(o))throw us.create("not-registered");const l=o.authToken;if(!e&&u4(l))return o;if(l.requestStatus===1)return n=l4(t,e),o;{if(!navigator.onLine)throw us.create("app-offline");const u=d4(o);return n=c4(t,u),u}});return n?await n:r.authToken}async function l4(t,e){let n=await Im(t.appConfig);for(;n.authToken.requestStatus===1;)await Ux(100),n=await Im(t.appConfig);const r=n.authToken;return r.requestStatus===0?w1(t,e):r}function Im(t){return Gf(t,e=>{if(!Xx(e))throw us.create("not-registered");const n=e.authToken;return h4(n)?{...e,authToken:{requestStatus:0}}:e})}async function c4(t,e){try{const n=await o4(t,e),r={...e,authToken:n};return await Df(t.appConfig,r),n}catch(n){if(jx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qx(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Df(t.appConfig,r)}throw n}}function Xx(t){return t!==void 0&&t.registrationStatus===2}function u4(t){return t.requestStatus===2&&!f4(t)}function f4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+PA}function d4(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function h4(t){return t.requestStatus===1&&t.requestTime+Ix<Date.now()}async function p4(t){const e=t,{installationEntry:n,registrationPromise:r}=await b1(e);return r?r.catch(console.error):w1(e).catch(console.error),n.fid}async function g4(t,e=!1){const n=t;return await v4(n),(await w1(n,e)).token}async function v4(t){const{registrationPromise:e}=await b1(t);e&&await e}function m4(t){if(!t||!t.options)throw uh("App Configuration");if(!t.name)throw uh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw uh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function uh(t){return us.create("missing-app-config-values",{valueName:t})}const Kx="installations",y4="installations-internal",x4=t=>{const e=t.getProvider("app").getImmediate(),n=m4(e),r=m1(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b4=t=>{const e=t.getProvider("app").getImmediate(),n=m1(e,Kx).getImmediate();return{getId:()=>p4(n),getToken:i=>g4(n,i)}};function w4(){cs(new po(Kx,x4,"PUBLIC")),cs(new po(y4,b4,"PRIVATE"))}w4();uo(Dx,y1);uo(Dx,y1,"esm2020");const E4="/firebase-messaging-sw.js",_4="/firebase-cloud-messaging-push-scope",$x="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",A4="https://fcmregistrations.googleapis.com/v1",Yx="google.c.a.c_id",S4="google.c.a.c_l",C4="google.c.a.ts",N4="google.c.a.e",Rm=1e4;var Mm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Mm||(Mm={}));var Pc;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Pc||(Pc={}));function ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const fh="fcm_token_details_db",T4=5,jm="fcm_token_object_Store";async function D4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(fh))return null;let e=null;return(await Vf(fh,T4,{upgrade:async(r,i,o,l)=>{if(i<2||!r.objectStoreNames.contains(jm))return;const u=l.objectStore(jm),d=await u.index("fcmSenderId").get(t);if(await u.clear(),!!d){if(i===2){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:h.createTime??Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:ui(h.vapidKey)}}}else if(i===3){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ui(h.auth),p256dh:ui(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ui(h.vapidKey)}}}else if(i===4){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ui(h.auth),p256dh:ui(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ui(h.vapidKey)}}}}}})).close(),await oh(fh),await oh("fcm_vapid_details_db"),await oh("undefined"),I4(e)?e:null}function I4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const R4="firebase-messaging-database",M4=1,Fc="firebase-messaging-store";let dh=null;function Wx(){return dh||(dh=Vf(R4,M4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fc)}}})),dh}async function j4(t){const e=Zx(t),r=await(await Wx()).transaction(Fc).objectStore(Fc).get(e);if(r)return r;{const i=await D4(t.appConfig.senderId);if(i)return await E1(t,i),i}}async function E1(t,e){const n=Zx(t),i=(await Wx()).transaction(Fc,"readwrite");return await i.objectStore(Fc).put(e,n),await i.done,e}function Zx({appConfig:t}){return t.appId}const B4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ar=new Hf("messaging","Messaging",B4);async function L4(t,e){const n=await A1(t),r=Qx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(_1(t.appConfig),i)).json()}catch(l){throw ar.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw ar.create("token-subscribe-failed",{errorInfo:l})}if(!o.token)throw ar.create("token-subscribe-no-token");return o.token}async function k4(t,e){const n=await A1(t),r=Qx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${_1(t.appConfig)}/${e.token}`,i)).json()}catch(l){throw ar.create("token-update-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw ar.create("token-update-failed",{errorInfo:l})}if(!o.token)throw ar.create("token-update-no-token");return o.token}async function P4(t,e){const r={method:"DELETE",headers:await A1(t)};try{const o=await(await fetch(`${_1(t.appConfig)}/${e}`,r)).json();if(o.error){const l=o.error.message;throw ar.create("token-unsubscribe-failed",{errorInfo:l})}}catch(i){throw ar.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function _1({projectId:t}){return`${A4}/projects/${t}/registrations`}async function A1({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Qx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==$x&&(i.web.applicationPubKey=r),i}const F4=10080*60*1e3;async function U4(t){const e=await H4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=await j4(t.firebaseDependencies);if(r){if(V4(r.subscriptionOptions,n))return Date.now()>=r.createTime+F4?z4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await P4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Bm(t.firebaseDependencies,n)}else return Bm(t.firebaseDependencies,n)}async function z4(t,e){try{const n=await k4(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await E1(t.firebaseDependencies,r),n}catch(n){throw n}}async function Bm(t,e){const r={token:await L4(t,e),createTime:Date.now(),subscriptionOptions:e};return await E1(t,r),r.token}async function H4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O4(e)})}function V4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function Lm(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return q4(e,t),G4(e,t),X4(e,t),e}function q4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function G4(t,e){e.data&&(t.data=e.data)}function X4(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}function K4(t){return typeof t=="object"&&!!t&&Yx in t}function $4(t){if(!t||!t.options)throw hh("App Configuration Object");if(!t.name)throw hh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw hh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function hh(t){return ar.create("missing-app-config-values",{valueName:t})}class Y4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=$4(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function W4(t){try{t.swRegistration=await navigator.serviceWorker.register(E4,{scope:_4}),t.swRegistration.update().catch(()=>{}),await Z4(t.swRegistration)}catch(e){throw ar.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function Z4(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Rm} ms`)),Rm),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{o.target?.state==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}async function Q4(t,e){if(!e&&!t.swRegistration&&await W4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");t.swRegistration=e}}async function J4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=$x)}async function Jx(t,e){if(!navigator)throw ar.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ar.create("permission-blocked");return await J4(t,e?.vapidKey),await Q4(t,e?.serviceWorkerRegistration),U4(t)}async function eS(t,e,n){const r=tS(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Yx],message_name:n[S4],message_time:n[C4],message_device_time:Math.floor(Date.now()/1e3)})}function tS(t){switch(t){case Pc.NOTIFICATION_CLICKED:return"notification_open";case Pc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function nS(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Pc.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Lm(n)):t.onMessageHandler.next(Lm(n)));const r=n.data;K4(r)&&r[N4]==="1"&&await eS(t,n.messageType,r)}const km="@firebase/messaging",Pm="0.12.23";const rS=t=>{const e=new Y4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>nS(e,n)),e},aS=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>Jx(e,r)}};function iS(){cs(new po("messaging",rS,"PUBLIC")),cs(new po("messaging-internal",aS,"PRIVATE")),uo(km,Pm),uo(km,Pm,"esm2020")}async function oS(){try{await Ax()}catch{return!1}return typeof window<"u"&&_x()&&__()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function sS(t,e){if(!navigator)throw ar.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}function lS(t=AA()){return oS().then(e=>{if(!e)throw ar.create("unsupported-browser")},e=>{throw ar.create("indexed-db-unsupported")}),m1(g1(t),"messaging").getImmediate()}async function e2(t,e){return t=g1(t),Jx(t,e)}function cS(t,e){return t=g1(t),sS(t,e)}iS();const uS={apiKey:"AIzaSyCQ4zmGyhXAc-xSh3nPujfeg9eEAfiPfV4",authDomain:"cygdp-7c00f.firebaseapp.com",projectId:"cygdp-7c00f",storageBucket:"cygdp-7c00f.firebasestorage.app",messagingSenderId:"966588180784",appId:"1:966588180784:web:1de673a345d89bfcad00f5"},Fh="BMtujeVKTse-GL7Y4FkAdpAo_9oKdugmQERt3-0I48El-nPUc-5C44177OTotJzzVd2mHi0CJ6ENafvflp9Zn_Q";console.log(" Inicializando Firebase...");const ff=Nx(uS);console.log(" Firebase App inicializada");let $n=null;const t2=()=>{try{return console.log(" [PASO 1/5] Intentando inicializar Firebase Messaging..."),console.log(" [PASO 2/5] Verificando soporte del navegador..."),console.log("  - Service Worker support:","serviceWorker"in navigator),console.log("  - Notification support:","Notification"in window),console.log("  - Protocol:",window.location.protocol),console.log("  - Hostname:",window.location.hostname),"serviceWorker"in navigator?"Notification"in window?(console.log(" [PASO 3/5] Verificando Firebase App..."),console.log("  - Firebase App inicializada:",ff?"S":"NO"),console.log("  - Firebase App name:",ff?.name),console.log("  - Firebase Project ID:",ff?.options?.projectId),console.log(" [PASO 4/5] Llamando a getMessaging()..."),$n=lS(ff),console.log(" [PASO 5/5] Verificando objeto messaging..."),console.log("  - Messaging object:",$n),console.log("  - Messaging app:",$n?.app),console.log(" Firebase Messaging inicializado correctamente"),$n):(console.error(" Notificaciones no soportadas en este navegador"),null):(console.error(" Service Workers no soportados en este navegador"),null)}catch(t){return console.error(" Error inicializando Firebase Messaging:",t),console.error("  - Error name:",t.name),console.error("  - Error message:",t.message),console.error("  - Error stack:",t.stack),null}};$n=t2();const fS=({onNotificationReceived:t})=>(j.useEffect(()=>{if(console.log(" NotificationListener montado"),console.log(" Verificando messaging object:",$n),console.log(" Tipo de messaging:",typeof $n),console.log(" Messaging es null:",$n===null),console.log(" Messaging es undefined:",$n===void 0),!$n){console.error(" Firebase Messaging NO DISPONIBLE en NotificationListener"),console.error(" Esto significa que las notificaciones push NO funcionarn"),console.error(" Solo funcionarn las notificaciones in-app (polling)"),console.error(" Revisa los logs de firebase-config.js para ver por qu fall la inicializacin");return}console.log(" Firebase Messaging disponible, configurando listener...");const e=cS($n,n=>{console.log(" NOTIFICACIN RECIBIDA EN FOREGROUND:",n);const{title:r,body:i}=n.notification||{};if(console.log(` Ttulo: "${r}"`),console.log(` Mensaje: "${i}"`),console.log(" Data:, payload.data"),t&&t(n),window.dispatchEvent(new CustomEvent("newNotification",{detail:n})),r&&i){if(Notification.permission==="granted"){console.log(" Mostrando notificacin del navegador...");try{const o=new Notification(r,{body:i,icon:"/icon-192x192.png",badge:"/icon-192x192.png",data:n.data,requireInteraction:!1,tag:n.data?.type||"notification"});o.onclick=()=>{console.log(" Notificacin clickeada"),window.focus(),o.close()},console.log(" Notificacin mostrada correctamente")}catch(o){console.error(" Error mostrando notificacin:",o)}}else console.warn(` No se puede mostrar notificacin. Permiso: ${Notification.permission}`);console.log(` ${r}: ${i}`)}else console.warn(" La notificacin no tiene ttulo o cuerpo:",{title:r,body:i})});return console.log(" Listener de notificaciones configurado correctamente"),()=>{console.log(" NotificationListener desmontado"),e()}},[]),null);const dS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Fm=t=>{const e=hS(t);return e.charAt(0).toUpperCase()+e.slice(1)},n2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),pS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vS=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>j.createElement("svg",{ref:d,...gS,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:n2("lucide",i),...!o&&!pS(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,v])=>j.createElement(h,v)),...Array.isArray(o)?o:[o]]));const ft=(t,e)=>{const n=j.forwardRef(({className:r,...i},o)=>j.createElement(vS,{ref:o,iconNode:e,className:n2(`lucide-${dS(Fm(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Fm(t),n};const mS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sn=ft("arrow-left",mS);const yS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xS=ft("bell",yS);const bS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ia=ft("calendar",bS);const wS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],r2=ft("camera",wS);const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_S=ft("circle-alert",ES);const AS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],If=ft("circle-check-big",AS);const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],CS=ft("circle-user",SS);const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],a2=ft("circle-x",NS);const OS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],go=ft("clock",OS);const TS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xf=ft("dollar-sign",TS);const DS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IS=ft("download",DS);const RS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],S1=ft("file-text",RS);const MS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],i2=ft("funnel",MS);const jS=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Um=ft("keyboard",jS);const BS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LS=ft("lock",BS);const kS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],o2=ft("log-out",kS);const PS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FS=ft("mail",PS);const US=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vo=ft("map-pin",US);const zS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],HS=ft("navigation",zS);const VS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fl=ft("package",VS);const qS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uh=ft("plus",qS);const GS=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],XS=ft("power",GS);const KS=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Kf=ft("qr-code",KS);const $S=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s2=ft("refresh-cw",$S);const YS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zm=ft("save",YS);const WS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZS=ft("search",WS);const QS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JS=ft("send",QS);const eC=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tC=ft("shopping-bag",eC);const nC=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],C1=ft("shopping-cart",nC);const rC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aC=ft("square-pen",rC);const iC=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ds=ft("store",iC);const oC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zh=ft("trash-2",oC);const sC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],lC=ft("truck",sC);const cC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N1=ft("user",cC);const uC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zr=ft("wifi-off",uC);const fC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Hm=ft("wifi",fC);const dC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hC=ft("x",dC),pC=()=>{const[t,e]=j.useState(!Dt()),[n,r]=j.useState({visits:0,orders:0,total:0}),[i,o]=j.useState(!1),[l,u]=j.useState(!1),[d,h]=j.useState(null);j.useEffect(()=>{const m=()=>{e(!navigator.onLine)};return window.addEventListener("online",m),window.addEventListener("offline",m),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",m)}},[]),j.useEffect(()=>{const m=async()=>{try{const E=await Ih();r(E)}catch(E){console.error("Error obteniendo datos pendientes:",E)}};m();const w=setInterval(m,1e4);return()=>clearInterval(w)},[t]);const v=async()=>{if(t){alert("No hay conexin a internet. La sincronizacin se realizar automticamente cuando se restaure la conexin.");return}o(!0),h(null);try{const m=await Lc();if(m.success)alert(` Sincronizacin exitosa!

- Visitas: ${m.visits.success}
- Pedidos: ${m.orders.success}`);else{let E=` Sincronizacin parcial:

`;E+=-`Visitas exitosas: ${m.visits.success}
`,m.visits.failed>0&&(E+=-`Visitas fallidas: ${m.visits.failed}
`),E+=-`Pedidos exitosos: ${m.orders.success}
`,m.orders.failed>0&&(E+=-`Pedidos fallidos: ${m.orders.failed}
`),m.orders.skipped>0&&(E+=-`Pedidos omitidos: ${m.orders.skipped} (sin visita asociada)
`),h(E),alert(E)}const w=await Ih();r(w)}catch(m){console.error("Error sincronizando:",m),h("Error al sincronizar: "+m.message),alert("Error al sincronizar: "+m.message)}finally{o(!1)}};return!t&&n.total===0?null:p.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[p.jsxs("div",{className:`${t?"bg-orange-500":"bg-blue-500"} text-white rounded-lg shadow-lg cursor-pointer transition-all hover:shadow-xl`,onClick:()=>u(!l),children:[!l&&p.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[t?p.jsx(Zr,{className:"w-5 h-5"}):p.jsx(Hm,{className:"w-5 h-5"}),p.jsxs("span",{className:"font-semibold",children:[t?"Offline":"Online",n.total>0&&` (${n.total} pendientes)`]})]}),l&&p.jsxs("div",{className:"px-4 py-3 min-w-[280px]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[t?p.jsx(Zr,{className:"w-5 h-5"}):p.jsx(Hm,{className:"w-5 h-5"}),p.jsx("span",{className:"font-bold text-lg",children:t?"Modo Offline":"Conectado"})]}),p.jsx("button",{onClick:m=>{m.stopPropagation(),u(!1)},className:"text-white hover:text-gray-200",children:""})]}),n.total>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white bg-opacity-20 rounded p-2 mb-3 text-sm",children:[p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{children:"Visitas pendientes:"}),p.jsx("span",{className:"font-semibold",children:n.visits})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Pedidos pendientes:"}),p.jsx("span",{className:"font-semibold",children:n.orders})]})]}),!t&&p.jsxs("button",{onClick:m=>{m.stopPropagation(),v()},disabled:i,className:"w-full bg-white text-blue-600 py-2 rounded flex items-center justify-center gap-2 hover:bg-gray-100 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed font-semibold",children:[p.jsx(s2,{className:`w-4 h-4 ${i?"animate-spin":""}`}),i?"Sincronizando...":"Sincronizar ahora"]}),t&&p.jsxs("div",{className:"flex items-start gap-2 text-xs bg-white bg-opacity-20 rounded p-2",children:[p.jsx(_S,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),p.jsx("span",{children:"Los datos se sincronizarn automticamente cuando se restaure la conexin."})]})]}),n.total===0&&!t&&p.jsx("div",{className:"text-sm text-center",children:" Todos los datos sincronizados"})]})]}),d&&p.jsx("div",{className:"mt-2 bg-red-500 text-white rounded-lg shadow-lg px-4 py-2 text-sm",children:d})]})},gC=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(""),[l,u]=j.useState(!1),{login:d}=yl(),h=Jt(),v=async()=>{try{if(!("Notification"in window))return console.log("Este navegador no soporta notificaciones"),null;if(!$n)return console.log("Firebase Messaging no est disponible"),null;if(await Notification.requestPermission()==="granted"){if(console.log("Permiso de notificaciones concedido"),"serviceWorker"in navigator)try{console.log(" Registrando firebase-messaging-sw.js...");const E=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});console.log(" Service Worker registrado:",E.scope),await navigator.serviceWorker.ready,console.log(" Service Worker est listo")}catch(E){console.error(" Error registrando Service Worker:",E)}try{const E=await e2($n,{vapidKey:Fh,serviceWorkerRegistration:await navigator.serviceWorker.ready});if(E){console.log("Token FCM obtenido:",E);try{await Xe.post("/api/users/fcm-token",{fcmToken:E}),console.log("Token FCM guardado en el servidor")}catch(_){console.error("Error al guardar token FCM en el servidor:",_)}return E}else return console.log("No se pudo obtener el token FCM"),null}catch(E){return console.error("Error obteniendo token FCM:",E),console.warn("Continuando sin notificaciones push..."),null}}else return console.log("Permiso de notificaciones denegado"),null}catch(w){return console.error("Error solicitando permiso de notificaciones:",w),console.warn("Continuando sin notificaciones push..."),null}},m=async w=>{w.preventDefault(),o(""),u(!0);const E=await d(t,n);if(E.success){console.log(" Login Exitoso. Rol recibido:",E.role),await v();const _=String(E.role).toUpperCase().trim();_==="ADMIN"||_.includes("ADMIN")?(console.log(" Redirigiendo a Panel Administrador..."),h("/admin/dashboard")):(console.log(" Redirigiendo a App Repartidor..."),h("/dealer/home"))}else console.error(" Error en Login:",E.message),o(E.message),u(!1)};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:p.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(lC,{className:"text-white w-8 h-8"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"MeliCheck"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Acceso Operaciones"})]}),i&&p.jsx("div",{className:"mb-4 bg-red-50 text-red-500 text-sm p-3 rounded-lg border border-red-200 text-center font-medium",children:i}),p.jsxs("form",{onSubmit:m,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrnico"}),p.jsxs("div",{className:"relative",children:[p.jsx(FS,{className:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"email",required:!0,value:t,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"usuario@meli.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),p.jsxs("div",{className:"relative",children:[p.jsx(LS,{className:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"password",required:!0,value:n,onChange:w=>r(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:""})]})]}),p.jsx("button",{type:"submit",disabled:l,className:`w-full py-3 rounded-lg text-white font-semibold shadow-md transition-all 
              ${l?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg active:scale-95"}`,children:l?"Verificando...":"Iniciar Sesin"})]}),p.jsx("div",{className:"mt-8 text-center text-xs text-gray-400",children:p.jsx("p",{children:"Solo personal autorizado."})})]})})},l2=()=>{const{user:t}=yl(),[e,n]=j.useState([]),[r,i]=j.useState(0),[o,l]=j.useState(!1),[u,d]=j.useState(!Dt());j.useEffect(()=>{const _=()=>{d(!1),t?.id&&(h(),v())},S=()=>d(!0);return window.addEventListener("online",_),window.addEventListener("offline",S),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",S)}},[t]),j.useEffect(()=>{if(t?.id&&!u){h(),v();const _=()=>{console.log(" Nueva notificacin recibida, refrescando..."),u||(h(),v())};window.addEventListener("newNotification",_);const S=setInterval(()=>{Dt()&&(h(),v())},3e4);return()=>{window.removeEventListener("newNotification",_),clearInterval(S)}}},[t,u]);const h=async()=>{if(Dt())try{const _=await Xe.get(`/api/notifications/user/${t.id}`);_.data?.result&&n(_.data.result.slice(0,10))}catch(_){Dt()&&console.warn(" Error cargando notificaciones:",_.message)}},v=async()=>{if(Dt())try{const _=await Xe.get(`/api/notifications/user/${t.id}/unread/count`);if(_.data?.result!==void 0){const S=_.data.result;S>r&&(console.log(" Nuevas notificaciones detectadas! Disparando evento newNotification..."),window.dispatchEvent(new CustomEvent("newNotification",{detail:{count:S}}))),i(S)}}catch(_){Dt()&&console.warn(" Error cargando contador:",_.message)}},m=async(_,S)=>{if(!Dt()){console.warn(" Sin conexin - No se puede marcar como leda");return}try{await Xe.put(`/api/notifications/${_}/read`),h(),v(),(S?.title?.toLowerCase().includes("asignacin")||S?.title?.toLowerCase().includes("asignacion")||S?.message?.toLowerCase().includes("asignacin")||S?.message?.toLowerCase().includes("asignacion"))&&(console.log(" Notificacin de asignacin detectada - Refrescando datos..."),window.dispatchEvent(new CustomEvent("newNotification",{detail:{type:"assignment",notification:S}})))}catch(T){console.warn(" Error marcando como leda:",T.message)}},w=async()=>{if(!Dt()){console.warn(" Sin conexin - No se puede marcar todas como ledas");return}try{await Xe.put(`/api/notifications/user/${t.id}/read-all`),h(),v()}catch(_){console.warn(" Error marcando todas como ledas:",_.message)}},E=_=>{const S=new Date(_),R=new Date-S,M=Math.floor(R/6e4),P=Math.floor(R/36e5),B=Math.floor(R/864e5);return M<1?"Ahora":M<60?`Hace ${M} min`:P<24?`Hace ${P} h`:`Hace ${B} das`};return t?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none",children:[p.jsx(xS,{className:"w-6 h-6"}),r>0&&p.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:r>99?"99+":r})]}),o&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),p.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-96 overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notificaciones"}),r>0&&p.jsx("button",{onClick:w,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Marcar todas como ledas"})]}),p.jsx("div",{className:"overflow-y-auto flex-1",children:e.length===0?p.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No tienes notificaciones"}):e.map(_=>p.jsx("div",{onClick:()=>{_.isRead||m(_.id,_)},className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition ${_.isRead?"":"bg-blue-50"}`,children:p.jsx("div",{className:"flex items-start",children:p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("p",{className:`text-sm font-medium text-gray-900 ${_.isRead?"":"font-semibold"}`,children:_.title}),!_.isRead&&p.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),p.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:_.message}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:E(_.createdAt)})]})})},_.id))})]})]})]}):null},vC=()=>{const{logout:t,user:e}=yl();return p.jsxs("div",{className:"min-h-screen bg-gray-100 p-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Panel de Control"}),p.jsxs("p",{className:"text-gray-500",children:["Administrador: ",e?.name||e?.email]}),p.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-xs font-semibold",children:"Rol:"}),p.jsx("span",{className:`text-xs px-2 py-1 rounded ${e?.role==="ADMIN"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e?.role||"NO DETECTADO"}),e?.role!=="ADMIN"&&p.jsx("span",{className:"text-xs text-red-600 ml-2",children:" Necesitas rol ADMIN para usar esta seccin"})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(l2,{}),p.jsx("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm",children:"Salir"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(Kn,{to:"/admin/stores",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Tiendas"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Administrar tiendas"})]}),p.jsxs(Kn,{to:"/admin/dealers",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Repartidores"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Gestionar repartidores"})]}),p.jsxs(Kn,{to:"/admin/products",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Productos"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Gestionar productos"})]}),p.jsxs(Kn,{to:"/admin/assignments",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Asignaciones"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Gestionar asignaciones"})]}),p.jsxs(Kn,{to:"/admin/visits",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Visitas"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Ver todas las visitas"})]}),p.jsxs(Kn,{to:"/admin/orders",className:"bg-white p-8 rounded-lg shadow hover:shadow-lg transition",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Pedidos"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Ver todos los pedidos"})]})]})]})},gi={getAll:()=>Yn(()=>Xe.get("/api/stores/"),"/api/stores/"),getActive:()=>Yn(()=>Xe.get("/api/stores/active"),"/api/stores/active"),getOne:t=>Yn(()=>Xe.get(`/api/stores/${t}`),`/api/stores/${t}`),create:t=>Xe.post("/api/stores/",t),update:(t,e)=>Xe.put(`/api/stores/${t}`,e),toggle:t=>Xe.patch(`/api/stores/${t}/toggle`),getQr:t=>Xe.get(`/api/stores/${t}/qr`,{responseType:"blob"})},mC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[o,l]=j.useState(""),[u,d]=j.useState({show:!1,url:null,storeName:""}),h=async()=>{try{l("");const E=await gi.getAll();n(E.data.result)}catch(E){l("Error al cargar las tiendas: "+(E.response?.data?.message||E.message))}i(!1)};j.useEffect(()=>{h()},[]);const v=async E=>{try{l(""),await gi.toggle(E),h()}catch(_){l("Error al cambiar estado de tienda: "+(_.response?.data?.message||_.message))}},m=async(E,_)=>{try{l("");const S=await gi.getQr(E),T=new Blob([S.data],{type:"image/png"}),R=URL.createObjectURL(T);d({show:!0,url:R,storeName:_})}catch(S){l("Error al cargar QR: "+(S.response?.data?.message||S.message))}},w=()=>{u.url&&URL.revokeObjectURL(u.url),d({show:!1,url:null,storeName:""})};return r?p.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-2 border-gray-300 border-t-transparent mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Cargando tiendas..."})]})}):p.jsxs("div",{className:"min-h-screen bg-white p-6",children:[p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:p.jsx(sn,{className:"w-5 h-5 text-gray-700"})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[p.jsx(ds,{className:"w-6 h-6 text-gray-700"}),"Gestin de Tiendas"]}),p.jsxs("p",{className:"text-gray-600 text-sm",children:[e.length," ",e.length===1?"tienda registrada":"tiendas registradas"]})]})]}),p.jsxs(Kn,{to:"create",className:"bg-blue-800 text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition flex items-center gap-2",children:[p.jsx(Uh,{className:"w-4 h-4"}),"Nueva Tienda"]})]}),o&&p.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[p.jsx("p",{className:"font-semibold",children:"Error"}),p.jsx("p",{className:"text-sm",children:o})]}),e.length===0?p.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-10 text-center shadow-sm",children:[p.jsx(ds,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No hay tiendas registradas"}),p.jsx("p",{className:"text-gray-500 text-sm mt-1 mb-4",children:"Comienza agregando tu primera tienda."}),p.jsxs(Kn,{to:"create",className:"inline-flex items-center gap-2 bg-blue-800 text-white px-5 py-2 rounded-lg hover:bg-blue-900 transition",children:[p.jsx(Uh,{className:"w-4 h-4"}),"Crear Tienda"]})]}):p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:e.map(E=>p.jsxs("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-sm hover:shadow-md transition",children:[p.jsxs("div",{className:"p-5 border-b border-gray-200 bg-blue-700 rounded-xl",children:[p.jsx("h3",{className:"text-lg font-semibold text-zinc-50",children:E.name}),p.jsx("span",{className:`mt-2 inline-block text-xs px-3 py-1 rounded-full ${E.isActive?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:E.isActive?"Activa":"Inactiva"})]}),p.jsxs("div",{className:"p-5 space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-2 text-gray-900",children:[p.jsx(vo,{className:"w-4 h-4 text-gray-700 flex-shrink-0 mt-1"}),p.jsx("p",{className:"text-sm",children:E.address})]}),E.latitude&&p.jsxs("div",{className:"text-xs text-gray-600 font-mono",children:[" ",E.latitude,", ",E.longitude]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>m(E.id,E.name),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition flex items-center justify-center gap-1 text-sm",children:[p.jsx(Kf,{className:"w-4 h-4"}),"Ver QR"]}),p.jsxs(Kn,{to:`edit/${E.id}`,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition flex items-center justify-center gap-1 text-sm",children:[p.jsx(aC,{className:"w-4 h-4"}),"Editar"]})]}),p.jsxs("button",{onClick:()=>v(E.id),className:`w-full px-4 py-2 rounded-lg text-sm flex items-center justify-center gap-1 ${E.isActive?"border border-red-300 text-red-600 hover:bg-red-100":"border border-green-300 text-green-700 hover:bg-green-100"}`,children:[p.jsx(XS,{className:"w-4 h-4"}),E.isActive?"Desactivar":"Activar"]})]})]},E.id))})]}),u.show&&p.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",onClick:w,children:p.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",onClick:E=>E.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center px-5 py-4 border-b border-gray-200 bg-gray-50",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Cdigo QR"}),p.jsx("p",{className:"text-sm text-gray-700",children:u.storeName})]}),p.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg",children:p.jsx(hC,{className:"w-5 h-5 text-gray-900"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"flex justify-center bg-gray-50 p-6 rounded-lg",children:u.url&&p.jsx("img",{src:u.url,alt:"QR",className:"max-w-full rounded-lg"})}),p.jsxs("div",{className:"mt-6 flex gap-3",children:[p.jsxs("a",{href:u.url,download:`QR-${u.storeName}.png`,className:"flex-1 bg-blue-800 text-white px-5 py-2.5 rounded-lg text-center hover:bg-blue-900 transition flex items-center justify-center gap-2",children:[p.jsx(IS,{className:"w-4 h-4"}),"Descargar"]}),p.jsx("button",{onClick:w,className:"flex-1 border border-gray-300 text-gray-800 px-5 py-2.5 rounded-lg hover:bg-gray-100 transition",children:"Cerrar"})]})]})]})})]})},Vm=()=>{const{id:t}=wi(),e=Jt(),n=!!t,[r,i]=j.useState({name:"",address:"",latitude:"",longitude:""}),[o,l]=j.useState(""),[u,d]=j.useState(!1),[h,v]=j.useState(!1),m=j.useRef(null),w=j.useRef(null),E=j.useRef(null);j.useEffect(()=>{n&&(d(!0),gi.getOne(t).then(R=>{i(R.data.result)}).catch(R=>{l("Error al cargar la tienda: "+(R.response?.data?.message||R.message))}).finally(()=>{d(!1)}))},[t,n]),j.useEffect(()=>{const R=document.createElement("link");R.rel="stylesheet",R.href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css",document.head.appendChild(R);const M=document.createElement("script");return M.src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js",M.onload=()=>v(!0),document.body.appendChild(M),()=>{document.head.contains(R)&&document.head.removeChild(R),document.body.contains(M)&&document.body.removeChild(M)}},[]),j.useEffect(()=>{if(!h||!m.current||E.current)return;const R=window.L,M=parseFloat(r.latitude)||18.9167,P=parseFloat(r.longitude)||-99.2333,B=R.map(m.current).setView([M,P],15);R.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(B);const Y=R.marker([M,P],{draggable:!0}).addTo(B);return Y.on("dragend",function(){const se=Y.getLatLng();i(ee=>({...ee,latitude:se.lat.toFixed(6),longitude:se.lng.toFixed(6)}))}),B.on("click",function(se){Y.setLatLng(se.latlng),i(ee=>({...ee,latitude:se.latlng.lat.toFixed(6),longitude:se.latlng.lng.toFixed(6)}))}),E.current=B,w.current=Y,()=>{B.remove(),E.current=null}},[h]),j.useEffect(()=>{if(w.current&&r.latitude&&r.longitude){const R=parseFloat(r.latitude),M=parseFloat(r.longitude);!isNaN(R)&&!isNaN(M)&&(w.current.setLatLng([R,M]),E.current&&E.current.setView([R,M],E.current.getZoom()))}},[r.latitude,r.longitude]);const _=(R,M)=>{const P=R.target.value;(P===""||P==="-"||/^-?\d*\.?\d*$/.test(P))&&i({...r,[M]:P})},S=()=>{"geolocation"in navigator?(d(!0),navigator.geolocation.getCurrentPosition(R=>{const M=R.coords.latitude.toFixed(6),P=R.coords.longitude.toFixed(6);i(B=>({...B,latitude:M,longitude:P})),d(!1)},R=>{l("No se pudo obtener la ubicacin: "+R.message),d(!1)})):l("Tu navegador no soporta geolocalizacin")},T=async()=>{if(l(""),!r.name||r.name.trim().length===0){l("El nombre de la tienda es obligatorio.");return}if(r.name.trim().length<3){l("El nombre de la tienda debe tener al menos 3 caracteres.");return}if(r.name.length>100){l("El nombre de la tienda no puede exceder 100 caracteres.");return}if(!r.address||r.address.trim().length<5){l("La direccin debe tener al menos 5 caracteres.");return}if(r.address.length>255){l("La direccin no puede exceder 255 caracteres.");return}if(!r.latitude||!r.longitude){l("Debes seleccionar una ubicacin en el mapa o ingresar las coordenadas.");return}const R=parseFloat(r.latitude),M=parseFloat(r.longitude);if(isNaN(R)||isNaN(M)){l("Las coordenadas deben ser nmeros vlidos.");return}if(R<-90||R>90){l("La latitud debe estar entre -90 y 90.");return}if(M<-180||M>180){l("La longitud debe estar entre -180 y 180.");return}d(!0);try{n?await gi.update(t,r):await gi.create(r),e("/admin/stores")}catch(P){l("Error al guardar la tienda: "+(P.response?.data?.message||P.message))}finally{d(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>e("/admin/stores"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",type:"button",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n?"Editar Tienda":"Nueva Tienda"})]}),o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:o}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{children:p.jsxs("label",{className:"block mb-2",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Nombre de la Tienda"}),p.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 rounded-lg mt-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r.name,onChange:R=>i({...r,name:R.target.value}),required:!0,disabled:u,placeholder:"Ej: Tienda Centro",minLength:3,maxLength:100}),p.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["Mnimo 3 caracteres (",r.name.length,"/100)"]})]})}),p.jsx("div",{children:p.jsxs("label",{className:"block mb-2",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Direccin"}),p.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 rounded-lg mt-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r.address,onChange:R=>i({...r,address:R.target.value}),required:!0,disabled:u,minLength:5,maxLength:255}),p.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["Mnimo 5 caracteres (",r.address.length,"/255)"]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsxs("label",{className:"block mb-2",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Latitud"}),p.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 rounded-lg mt-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r.latitude,onChange:R=>_(R,"latitude"),placeholder:"Ingresa la latitud",disabled:u})]})}),p.jsx("div",{children:p.jsxs("label",{className:"block mb-2",children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Longitud"}),p.jsx("input",{className:"w-full border border-gray-300 px-4 py-2 rounded-lg mt-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r.longitude,onChange:R=>_(R,"longitude"),placeholder:"Ingresa la longitud",disabled:u})]})})]}),p.jsxs("button",{type:"button",onClick:S,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400",disabled:u,children:[p.jsx(HS,{className:"w-5 h-5"}),"Usar mi ubicacin actual"]}),p.jsx("button",{type:"button",onClick:T,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:u,children:u?"Guardando...":n?"Guardar Cambios":"Crear Tienda"})]}),p.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(vo,{className:"w-5 h-5 text-blue-600 mt-0.5"}),p.jsxs("div",{className:"text-sm text-gray-700",children:[p.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Cmo usar el mapa:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsx("li",{children:"Haz clic en el mapa para colocar el marcador"}),p.jsx("li",{children:"Arrastra el marcador a la ubicacin exacta"}),p.jsx("li",{children:"Las coordenadas se actualizan automticamente"})]})]})]})})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Selecciona la ubicacin en el mapa"}),p.jsx("div",{ref:m,className:"w-full h-96 rounded-lg border-2 border-gray-200 shadow-inner",style:{minHeight:"400px"},children:!h&&p.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Cargando mapa..."})]})})}),r.latitude&&r.longitude&&p.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:[p.jsx("strong",{children:"Coordenadas:"})," ",r.latitude,", ",r.longitude]})]})]})]})})},vi={getAll:()=>Xe.get("/api/users/dealers"),getOne:t=>Xe.get(`/api/users/${t}`),create:t=>Xe.post("/api/users/dealer",t),update:(t,e)=>Xe.put(`/api/users/${t}`,e),toggle:t=>Xe.patch(`/api/users/${t}/toggle`)},qm=()=>{const{id:t}=wi(),e=!!t,n=Jt(),[r,i]=j.useState({name:"",lastName:"",surname:"",phone:"",email:"",password:""}),[o,l]=j.useState(""),[u,d]=j.useState(!1);j.useEffect(()=>{e&&(d(!0),vi.getOne(t).then(m=>{i(m.data.result)}).catch(m=>{l("Error al cargar el dealer: "+(m.response?.data?.message||m.message))}).finally(()=>{d(!1)}))},[t]);const h=m=>{const w=m.target.value;(w===""||/^\d{0,10}$/.test(w))&&i({...r,phone:w})},v=async m=>{m.preventDefault(),l(""),d(!0);try{e?await vi.update(t,r):await vi.create(r),n("/admin/dealers")}catch(w){l("Error al guardar el dealer: "+(w.response?.data?.message||w.message))}finally{d(!1)}};return p.jsxs("div",{className:"p-6 max-w-lg mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>n("/admin/dealers"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-2xl font-bold",children:e?"Editar Dealer":"Nuevo Dealer"})]}),o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),p.jsxs("form",{onSubmit:v,className:"bg-white p-6 rounded shadow",children:[p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Nombre"}),p.jsx("input",{className:"w-full border px-3 py-2 rounded mt-1",value:r.name,onChange:m=>i({...r,name:m.target.value}),required:!0,disabled:u})]}),p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Apellido paterno"}),p.jsx("input",{className:"w-full border px-3 py-2 rounded mt-1",value:r.lastName,onChange:m=>i({...r,lastName:m.target.value}),required:!0,disabled:u})]}),p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Apellido materno"}),p.jsx("input",{className:"w-full border px-3 py-2 rounded mt-1",value:r.surname,onChange:m=>i({...r,surname:m.target.value}),required:!0,disabled:u})]}),p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Telfono"}),p.jsx("input",{type:"tel",className:"w-full border px-3 py-2 rounded mt-1",value:r.phone,onChange:h,placeholder:"10 dgitos",maxLength:10,disabled:u}),p.jsx("span",{className:"text-xs text-gray-500",children:"Solo nmeros, mximo 10 dgitos"})]}),p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Email"}),p.jsx("input",{type:"email",className:"w-full border px-3 py-2 rounded mt-1",value:r.email,onChange:m=>i({...r,email:m.target.value}),required:!0,disabled:u})]}),!e&&p.jsxs("label",{className:"block mb-3",children:[p.jsx("span",{className:"font-medium",children:"Contrasea"}),p.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded mt-1",value:r.password,onChange:m=>i({...r,password:m.target.value}),required:!0,disabled:u}),p.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-800",children:[p.jsx("p",{className:"font-semibold mb-1",children:"Requisitos de contrasea:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsx("li",{children:"Mnimo 8 caracteres"}),p.jsx("li",{children:"Al menos una letra mayscula"}),p.jsx("li",{children:"Al menos una letra minscula"}),p.jsx("li",{children:"Al menos un nmero"}),p.jsx("li",{children:"Al menos un carcter especial (@$!%*?&)"})]})]})]}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:u,children:u?"Guardando...":e?"Guardar cambios":"Crear Dealer"})]})]})},yC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(""),o=async()=>{try{i("");const u=await vi.getAll();n(u.data.result)}catch(u){i("Error al cargar dealers: "+(u.response?.data?.message||u.message))}};j.useEffect(()=>{let u=!0;return(async()=>{try{i("");const h=await vi.getAll();u&&n(h.data.result)}catch(h){u&&i("Error al cargar dealers: "+(h.response?.data?.message||h.message))}})(),()=>u=!1},[]);const l=async u=>{try{i(""),await vi.toggle(u),await o()}catch(d){i("Error al cambiar estado del dealer: "+(d.response?.data?.message||d.message))}};return p.jsx("div",{className:"min-h-screen bg-white p-6",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:p.jsx(sn,{className:"w-6 h-6 text-gray-700"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Repartidores"})]}),p.jsx(Kn,{className:"bg-blue-800 text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition",to:"/admin/dealers/new",children:"+ Crear Dealer"})]}),r&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:r}),p.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>p.jsxs("div",{className:"bg-white border border-blue-700 rounded-xl shadow-sm hover:shadow-md transition p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[u.name," ",u.lastName]}),p.jsx("p",{className:"text-gray-500 text-sm",children:u.email})]}),p.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${u.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.isActive?"Activo":"Inactivo"})]}),p.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:[p.jsx("span",{className:"font-semibold text-gray-800",children:"Tel:"})," ",u.phone||"N/A"]}),p.jsxs("div",{className:"flex gap-3 mt-4",children:[p.jsx(Kn,{to:`/admin/dealers/${u.id}`,className:"flex-1 text-center border border-gray-300 text-gray-800 py-2 rounded-lg hover:bg-gray-100 transition text-sm font-medium",children:"Editar"}),p.jsx("button",{onClick:()=>l(u.id),className:`flex-1 text-center py-2 rounded-lg text-sm font-medium transition ${u.isActive?"border border-red-300 text-red-600 hover:bg-red-100":"border border-green-300 text-green-700 hover:bg-green-100"}`,children:u.isActive?"Desactivar":"Activar"})]})]},u.id))}),e.length===0&&p.jsx("div",{className:"text-center mt-10 text-gray-600",children:"No hay repartidores registrados."})]})})},xC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(!1),[o,l]=j.useState(""),u=async()=>{try{i(!0),l("");const h=await di.getAll();n(h.data.result||[])}catch(h){l("Error al cargar productos: "+(h.response?.data?.message||h.message))}finally{i(!1)}};j.useEffect(()=>{let h=!0;return(async()=>{try{i(!0),l("");const m=await di.getAll();h&&n(m.data.result||[])}catch(m){h&&l("Error al cargar productos: "+(m.response?.data?.message||m.message))}finally{h&&i(!1)}})(),()=>h=!1},[]);const d=async h=>{try{l(""),await di.toggle(h),await u()}catch(v){l("Error al cambiar estado del producto: "+(v.response?.data?.message||v.message))}};return p.jsx("div",{className:"min-h-screen bg-white p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:p.jsx(sn,{className:"w-6 h-6 text-gray-700"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Productos"})]}),p.jsx(Kn,{className:"bg-blue-800 text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition",to:"/admin/products/new",children:"+ Crear producto"})]}),o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),r&&p.jsx("p",{className:"text-gray-600",children:"Cargando productos..."}),p.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[e.map(h=>p.jsxs("div",{className:"rounded-xl shadow-sm hover:shadow-md transition overflow-hidden border border-gray-300 bg-white",children:[p.jsxs("div",{className:`p-5 border-b ${h.isActive?"bg-blue-700 text-white border-blue-600":"bg-gray-300 text-gray-800 border-gray-400"}`,children:[p.jsx("h2",{className:"text-lg font-semibold",children:h.name}),p.jsx("span",{className:`inline-block mt-2 text-xs font-semibold px-3 py-1 rounded-full ${h.isActive?"bg-white/20 text-white":"bg-gray-500 text-white"}`,children:h.isActive?" Activo":" Inactivo"})]}),p.jsxs("div",{className:"p-5 space-y-3 text-gray-800",children:[p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"SKU:"})," ",h.sku]}),p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Unidad:"})," ",h.unit]}),p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Precio:"})," $",h.price]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[p.jsx(Kn,{to:`/admin/products/${h.id}`,className:"text-center px-4 py-2 rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-100 transition text-sm font-medium",children:"Editar"}),p.jsx("button",{onClick:()=>d(h.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${h.isActive?"border border-gray-400 text-gray-600 hover:bg-gray-200":"border border-blue-400 text-blue-700 hover:bg-blue-100"}`,children:h.isActive?"Desactivar":"Activar"})]})]})]},h.id)),e.length===0&&!r&&p.jsx("div",{className:"text-center text-gray-600 col-span-full py-10",children:"No hay productos registrados."})]})]})})},Gm=()=>{const{id:t}=wi(),e=!!t,n=Jt(),[r,i]=j.useState({name:"",sku:"",unit:"",price:"",file:null,imageUrl:null}),[o,l]=j.useState(!1),[u,d]=j.useState("");j.useEffect(()=>{e&&(async()=>{try{l(!0),d("");const _=(await di.getOne(t)).data.result;let S=null;_.imageUrl&&(_.imageUrl.startsWith("http")?S=_.imageUrl:S=`http://localhost:8081${_.imageUrl.startsWith("/")?"":"/"}${_.imageUrl}`),i(T=>({...T,name:_.name||"",sku:_.sku||"",unit:_.unit||"",price:_.price??"",imageUrl:S,file:null}))}catch(E){console.error("Error cargando producto",E),d("Error al cargar el producto: "+(E.response?.data?.message||E.message))}finally{l(!1)}})()},[t,e]);const h=w=>{const{name:E,value:_}=w.target;i(S=>({...S,[E]:_}))},v=w=>{const E=w.target.files?.[0]||null;if(i(_=>({..._,file:E})),E){const _=URL.createObjectURL(E);i(S=>({...S,imageUrl:_}))}},m=async w=>{w.preventDefault();try{l(!0),d("");const E={name:r.name,sku:r.sku,unit:r.unit,price:r.price,file:r.file};e?await di.update(t,E):await di.create(E),n("/admin/products")}catch(E){console.error("Error guardando producto",E);const _=E.response?.data?.text||E.response?.data?.message||"Error al guardar el producto";d(_)}finally{l(!1)}};return p.jsxs("div",{className:"p-6 max-w-lg mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>n("/admin/products"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-2xl font-bold",children:e?"Editar producto":"Nuevo producto"})]}),u&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),p.jsxs("form",{onSubmit:m,className:"bg-white p-6 rounded shadow space-y-4",children:[p.jsxs("label",{className:"block",children:[p.jsx("span",{className:"block mb-1",children:"Nombre"}),p.jsx("input",{name:"name",className:"w-full border px-3 py-2 rounded",value:r.name,onChange:h,required:!0})]}),p.jsxs("label",{className:"block",children:[p.jsx("span",{className:"block mb-1",children:"SKU"}),p.jsx("input",{name:"sku",className:"w-full border px-3 py-2 rounded",value:r.sku,onChange:h,required:!0})]}),p.jsxs("label",{className:"block",children:[p.jsx("span",{className:"block mb-1",children:"Unidad"}),p.jsx("input",{name:"unit",className:"w-full border px-3 py-2 rounded",value:r.unit,onChange:h,required:!0})]}),p.jsxs("label",{className:"block",children:[p.jsx("span",{className:"block mb-1",children:"Precio"}),p.jsx("input",{type:"number",step:"0.01",min:"0",name:"price",className:"w-full border px-3 py-2 rounded",value:r.price,onChange:h,required:!0})]}),p.jsxs("label",{className:"block",children:[p.jsxs("span",{className:"block mb-1",children:["Imagen ",e&&"(opcional si quieres cambiarla)"]}),p.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full"})]}),r.imageUrl&&p.jsxs("div",{className:"mt-2",children:[p.jsx("span",{className:"block mb-1 text-sm text-gray-600",children:"Vista previa:"}),p.jsx("img",{src:r.imageUrl,alt:"Vista previa",className:"h-32 object-cover border rounded"})]}),p.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:o?"Guardando...":e?"Guardar cambios":"Crear producto"})]})]})},bC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(""),[o,l]=j.useState(!1),u=async()=>{try{l(!0),i("");const h=localStorage.getItem("token"),v=localStorage.getItem("user");console.log(" DEBUG - Token existe:",!!h),console.log(" DEBUG - Usuario:",v?JSON.parse(v):null);const m=await JE();n(m.data.result||[])}catch(h){console.error(" Error cargando asignaciones",h),console.error(" Respuesta del servidor:",h.response?.data);let v="Error al cargar asignaciones: ";h.response?.status===403?v+="No tienes permisos para ver asignaciones. Asegrate de estar logueado como ADMIN.":v+=h.response?.data?.message||h.message,i(v)}finally{l(!1)}};j.useEffect(()=>{u()},[]);const d=async h=>{try{i(""),await r_(h),u()}catch(v){console.error("Error al cambiar estado de asignacin",v),i("Error al cambiar estado: "+(v.response?.data?.message||v.message))}};return p.jsx("div",{className:"min-h-screen bg-white p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:p.jsx(sn,{className:"w-6 h-6 text-gray-700"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Asignaciones"})]}),p.jsx(Kn,{to:"/admin/assignments/create",className:"bg-blue-800 text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition",children:"+ Crear asignacin"})]}),r&&p.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[p.jsx("p",{className:"font-bold mb-2",children:"Error:"}),p.jsx("p",{children:r})]}),o&&p.jsx("p",{className:"text-gray-600 text-center py-4",children:"Cargando asignaciones..."}),p.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[e.length===0&&!o&&p.jsx("div",{className:"col-span-full text-center text-gray-600 py-10",children:"No hay asignaciones."}),e.map(h=>p.jsxs("div",{className:`rounded-xl shadow-sm hover:shadow-md transition overflow-hidden border ${h.isActive?"border-blue-700 bg-blue-50/40":"border-gray-300 bg-white"}`,children:[p.jsxs("div",{className:`p-5 border-b ${h.isActive?"bg-blue-700 text-white border-blue-600":"bg-gray-200 text-gray-800 border-gray-300"}`,children:[p.jsxs("h2",{className:"text-lg font-semibold",children:["Asignacin #",h.id]}),p.jsx("span",{className:`inline-block mt-2 text-xs font-semibold px-3 py-1 rounded-full ${h.isActive?"bg-white/20 text-white":"bg-gray-500 text-white"}`,children:h.isActive?" Activo":" Inactivo"})]}),p.jsxs("div",{className:"p-5 space-y-3 text-gray-800",children:[p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Repartidor:"})," ",h.dealer?.email]}),p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Tienda:"})," ",h.store?.name]}),p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Tipo:"})," ",h.assignmentType?.code]}),p.jsxs("p",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Fecha inicio:"})," ",h.startDate]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[p.jsx(Kn,{to:`/admin/assignments/${h.id}`,className:"text-center px-4 py-2 rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-100 transition text-sm font-medium",children:"Editar"}),p.jsx("button",{onClick:()=>d(h.id),className:"text-center px-4 py-2 rounded-lg border border-gray-400 text-gray-700 hover:bg-gray-200 transition text-sm font-medium",children:h.isActive?"Desactivar":"Activar"})]})]})]},h.id))]})]})})},wC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,l]=j.useState(""),[u,d]=j.useState(!1),[h,v]=j.useState({dealerId:"",storeId:"",assignmentType:"PERMANENT",frequencyDays:"",startDate:"",isActive:!0});j.useEffect(()=>{(async()=>{try{l("");const[_,S]=await Promise.all([vi.getAll(),gi.getAll()]);n(_.data.result),i(S.data.result)}catch(_){l("Error al cargar datos: "+(_.response?.data?.message||_.message))}})()},[]);const m=E=>{v({...h,[E.target.name]:E.target.value})},w=async E=>{if(E&&E.preventDefault(),l(""),!h.dealerId){l("Debes seleccionar un repartidor");return}if(!h.storeId){l("Debes seleccionar una tienda");return}if(h.assignmentType==="PERMANENT"&&!h.frequencyDays){l("Debes especificar la frecuencia en das para asignaciones permanentes");return}if(h.assignmentType==="PERMANENT"&&h.frequencyDays<1){l("La frecuencia debe ser al menos 1 da");return}d(!0);try{await t_(h),t("/admin/assignments")}catch(_){console.error("Error creando asignacin:",_),l("Error al crear asignacin: "+(_.response?.data?.message||_.message))}finally{d(!1)}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white-50 to-indigo-100 p-6",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>t("/admin/assignments"),className:"p-3 hover:bg-white/50 rounded-full transition-all shadow-sm hover:shadow-md",type:"button",children:p.jsx(sn,{className:"w-6 h-6 text-gray-700"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Nueva Asignacin"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Asigna un repartidor a una tienda"})]})]}),o&&p.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg mb-6 shadow-sm",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium",children:"Error"}),p.jsx("p",{className:"text-sm mt-1",children:o})]})]})}),p.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[p.jsx(CS,{className:"w-5 h-5 text-blue-600"}),"Repartidor",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{name:"dealerId",value:h.dealerId,onChange:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",required:!0,disabled:u,children:[p.jsx("option",{value:"",children:"Seleccione un repartidor..."}),e.map(E=>p.jsxs("option",{value:E.id,children:[E.name," ",E.lastName]},E.id))]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[p.jsx(ds,{className:"w-5 h-5 text-blue-600"}),"Tienda",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{name:"storeId",value:h.storeId,onChange:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",required:!0,disabled:u,children:[p.jsx("option",{value:"",children:"Seleccione una tienda..."}),r.map(E=>p.jsx("option",{value:E.id,children:E.name},E.id))]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[p.jsx(If,{className:"w-5 h-5 text-blue-600"}),"Tipo de Asignacin"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{type:"button",onClick:()=>v({...h,assignmentType:"PERMANENT"}),className:`px-4 py-3 rounded-lg font-medium transition-all ${h.assignmentType==="PERMANENT"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,disabled:u,children:"Permanente"}),p.jsx("button",{type:"button",onClick:()=>v({...h,assignmentType:"TEMPORARY"}),className:`px-4 py-3 rounded-lg font-medium transition-all ${h.assignmentType==="TEMPORARY"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,disabled:u,children:"Temporal"})]})]}),h.assignmentType==="PERMANENT"&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[p.jsx(go,{className:"w-5 h-5 text-blue-600"}),"Frecuencia (das)",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"number",name:"frequencyDays",value:h.frequencyDays,onChange:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",placeholder:"Ej: 7 (una vez por semana)",min:"1",required:!0,disabled:u}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cada cuntos das se repetir esta asignacin"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[p.jsx(Ia,{className:"w-5 h-5 text-blue-600"}),"Fecha de Inicio"]}),p.jsx("input",{type:"date",name:"startDate",value:h.startDate,onChange:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none",disabled:u})]})]}),p.jsxs("div",{className:"flex gap-4 mt-8",children:[p.jsx("button",{type:"button",onClick:()=>t("/admin/assignments"),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all",disabled:u,children:"Cancelar"}),p.jsx("button",{type:"button",onClick:w,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 font-medium shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?p.jsxs("span",{className:"flex items-center justify-center gap-2",children:[p.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando..."]}):"Crear Asignacin"})]})]})})]})})},EC=()=>{const{id:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState(""),[l,u]=j.useState(!1);j.useEffect(()=>{(async()=>{try{o("");const w=(await e_(t)).data.result,E=w.startDate?w.startDate.substring(0,10):"",_=w.endDate?w.endDate.substring(0,10):"";r({dealerId:w.dealer.id,storeId:w.store.id,assignmentType:w.assignmentType.code,frequencyDays:w.frequencyDays||"",startDate:E,endDate:_,isActive:w.isActive})}catch(m){console.error("Error cargando asignacin:",m),o("Error al cargar asignacin: "+(m.response?.data?.message||m.message))}})()},[t]);const d=v=>{r({...n,[v.target.name]:v.target.value})},h=async v=>{v.preventDefault(),u(!0),o("");try{await n_(t,n),e("/admin/assignments")}catch(m){console.error("Error actualizando asignacin:",m),o("Error al actualizar asignacin: "+(m.response?.data?.message||m.message))}finally{u(!1)}};return!n&&!i?p.jsx("p",{className:"p-8",children:"Cargando asignacin..."}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white-50 to-indigo-100 p-6",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>e("/admin/assignments"),className:"p-3 hover:bg-white/50 rounded-full transition-all shadow-sm hover:shadow-md",type:"button",children:p.jsx(sn,{className:"w-6 h-6 text-gray-700"})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Editar Asignacin #",t]}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Modifica los datos de esta asignacin"})]})]}),i&&p.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg mb-6 shadow-sm",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:`M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 
                  1.414L8.586 10l-1.293 1.293a1 1 0 101.414 
                  1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 
                  10l1.293-1.293a1 1 0 00-1.414-1.414L10 
                  8.586 8.707 7.293z`,clipRule:"evenodd"})})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Error"}),p.jsx("p",{className:"text-sm mt-1",children:i})]})]})}),!n&&!i&&p.jsx("p",{className:"text-gray-700 text-center",children:"Cargando asignacin..."}),n&&p.jsxs("form",{onSubmit:h,className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tipo de asignacin"}),p.jsxs("select",{name:"assignmentType",value:n.assignmentType,onChange:d,className:`w-full px-4 py-3 border-2 border-gray-200 rounded-lg
              focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:[p.jsx("option",{value:"PERMANENT",children:"Permanente"}),p.jsx("option",{value:"TEMPORARY",children:"Temporal"})]})]}),n.assignmentType==="PERMANENT"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Frecuencia (das)"}),p.jsx("input",{type:"number",name:"frequencyDays",value:n.frequencyDays,onChange:d,min:"1",required:!0,className:`w-full px-4 py-3 border-2 border-gray-200 rounded-lg
                focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Fecha de inicio"}),p.jsx("input",{type:"date",name:"startDate",value:n.startDate,onChange:d,className:`w-full px-4 py-3 border-2 border-gray-200 rounded-lg
              focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]}),n.assignmentType==="TEMPORARY"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Fecha de fin"}),p.jsx("input",{type:"date",name:"endDate",value:n.endDate,onChange:d,className:`w-full px-4 py-3 border-2 border-gray-200 rounded-lg
                focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Estado"}),p.jsxs("select",{name:"isActive",value:n.isActive,onChange:v=>r({...n,isActive:v.target.value==="true"}),className:`w-full px-4 py-3 border-2 border-gray-200 rounded-lg
              focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:[p.jsx("option",{value:"true",children:"Activa"}),p.jsx("option",{value:"false",children:"Inactiva"})]})]}),p.jsxs("div",{className:"flex gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>e("/admin/assignments"),className:`flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg
              hover:bg-gray-50 font-medium transition-all`,disabled:l,children:"Cancelar"}),p.jsx("button",{type:"submit",disabled:l,className:`flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600
              text-white rounded-lg hover:from-blue-700 hover:to-indigo-700
              font-medium shadow-md hover:shadow-lg transition-all`,children:l?"Actualizando...":"Guardar Cambios"})]})]})]})})},_C=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState(!0),[h,v]=j.useState(""),[m,w]=j.useState({dealerId:"",storeId:"",status:"",startDate:"",endDate:""});j.useEffect(()=>{E()},[]);const E=async()=>{try{d(!0);const[B,Y]=await Promise.all([vi.getAll(),gi.getAll()]);i(B.data.result||[]),l(Y.data.result||[]),await _({})}catch(B){console.error("Error cargando datos iniciales:",B),v("Error al cargar datos: "+(B.response?.data?.message||B.message))}finally{d(!1)}},_=async B=>{try{v("");const Y=await yi.filterVisits(B);n(Y.data.result||[])}catch(Y){console.error("Error cargando visitas:",Y),v("Error al cargar visitas: "+(Y.response?.data?.message||Y.message))}},S=B=>{const{name:Y,value:se}=B.target;w(ee=>({...ee,[Y]:se}))},T=()=>{const B={};m.dealerId&&(B.dealerId=m.dealerId),m.storeId&&(B.storeId=m.storeId),m.status&&(B.status=m.status),m.startDate&&(B.startDate=m.startDate),m.endDate&&(B.endDate=m.endDate),_(B)},R=()=>{w({dealerId:"",storeId:"",status:"",startDate:"",endDate:""}),_({})},M=B=>{const Y={PLANNED:"bg-blue-100 text-blue-800",CHECKED_IN:"bg-green-100 text-green-800",COMPLETED:"bg-gray-100 text-gray-800",SKIPPED:"bg-red-100 text-red-800"},se={PLANNED:"Planeada",CHECKED_IN:"En proceso",COMPLETED:"Completada",SKIPPED:"Omitida"},ee={PLANNED:p.jsx(go,{className:"w-4 h-4"}),CHECKED_IN:p.jsx(If,{className:"w-4 h-4"}),COMPLETED:p.jsx(If,{className:"w-4 h-4"}),SKIPPED:p.jsx(a2,{className:"w-4 h-4"})};return p.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${Y[B]||"bg-gray-100 text-gray-800"}`,children:[ee[B],se[B]||B]})},P=B=>B?new Date(B).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"-";return u?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando visitas..."})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Visitas"}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," visita",e.length!==1?"s":""," encontrada",e.length!==1?"s":""]})]})]}),h&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(i2,{className:"w-5 h-5 text-gray-600"}),p.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Filtros"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repartidor"}),p.jsxs("select",{name:"dealerId",value:m.dealerId,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todos"}),r.map(B=>p.jsx("option",{value:B.id,children:B.name},B.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tienda"}),p.jsxs("select",{name:"storeId",value:m.storeId,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todas"}),o.map(B=>p.jsx("option",{value:B.id,children:B.name},B.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),p.jsxs("select",{name:"status",value:m.status,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"PLANNED",children:"Planeada"}),p.jsx("option",{value:"CHECKED_IN",children:"En proceso"}),p.jsx("option",{value:"COMPLETED",children:"Completada"}),p.jsx("option",{value:"SKIPPED",children:"Omitida"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),p.jsx("input",{type:"date",name:"startDate",value:m.startDate,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),p.jsx("input",{type:"date",name:"endDate",value:m.endDate,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsx("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Aplicar Filtros"}),p.jsx("button",{onClick:R,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium",children:"Limpiar"})]})]}),e.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[p.jsx(Ia,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No hay visitas"}),p.jsx("p",{className:"text-gray-500",children:"No se encontraron visitas con los filtros seleccionados"})]}):p.jsx("div",{className:"space-y-4",children:e.map(B=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(ds,{className:"w-5 h-5 text-blue-600"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.store?.name})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[p.jsx(N1,{className:"w-4 h-4"}),p.jsxs("span",{children:["Repartidor: ",B.dealer?.name||B.dealer?.email]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(Ia,{className:"w-4 h-4"}),p.jsxs("span",{children:["Fecha: ",P(B.visitDate)]})]})]}),p.jsx("div",{children:M(B.status?.code)})]}),B.checkInLatitude&&B.checkInLongitude&&p.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(vo,{className:"w-4 h-4 text-red-600"}),p.jsxs("span",{children:["Check-in: ",B.checkInLatitude,", ",B.checkInLongitude]})]}),B.checkInAt&&p.jsx("div",{className:"text-xs text-gray-500 ml-6",children:new Date(B.checkInAt).toLocaleString("es-MX")})]})]},B.id))})]})})},AC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState(!0),[h,v]=j.useState(""),[m,w]=j.useState({dealerId:"",storeId:"",status:"",startDate:"",endDate:""});j.useEffect(()=>{E()},[]);const E=async()=>{try{d(!0);const[B,Y]=await Promise.all([vi.getAll(),gi.getAll()]);i(B.data.result||[]),l(Y.data.result||[]),await _({})}catch(B){console.error("Error cargando datos iniciales:",B),v("Error al cargar datos: "+(B.response?.data?.message||B.message))}finally{d(!1)}},_=async B=>{try{v("");const Y=await hi.filterOrders(B);n(Y.data.result||[])}catch(Y){console.error("Error cargando pedidos:",Y),v("Error al cargar pedidos: "+(Y.response?.data?.message||Y.message))}},S=B=>{const{name:Y,value:se}=B.target;w(ee=>({...ee,[Y]:se}))},T=()=>{const B={};m.dealerId&&(B.dealerId=m.dealerId),m.storeId&&(B.storeId=m.storeId),m.status&&(B.status=m.status),m.startDate&&(B.startDate=m.startDate),m.endDate&&(B.endDate=m.endDate),_(B)},R=()=>{w({dealerId:"",storeId:"",status:"",startDate:"",endDate:""}),_({})},M=B=>{const Y={SENT:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",CANCELLED:"bg-red-100 text-red-800",COMPLETED:"bg-blue-100 text-blue-800"},se={SENT:"Enviado",PENDING:"Borrador",CANCELLED:"Cancelado",COMPLETED:"Completado"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Y[B]||"bg-gray-100 text-gray-800"}`,children:se[B]||B})},P=B=>B?new Date(B).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"-";return u?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando pedidos..."})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pedidos"}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," pedido",e.length!==1?"s":""," encontrado",e.length!==1?"s":""]})]})]}),h&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(i2,{className:"w-5 h-5 text-gray-600"}),p.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Filtros"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repartidor"}),p.jsxs("select",{name:"dealerId",value:m.dealerId,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todos"}),r.map(B=>p.jsx("option",{value:B.id,children:B.name},B.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tienda"}),p.jsxs("select",{name:"storeId",value:m.storeId,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todas"}),o.map(B=>p.jsx("option",{value:B.id,children:B.name},B.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),p.jsxs("select",{name:"status",value:m.status,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"PENDING",children:"Borrador"}),p.jsx("option",{value:"SENT",children:"Enviado"}),p.jsx("option",{value:"COMPLETED",children:"Completado"}),p.jsx("option",{value:"CANCELLED",children:"Cancelado"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),p.jsx("input",{type:"date",name:"startDate",value:m.startDate,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),p.jsx("input",{type:"date",name:"endDate",value:m.endDate,onChange:S,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsx("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Aplicar Filtros"}),p.jsx("button",{onClick:R,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium",children:"Limpiar"})]})]}),e.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[p.jsx(fl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No hay pedidos"}),p.jsx("p",{className:"text-gray-500",children:"No se encontraron pedidos con los filtros seleccionados"})]}):p.jsx("div",{className:"space-y-4",children:e.map(B=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(`/admin/orders/${B.id}`),children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:B.internalCode}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(ds,{className:"w-4 h-4"}),p.jsxs("span",{children:["Tienda: ",B.store?.name]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(N1,{className:"w-4 h-4"}),p.jsxs("span",{children:["Repartidor: ",B.dealer?.name||B.dealer?.email]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(Ia,{className:"w-4 h-4"}),p.jsxs("span",{children:["Fecha: ",P(B.orderDate)]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(fl,{className:"w-4 h-4"}),p.jsxs("span",{children:[B.items?.length||0," producto(s)"]})]})]})]}),p.jsx("div",{children:M(B.status?.code)})]}),B.totalAmount&&p.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-blue-600 pt-3 border-t border-gray-200",children:[p.jsx(Xf,{className:"w-5 h-5"}),p.jsxs("span",{children:["$",parseFloat(B.totalAmount).toFixed(2)]})]})]},B.id))})]})})},SC=()=>{const{id:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState(!0),[l,u]=j.useState("");j.useEffect(()=>{d()},[t]);const d=async()=>{try{o(!0),u("");const w=await hi.getOrderById(t);r(w.data.result)}catch(w){console.error("Error cargando pedido:",w),u("Error al cargar pedido: "+(w.response?.data?.message||w.message))}finally{o(!1)}},h=w=>{const E={SENT:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",CANCELLED:"bg-red-100 text-red-800",COMPLETED:"bg-blue-100 text-blue-800"},_={SENT:"Enviado",PENDING:"Borrador",CANCELLED:"Cancelado",COMPLETED:"Completado"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${E[w]||"bg-gray-100 text-gray-800"}`,children:_[w]||w})},v=w=>w?new Date(w).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}):"-",m=w=>w?new Date(w).toLocaleString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return i?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando pedido..."})}):l||!n?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l||"Pedido no encontrado"}),p.jsx("button",{onClick:()=>e("/admin/orders"),className:"mt-4 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",children:"Volver"})]})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>e("/admin/orders"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detalle del Pedido"}),p.jsx("p",{className:"text-sm text-gray-600",children:n.internalCode})]}),h(n.status?.code)]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informacin General"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(ds,{className:"w-5 h-5 text-blue-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Tienda"}),p.jsx("p",{className:"text-sm text-gray-600",children:n.store?.name}),p.jsx("p",{className:"text-xs text-gray-500",children:n.store?.address})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(N1,{className:"w-5 h-5 text-green-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Repartidor"}),p.jsx("p",{className:"text-sm text-gray-600",children:n.dealer?.name||n.dealer?.email})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ia,{className:"w-5 h-5 text-purple-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Fecha del Pedido"}),p.jsx("p",{className:"text-sm text-gray-600",children:v(n.orderDate)})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(go,{className:"w-5 h-5 text-orange-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Creado"}),p.jsx("p",{className:"text-sm text-gray-600",children:m(n.createdAt)}),n.sentAt&&p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:"Enviado"}),p.jsx("p",{className:"text-sm text-gray-600",children:m(n.sentAt)})]})]})]})]})]}),n.visit&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Ubicacin de la Visita"}),n.visit.checkInLatitude&&n.visit.checkInLongitude?p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(vo,{className:"w-5 h-5 text-red-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Coordenadas de Check-in"}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Latitud: ",n.visit.checkInLatitude,", Longitud: ",n.visit.checkInLongitude]}),n.visit.checkInAt&&p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m(n.visit.checkInAt)})]})]}),p.jsxs("a",{href:`https://www.google.com/maps?q=${n.visit.checkInLatitude},${n.visit.checkInLongitude}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 mt-2",children:[p.jsx(vo,{className:"w-4 h-4"}),"Ver en Google Maps"]})]}):p.jsx("p",{className:"text-sm text-gray-500",children:"No hay ubicacin registrada para esta visita"})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Productos"}),n.items&&n.items.length>0?p.jsxs("div",{className:"space-y-3",children:[n.items.map((w,E)=>p.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-semibold text-gray-800",children:w.product?.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",w.quantity,"  $",parseFloat(w.unitPrice).toFixed(2)]}),w.notes&&p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.notes})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"font-bold text-gray-900",children:["$",parseFloat(w.subtotal).toFixed(2)]})})]},w.id||E)),p.jsxs("div",{className:"flex justify-between items-center pt-4 border-t-2 border-gray-300",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Xf,{className:"w-6 h-6 text-blue-600"}),p.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total"})]}),p.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(n.totalAmount||0).toFixed(2)]})]})]}):p.jsx("p",{className:"text-sm text-gray-500",children:"No hay productos en este pedido"})]}),n.notes&&p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(S1,{className:"w-5 h-5 text-gray-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Notas"}),p.jsx("p",{className:"text-sm text-gray-600",children:n.notes})]})]})}),p.jsx("button",{onClick:()=>e("/admin/orders"),className:"w-full bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg",children:"Volver a Pedidos"})]})})},CC=()=>{const t=Jt(),{logout:e,user:n}=yl();return p.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"MeliCheck"}),p.jsxs("p",{className:"text-gray-500",children:["Repartidor: ",n?.name||n?.email]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(l2,{}),p.jsx("button",{onClick:e,className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg",children:p.jsx(o2,{className:"w-5 h-5"})})]})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white w-full py-4 rounded-lg flex items-center justify-center gap-3 transition-colors",onClick:()=>t("/dealer/visits"),children:[p.jsx(Ia,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold",children:"Ver mis visitas de hoy"})]}),p.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white w-full py-4 rounded-lg flex items-center justify-center gap-3 transition-colors",onClick:()=>t("/dealer/orders"),children:[p.jsx(tC,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold",children:"Mis Pedidos"})]}),p.jsxs("button",{className:"bg-gray-700 hover:bg-gray-800 text-white w-full py-4 rounded-lg flex items-center justify-center gap-3 transition-colors",onClick:()=>t("/dealer/assignments"),children:[p.jsx(fl,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold",children:"Ver todas mis asignaciones"})]})]})]})})},NC=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(""),[l,u]=j.useState(!Dt()),[d,h]=j.useState(!1),v=Jt();j.useEffect(()=>{m();const w=()=>{u(!1),m()},E=()=>u(!0),_=()=>{console.log(" Datos refrescados globalmente - Recargando asignaciones..."),m()};return window.addEventListener("online",w),window.addEventListener("offline",E),window.addEventListener("dataRefreshed",_),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",E),window.removeEventListener("dataRefreshed",_)}},[]);const m=async()=>{try{o("");const w=await zf(),E=w.data.result||[];e(E),h(w.fromCache||!1),E.length>0&&await cl(E,"/api/assignments/me")}catch(w){console.error("Error cargando asignaciones del dealer:",w),!Dt()&&w.message?.includes("cache")?o("No hay conexin y no se han cargado asignaciones previamente. Conctate a internet para cargar tus asignaciones."):o("Error al cargar asignaciones: "+(w.response?.data?.message||w.message))}finally{r(!1)}};return n?p.jsx("p",{className:"text-center mt-10",children:"Cargando asignaciones..."}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>v("/dealer/home"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Todas mis asignaciones"})]}),l&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),d&&!l&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),i&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),t.length===0&&p.jsx("p",{className:"text-gray-500 text-center mt-12",children:"No tienes asignaciones activas."}),p.jsx("div",{className:"flex flex-col gap-4",children:t.map(w=>p.jsxs("div",{className:"bg-white rounded-xl shadow p-4 border border-gray-200",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:w.store.name}),p.jsx("span",{className:`px-3 py-1 text-xs rounded-full ${w.assignmentType.code==="PERMANENT"?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:w.assignmentType.code==="PERMANENT"?"Permanente":"Temporal"})]}),p.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Direccin: ",p.jsx("span",{className:"font-medium",children:w.store.address})]}),w.assignmentType.code==="PERMANENT"?p.jsxs("p",{className:"text-gray-700 text-sm mt-1",children:["Frecuencia: ",p.jsxs("span",{className:"font-semibold",children:[w.frequencyDays," das"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-gray-700 text-sm mt-1",children:["Fecha inicio:"," ",p.jsx("span",{className:"font-semibold",children:w.startDate})]}),w.endDate&&p.jsxs("p",{className:"text-gray-700 text-sm",children:["Fecha fin: ",p.jsx("span",{className:"font-semibold",children:w.endDate})]})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Asignado desde: ",w.createdAt.substring(0,10)]}),p.jsx("button",{onClick:()=>v(`/dealer/assignments/${w.id}`),className:"mt-4 bg-yellow-500 text-white w-full py-2 rounded",children:"Ver detalles"})]},w.id))})]})})},OC=()=>{const{id:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState(""),[l,u]=j.useState(!1),[d,h]=j.useState(!1),[v,m]=j.useState(!Dt());j.useEffect(()=>{w(),E();const S=()=>{m(!1),w(),E()},T=()=>m(!0);return window.addEventListener("online",S),window.addEventListener("offline",T),()=>{window.removeEventListener("online",S),window.removeEventListener("offline",T)}},[t]);const w=async()=>{try{o("");const S=await a_(t);r(S.data.result),h(S.fromCache||!1)}catch(S){console.error(" Error cargando asignacin individual:",S);try{console.log(" Buscando asignacin en cache de 'my-assignments'...");const M=((await zf()).data.result||[]).find(P=>P.id===parseInt(t));M?(console.log(" Asignacin encontrada en cache de 'my-assignments'"),r(M),h(!0)):(console.error(" Asignacin no encontrada en cache de 'my-assignments'"),o("Error al cargar asignacin: "+(S.response?.data?.message||S.message)))}catch(T){console.error(" Error al buscar en cache de 'my-assignments':",T),o("Error al cargar asignacin: "+(S.response?.data?.message||S.message))}}},E=async()=>{try{const R=((await yi.getOpenVisits()).data.result||[]).some(M=>M.assignment?.id===parseInt(t)&&M.status?.code==="CHECKED_IN");u(R)}catch(S){console.error("Error verificando visitas activas:",S)}};if(!n)return p.jsx("div",{className:"min-h-screen bg-gray-100 p-4 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando detalles..."})});const _=n.store;return p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detalles de Asignacin"})]}),v&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),d&&!v&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),i&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4 border-l-4 border-blue-500",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:_.name}),p.jsx("span",{className:`px-3 py-1 text-xs rounded-full ${n.assignmentType.code==="PERMANENT"?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:n.assignmentType.code==="PERMANENT"?"Permanente":"Temporal"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(vo,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Direccin"}),p.jsx("p",{className:"text-sm text-gray-600",children:_.address})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(vo,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Coordenadas"}),p.jsxs("p",{className:"text-sm text-gray-600",children:[_.latitude,", ",_.longitude]})]})]}),n.assignmentType.code==="PERMANENT"&&n.frequencyDays&&p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(go,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Frecuencia"}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Cada ",n.frequencyDays," das"]})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Ia,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Fechas"}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Inicio: ",n.startDate||n.createdAt?.substring(0,10)||"N/A"]}),n.endDate&&p.jsxs("p",{className:"text-sm text-gray-600",children:["Fin: ",n.endDate]})]})]})]})]}),!l&&p.jsxs("button",{className:"w-full bg-green-600 text-white py-4 rounded-lg flex items-center justify-center gap-3 hover:bg-green-700 transition-colors shadow-md",onClick:()=>e(`/dealer/scan?storeId=${_.id}`),children:[p.jsx(Kf,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold text-lg",children:"Escanear QR de esta tienda"})]})]})})},TC=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[o,l]=j.useState(""),[u,d]=j.useState(!Dt()),[h,v]=j.useState(!1);j.useEffect(()=>{m();const _=()=>{d(!1),m()},S=()=>d(!0),T=()=>{console.log(" Datos refrescados globalmente - Recargando visitas desde cache..."),m(!0)};return window.addEventListener("online",_),window.addEventListener("offline",S),window.addEventListener("dataRefreshed",T),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",S),window.removeEventListener("dataRefreshed",T)}},[]);const m=async(_=!1)=>{try{console.log(` DealerVisits: Cargando visitas de hoy... ${_?"(cache-first)":"(network-first)"}`),l("");const S=await yi.getTodayVisits(_),T=S.data.result||[];console.log(` DealerVisits: ${T.length} visitas cargadas`,S.fromCache?"(desde cache)":"(desde red)"),n(T),v(S.fromCache||!1),T.length>0&&await cl(T,"/api/visits")}catch(S){console.error("Error cargando visitas:",S),!Dt()&&S.message?.includes("cache")?l("No hay conexin y no se han cargado visitas previamente. Conctate a internet para cargar tus visitas."):l("Error al cargar visitas: "+(S.response?.data?.message||S.message))}finally{i(!1)}},w=_=>{switch(_){case"COMPLETED":return"bg-green-100 text-green-800";case"CHECKED_IN":return"bg-blue-100 text-blue-800";case"PLANNED":return"bg-yellow-100 text-yellow-800";case"SKIPPED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=_=>{switch(_){case"COMPLETED":return p.jsx(If,{className:"w-5 h-5"});case"CHECKED_IN":case"PLANNED":return p.jsx(go,{className:"w-5 h-5"});default:return p.jsx(go,{className:"w-5 h-5"})}};return r?p.jsx("p",{className:"text-center p-6",children:"Cargando visitas..."}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>t("/dealer/home"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Mis visitas de hoy"}),p.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),u&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),h&&!u&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),e.length===0?p.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[p.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes visitas programadas para hoy."}),p.jsx("button",{onClick:()=>t("/dealer/assignments"),className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800",children:"Ver mis asignaciones"})]}):p.jsx("div",{className:"space-y-3",children:e.map(_=>p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 border-l-4 border-blue-500",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h2",{className:"text-lg font-bold text-gray-900",children:_.store?.name}),p.jsxs("span",{className:`px-3 py-1 text-xs rounded-full flex items-center gap-1 ${w(_.status?.code)}`,children:[E(_.status?.code),_.status?.description||_.status?.code]})]}),p.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",_.store?.address]}),_.checkInAt&&p.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Check-in: ",new Date(_.checkInAt).toLocaleString("es-MX")]}),p.jsxs("div",{className:"flex gap-2 mt-3",children:[p.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>t(`/dealer/visits/${_.id}`),children:"Ver detalles"}),_.status?.code==="PLANNED"&&p.jsxs("button",{className:"flex-1 bg-green-600 text-white py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition-colors",onClick:()=>t(`/dealer/scan?visitId=${_.id}`),children:[p.jsx(Kf,{className:"w-5 h-5"}),"Escanear QR"]})]})]},_.id))})]})})},DC=()=>{const{id:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState(!0),[l,u]=j.useState(!1),[d,h]=j.useState(!Dt());if(j.useEffect(()=>{const w=async()=>{try{const S=await yi.getVisitById(t);r(S.data.result),u(S.fromCache||!1)}catch(S){console.error(" Error al traer visita individual:",S);try{console.log(" Buscando visita en cache de 'today'...");const M=((await yi.getTodayVisits()).data.result||[]).find(P=>P.id===parseInt(t));M?(console.log(" Visita encontrada en cache de 'today'"),r(M),u(!0)):console.error(" Visita no encontrada en cache de 'today'")}catch(T){console.error(" Error al buscar en cache de 'today':",T)}}finally{o(!1)}};w();const E=()=>{h(!1),w()},_=()=>h(!0);return window.addEventListener("online",E),window.addEventListener("offline",_),()=>{window.removeEventListener("online",E),window.removeEventListener("offline",_)}},[t]),i)return p.jsx("div",{className:"p-6 text-center",children:"Cargando visita..."});if(!n)return p.jsx("div",{className:"p-6 text-center",children:"Visita no encontrada"});const v=n.status?.code==="PLANNED",m=n.status?.code==="CHECKED_IN";return p.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Detalles de la Visita"}),d&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),l&&!d&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),p.jsxs("div",{className:"bg-white shadow p-4 rounded-lg",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Tienda:"})," ",n.store?.name]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Direccin:"})," ",n.store?.address]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Fecha planeada:"})," ",n.visitDate]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Estado:"})," ",n.status?.description||n.status?.code]}),v&&p.jsxs("button",{className:"bg-green-600 text-white w-full py-3 mt-4 rounded-lg flex items-center justify-center gap-2",onClick:()=>e(`/dealer/scan?visitId=${t}`),children:[p.jsx(Kf,{className:"w-5 h-5"}),"Hacer Check-in (Escanear QR)"]}),m&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded",children:[p.jsx("p",{className:"text-green-800 text-sm",children:" Check-in realizado"}),n.checkInAt&&p.jsx("p",{className:"text-green-600 text-xs mt-1",children:new Date(n.checkInAt).toLocaleString("es-MX")})]}),p.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white w-full py-3 mt-4 rounded-lg flex items-center justify-center gap-2",onClick:()=>e(`/dealer/visits/${t}/order`),children:[p.jsx(C1,{className:"w-5 h-5"}),"Crear/Editar Pedido"]}),p.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white w-full py-3 mt-3 rounded-lg flex items-center justify-center gap-2",onClick:()=>{alert("Funcin de checkout prximamente")},children:[p.jsx(o2,{className:"w-5 h-5"}),"Hacer Check-out"]})]}),p.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white w-full py-3 mt-4 rounded-lg",onClick:()=>e("/dealer/visits"),children:"Volver"})]})]})};function IC(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function RC(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var MC=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jC=(function(t){MC(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),IC(o,i.prototype),RC(o),o}return e})(Error),BC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sr=(function(t){BC(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(jC),LC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oa=(function(t){LC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Sr),kC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ye=(function(t){kC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Sr),PC=(function(){function t(e){if(this.binarizer=e,e===null)throw new Ye("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),FC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Bn=(function(t){FC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Sr),UC=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Gt=(function(){function t(){}return t.arraycopy=function(e,n,r,i,o){for(;o--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),zC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),O1=(function(t){zC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Sr),HC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Xm=(function(t){HC(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(O1),VC=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new Ye("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new Xm(n);if(r>e)throw new Xm(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var o=VC(e),l=o.next();!l.done;l=o.next()){var u=l.value;i=31*i+u}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,o=new Int32Array(i);return Gt.arraycopy(e,n,o,0,i),o},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var l=o+i>>1,u=r(n,e[l]);if(u>0)i=l+1;else if(u<0)o=l-1;else return l}return-i-1},t.numberComparator=function(e,n){return e-n},t})(),lt=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ln=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);Gt.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=r[i];o&=~((1<<(e&31))-1);for(var l=r.length;o===0;){if(++i===l)return n;o=r[i]}var u=i*32+lt.numberOfTrailingZeros(o);return u>n?n:u},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=~r[i];o&=~((1<<(e&31))-1);for(var l=r.length;o===0;){if(++i===l)return n;o=~r[i]}var u=i*32+lt.numberOfTrailingZeros(o);return u>n?n:u},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ye;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),o=this.bits,l=r;l<=i;l++){var u=l>r?0:e&31,d=l<i?31:n&31,h=(2<<d)-(1<<u);o[l]|=h}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new Ye;if(n===e)return!0;n--;for(var i=Math.floor(e/32),o=Math.floor(n/32),l=this.bits,u=i;u<=o;u++){var d=u>i?0:e&31,h=u<o?31:n&31,v=(2<<h)-(1<<d)&4294967295;if((l[u]&v)!==(r?v:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ye("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ye("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var o=0;o<i;o++){for(var l=0,u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;n[r+o]=l}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,o=0;o<r;o++){var l=i[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[n-o]=l}if(this.size!==r*32){for(var u=r*32-this.size,d=e[0]>>>u,o=1;o<r;o++){var h=e[o];d|=h<<32-u,e[o-1]=d,d=h>>>u}e[r-1]=d}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Cn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Cn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),Hh;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Hh||(Hh={}));const rn=Hh;var qC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ie=(function(t){qC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Sr),GC=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(jt||(jt={}));var Sn=(function(){function t(e,n,r){for(var i,o,l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var d=this.values,h=0,v=d.length;h!==v;h++){var m=d[h];t.VALUES_TO_ECI.set(m,this)}try{for(var w=GC(l),E=w.next();!E.done;E=w.next()){var _=E.value;t.NAME_TO_ECI.set(_,this)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ie("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new Ie("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new Ie("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(jt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(jt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(jt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(jt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(jt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(jt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(jt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(jt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(jt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(jt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(jt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(jt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(jt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(jt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(jt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(jt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(jt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(jt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(jt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(jt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(jt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(jt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(jt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(jt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(jt.Big5,28,"Big5"),t.GB18030=new t(jt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(jt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),XC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_f=(function(t){XC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Sr),Yr=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Sn?e:Sn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,l=e.length;o<l;o++){var u=e[o].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(Sn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _f("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Sn.UTF8)||e.equals(Sn.ISO8859_1)||e.equals(Sn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},t})(),yt=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return Yr.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(rn.CHARACTER_SET)!==void 0)return n.get(rn.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,l=!0,u=0,d=0,h=0,v=0,m=0,w=0,E=0,_=0,S=0,T=0,R=0,M=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,P=0;P<r&&(i||o||l);P++){var B=e[P]&255;l&&(u>0?(B&128)===0?l=!1:u--:(B&128)!==0&&((B&64)===0?l=!1:(u++,(B&32)===0?d++:(u++,(B&16)===0?h++:(u++,(B&8)===0?v++:l=!1))))),i&&(B>127&&B<160?i=!1:B>159&&(B<192||B===215||B===247)&&R++),o&&(m>0?B<64||B===127||B>252?o=!1:m--:B===128||B===160||B>239?o=!1:B>160&&B<224?(w++,_=0,E++,E>S&&(S=E)):B>127?(m++,E=0,_++,_>T&&(T=_)):(E=0,_=0))}return l&&u>0&&(l=!1),o&&m>0&&(o=!1),l&&(M||d+h+v>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||S>=3||T>=3)?t.SHIFT_JIS:i&&o?S===2&&w===2||R*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:l?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function o(u,d,h,v,m,w){if(u==="%%")return"%";if(n[++i]!==void 0){u=v?parseInt(v.substr(1)):void 0;var E=m?parseInt(m.substr(1)):void 0,_;switch(w){case"s":_=n[i];break;case"c":_=n[i][0];break;case"f":_=parseFloat(n[i]).toFixed(u);break;case"p":_=parseFloat(n[i]).toPrecision(u);break;case"e":_=parseFloat(n[i]).toExponential(u);break;case"x":_=parseInt(n[i]).toString(E||16);break;case"d":_=parseFloat(parseInt(n[i],E||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(E);for(var S=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";_.length<S;)_=d!==void 0?_+T:T+_;return _}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)},t.getBytes=function(e,n){return Yr.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Sn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Sn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Sn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),st=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=yt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),Ra=(function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ye("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var l=e[o],u=0;u<r;u++)l[u]&&i.set(u,o);return i},t.parseFromString=function(e,n,r){if(e===null)throw new Ye("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,l=0,u=-1,d=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new Ye("row lengths do not match");l=o,d++}h++}else if(e.substring(h,h+n.length)===n)h+=n.length,i[o]=!0,o++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[o]=!1,o++;else throw new Ye("illegal character encountered: "+e.substring(h));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new Ye("row lengths do not match");d++}for(var v=new t(u,d),m=0;m<o;m++)i[m]&&v.set(Math.floor(m%u),Math.floor(m/u));return v},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ye("input matrix dimensions do not match");for(var n=new Ln(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,l=this.height;o<l;o++)for(var u=o*r,d=e.getRow(o,n).getBitArray(),h=0;h<r;h++)i[u+h]^=d[h]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new Ye("Left and top must be nonnegative");if(i<1||r<1)throw new Ye("Height and width must be at least 1");var o=e+r,l=n+i;if(l>this.height||o>this.width)throw new Ye("The region must fit inside the matrix");for(var u=this.rowSize,d=this.bits,h=n;h<l;h++)for(var v=h*u,m=e;m<o;m++)d[v+Math.floor(m/32)]|=1<<(m&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new Ln(this.width):n.clear();for(var r=this.rowSize,i=this.bits,o=e*r,l=0;l<r;l++)n.setBulk(l*32,i[o+l]);return n},t.prototype.setRow=function(e,n){Gt.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new Ln(e),i=new Ln(e),o=0,l=Math.floor((n+1)/2);o<l;o++)r=this.getRow(o,r),i=this.getRow(n-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(n-1-o,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,o=e,l=n,u=-1,d=-1,h=0;h<n;h++)for(var v=0;v<r;v++){var m=i[h*r+v];if(m!==0){if(h<l&&(l=h),h>d&&(d=h),v*32<o){for(var w=0;(m<<31-w&4294967295)===0;)w++;v*32+w<o&&(o=v*32+w)}if(v*32+31>u){for(var w=31;!(m>>>w);)w--;v*32+w>u&&(u=v*32+w)}}}return u<o||d<l?null:Int32Array.from([o,l,u-o+1,d-l+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,o=r%e*32,l=n[r],u=0;(l<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),o=Math.floor(r%e)*32,l=n[r],u=31;!(l>>>u);)u--;return o+=u,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Cn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Cn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new st,o=0,l=this.height;o<l;o++){for(var u=0,d=this.width;u<d;u++)i.append(this.get(u,o)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),KC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),de=(function(t){KC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Sr),$C=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YC=(function(t){$C(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new Ln(o):r.clear(),this.initArrays(o);for(var l=i.getRow(n,this.luminances),u=this.buckets,d=0;d<o;d++)u[(l[d]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(o<3)for(var d=0;d<o;d++)(l[d]&255)<h&&r.set(d);else for(var v=l[0]&255,m=l[1]&255,d=1;d<o-1;d++){var w=l[d+1]&255;(m*4-v-w)/2<h&&r.set(d),v=m,m=w}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),o=new Ra(r,i);this.initArrays(r);for(var l=this.buckets,u=1;u<5;u++)for(var d=Math.floor(i*u/5),h=n.getRow(d,this.luminances),v=Math.floor(r*4/5),m=Math.floor(r/5);m<v;m++){var w=h[m]&255;l[w>>e.LUMINANCE_SHIFT]++}for(var E=e.estimateBlackPoint(l),_=n.getMatrix(),u=0;u<i;u++)for(var S=u*r,m=0;m<r;m++){var w=_[S+m]&255;w<E&&o.set(m,u)}return o},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,o=0,l=0,u=0;u<r;u++)n[u]>l&&(o=u,l=n[u]),n[u]>i&&(i=n[u]);for(var d=0,h=0,u=0;u<r;u++){var v=u-o,m=n[u]*v*v;m>h&&(d=u,h=m)}if(o>d){var w=o;o=d,d=w}if(d-o<=r/16)throw new de;for(var E=d-1,_=-1,u=d-1;u>o;u--){var S=u-o,m=S*S*(d-u)*(i-n[u]);m>_&&(E=u,_=m)}return E<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(UC),WC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ZC=(function(t){WC(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=n.getMatrix(),l=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&l++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var d=e.calculateBlackPoints(o,l,u,r,i),h=new Ra(r,i);e.calculateThresholdForBlock(o,l,u,r,i,d,h),this.matrix=h}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,o,l,u,d){for(var h=l-e.BLOCK_SIZE,v=o-e.BLOCK_SIZE,m=0;m<i;m++){var w=m<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var E=e.cap(m,2,i-3),_=0;_<r;_++){var S=_<<e.BLOCK_SIZE_POWER;S>v&&(S=v);for(var T=e.cap(_,2,r-3),R=0,M=-2;M<=2;M++){var P=u[E+M];R+=P[T-2]+P[T-1]+P[T]+P[T+1]+P[T+2]}var B=R/25;e.thresholdBlock(n,S,w,B,o,d)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,o,l,u){for(var d=0,h=i*l+r;d<e.BLOCK_SIZE;d++,h+=l)for(var v=0;v<e.BLOCK_SIZE;v++)(n[h+v]&255)<=o&&u.set(r+v,i+d)},e.calculateBlackPoints=function(n,r,i,o,l){for(var u=l-e.BLOCK_SIZE,d=o-e.BLOCK_SIZE,h=new Array(i),v=0;v<i;v++){h[v]=new Int32Array(r);var m=v<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var w=0;w<r;w++){var E=w<<e.BLOCK_SIZE_POWER;E>d&&(E=d);for(var _=0,S=255,T=0,R=0,M=m*o+E;R<e.BLOCK_SIZE;R++,M+=o){for(var P=0;P<e.BLOCK_SIZE;P++){var B=n[M+P]&255;_+=B,B<S&&(S=B),B>T&&(T=B)}if(T-S>e.MIN_DYNAMIC_RANGE)for(R++,M+=o;R<e.BLOCK_SIZE;R++,M+=o)for(var P=0;P<e.BLOCK_SIZE;P++)_+=n[M+P]&255}var Y=_>>e.BLOCK_SIZE_POWER*2;if(T-S<=e.MIN_DYNAMIC_RANGE&&(Y=S/2,v>0&&w>0)){var se=(h[v-1][w]+2*h[v][w-1]+h[v-1][w-1])/4;S<se&&(Y=se)}h[v][w]=Y}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(YC),$f=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new _f("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new _f("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new _f("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new st,r=0;r<this.height;r++){for(var i=this.getRow(r,e),o=0;o<this.width;o++){var l=i[o]&255,u=void 0;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()},t})(),QC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),T1=(function(t){QC(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),o=this.getWidth(),l=0;l<o;l++)i[l]=255-(i[l]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(n[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,o){return new e(this.delegate.crop(n,r,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})($f),JC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),e8=(function(t){JC(e,t);function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return e.makeBufferFromCanvasImageData=function(n){var r=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(r.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,i){var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var l=0,u=0,d=n.length;l<d;l+=4,u++){var h=void 0,v=n[l+3];if(v===0)h=255;else{var m=n[l],w=n[l+1],E=n[l+2];h=306*m+601*w+117*E+512>>10}o[u]=h}else for(var l=0,u=0,_=n.length;l<_;l+=4,u++){var h=void 0,v=n[l+3];if(v===0)h=255;else{var m=n[l],w=n[l+1],E=n[l+2];h=306*m+601*w+117*E+512>>10}o[u]=255-h}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ye("Requested row is outside the image: "+n);var i=this.getWidth(),o=n*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return t.prototype.crop.call(this,n,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=n*e.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=d,r.height=h,i.translate(d/2,h/2),i.rotate(o),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new T1(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})($f),t8=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),ur=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(v){try{h(r.next(v))}catch(m){l(m)}}function d(v){try{h(r.throw(v))}catch(m){l(m)}}function h(v){v.done?o(v.value):i(v.value).then(u,d)}h((r=r.apply(t,e||[])).next())})},fr=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(v){return d([h,v])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(v){h=[6,v],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},n8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bl=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ur(this,void 0,void 0,function(){var e,n,r,i,o,l,u,d,h,v,m,w;return fr(this,function(E){switch(E.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=E.sent(),n=[];try{for(r=n8(e),i=r.next();!i.done;i=r.next())o=i.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(u=o.deviceId||o.id,d=o.label||"Video device "+(n.length+1),h=o.groupId,v={deviceId:u,label:d,kind:l,groupId:h},n.push(v))}catch(_){m={error:_}}finally{try{i&&!i.done&&(w=r.return)&&w.call(r)}finally{if(m)throw m.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return ur(this,void 0,void 0,function(){var e;return fr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new t8(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return ur(this,void 0,void 0,function(){var n;return fr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return ur(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return ur(this,void 0,void 0,function(){var r,i;return fr(this,function(o){switch(o.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return ur(this,void 0,void 0,function(){var r;return fr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return ur(this,void 0,void 0,function(){var r,i;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return ur(this,void 0,void 0,function(){return fr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return ur(this,void 0,void 0,function(){var i,o;return fr(this,function(l){switch(l.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,l.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return ur(this,void 0,void 0,function(){var i;return fr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return ur(this,void 0,void 0,function(){var i;return fr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return ur(this,void 0,void 0,function(){var r;return fr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ur(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new oa("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new oa("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new oa("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new oa("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new oa("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new oa("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new oa("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new oa("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new oa("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new oa("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ur(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return ur(this,void 0,void 0,function(){return fr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var o=function(l,u){if(i._stopAsyncDecode){u(new de("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var d=i.decode(e);l(d)}catch(w){var h=n&&w instanceof de,v=w instanceof Bn||w instanceof Ie,m=v&&r;if(h||m)return setTimeout(o,i._timeBetweenDecodingAttempts,l,u);u(w)}};return new Promise(function(l,u){return o(l,u)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var o=r.decode(e);n(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(d){n(null,d);var l=d instanceof Bn||d instanceof Ie,u=d instanceof de;(l||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),r=new e8(n),i=new ZC(r);return new PC(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),ir=(function(){function t(e,n,r,i,o,l){r===void 0&&(r=n==null?0:8*n.length),l===void 0&&(l=Gt.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,l==null?this.timestamp=Gt.currentTimeMillis():this.timestamp=l}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);Gt.arraycopy(n,0,r,0,n.length),Gt.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Vh;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Vh||(Vh={}));const $e=Vh;var qh;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qh||(qh={}));const Wn=qh;var Yf=(function(){function t(e,n,r,i,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Ic=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ye;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),fo=(function(){function t(e,n){if(n.length===0)throw new Ye;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Gt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,o=n.length;i!==o;i++){var l=n[i];r=Ic.addOrSubtract(r,l)}return r}r=n[0];for(var u=n.length,d=this.field,i=1;i<u;i++)r=Ic.addOrSubtract(d.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ye("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),l=r.length-n.length;Gt.arraycopy(r,0,o,0,l);for(var u=l;u<r.length;u++)o[u]=Ic.addOrSubtract(n[u-l],r[u]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ye("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,l=new Int32Array(r+o-1),u=this.field,d=0;d<r;d++)for(var h=n[d],v=0;v<o;v++)l[d+v]=Ic.addOrSubtract(l[d+v],u.multiply(h,i[v]));return new t(u,l)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,l=0;l<n;l++)i[l]=r.multiply(o[l],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ye;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),l=this.field,u=0;u<i;u++)o[u]=l.multiply(r[u],n);return new t(l,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ye("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ye("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,o=e.getCoefficient(e.getDegree()),l=n.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),d=n.multiply(i.getCoefficient(i.getDegree()),l),h=e.multiplyByMonomial(u,d),v=n.buildMonomial(u,d);r=r.addOrSubtract(v),i=i.addOrSubtract(h)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),r8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),c2=(function(t){r8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Sr),a8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Er=(function(t){a8(e,t);function e(n,r,i){var o=t.call(this)||this;o.primitive=n,o.size=r,o.generatorBase=i;for(var l=new Int32Array(r),u=1,d=0;d<r;d++)l[d]=u,u*=2,u>=r&&(u^=n,u&=r-1);o.expTable=l;for(var h=new Int32Array(r),d=0;d<r-1;d++)h[l[d]]=d;return o.logTable=h,o.zero=new fo(o,Int32Array.from([0])),o.one=new fo(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Ye;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new fo(this,i)},e.prototype.inverse=function(n){if(n===0)throw new c2;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+lt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Ic),i8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),df=(function(t){i8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Sr),o8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Xc=(function(t){o8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Sr),Wf=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new fo(r,e),o=new Int32Array(n),l=!0,u=0;u<n;u++){var d=i.evaluateAt(r.exp(u+r.getGeneratorBase()));o[o.length-1-u]=d,d!==0&&(l=!1)}if(!l)for(var h=new fo(r,o),v=this.runEuclideanAlgorithm(r.buildMonomial(n,1),h,n),m=v[0],w=v[1],E=this.findErrorLocations(m),_=this.findErrorMagnitudes(w,E),u=0;u<E.length;u++){var S=e.length-1-r.log(E[u]);if(S<0)throw new df("Bad error location");e[S]=Er.addOrSubtract(e[S],_[u])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=this.field,l=e,u=n,d=o.getZero(),h=o.getOne();u.getDegree()>=(r/2|0);){var v=l,m=d;if(l=u,d=h,l.isZero())throw new df("r_{i-1} was zero");u=v;for(var w=o.getZero(),E=l.getCoefficient(l.getDegree()),_=o.inverse(E);u.getDegree()>=l.getDegree()&&!u.isZero();){var S=u.getDegree()-l.getDegree(),T=o.multiply(u.getCoefficient(u.getDegree()),_);w=w.addOrSubtract(o.buildMonomial(S,T)),u=u.addOrSubtract(l.multiplyByMonomial(S,T))}if(h=w.multiply(d).addOrSubtract(m),u.getDegree()>=l.getDegree())throw new Xc("Division algorithm failed to reduce polynomial?")}var R=h.getCoefficient(0);if(R===0)throw new df("sigmaTilde(0) was zero");var M=o.inverse(R),P=h.multiplyScalar(M),B=u.multiplyScalar(M);return[P,B]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,o=this.field,l=1;l<o.getSize()&&i<n;l++)e.evaluateAt(l)===0&&(r[i]=o.inverse(l),i++);if(i!==n)throw new df("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),o=this.field,l=0;l<r;l++){for(var u=o.inverse(n[l]),d=1,h=0;h<r;h++)if(l!==h){var v=o.multiply(n[h],u),m=(v&1)===0?v|1:v&-2;d=o.multiply(d,m)}i[l]=o.multiply(e.evaluateAt(u),o.inverse(d)),o.getGeneratorBase()!==0&&(i[l]=o.multiply(i[l],u))}return i},t})(),Gn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Gn||(Gn={}));var Km=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),l=t.getEncodedData(i),u=new Yf(o,l,null,null);return u.setNumBits(i.length),u},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Gn.UPPER,i=Gn.UPPER,o="",l=0;l<n;)if(i===Gn.BINARY){if(n-l<5)break;var u=t.readCode(e,l,5);if(l+=5,u===0){if(n-l<11)break;u=t.readCode(e,l,11)+31,l+=11}for(var d=0;d<u;d++){if(n-l<8){l=n;break}var h=t.readCode(e,l,8);o+=yt.castAsNonUtf8Char(h),l+=8}i=r}else{var v=i===Gn.DIGIT?4:5;if(n-l<v)break;var h=t.readCode(e,l,v);l+=v;var m=t.getCharacter(i,h);m.startsWith("CTRL_")?(r=i,i=t.getTable(m.charAt(5)),m.charAt(6)==="L"&&(r=i)):(o+=m,i=r)}return o},t.getTable=function(e){switch(e){case"L":return Gn.LOWER;case"P":return Gn.PUNCT;case"M":return Gn.MIXED;case"D":return Gn.DIGIT;case"B":return Gn.BINARY;case"U":default:return Gn.UPPER}},t.getCharacter=function(e,n){switch(e){case Gn.UPPER:return t.UPPER_TABLE[n];case Gn.LOWER:return t.LOWER_TABLE[n];case Gn.MIXED:return t.MIXED_TABLE[n];case Gn.PUNCT:return t.PUNCT_TABLE[n];case Gn.DIGIT:return t.DIGIT_TABLE[n];default:throw new Xc("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Er.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Er.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Er.AZTEC_DATA_10):(r=12,n=Er.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new Ie;for(var l=e.length%r,u=new Int32Array(o),d=0;d<o;d++,l+=r)u[d]=t.readCode(e,l,r);try{var h=new Wf(n);h.decode(u,o-i)}catch(T){throw new Ie(T)}for(var v=(1<<r)-1,m=0,d=0;d<i;d++){var w=u[d];if(w===0||w===v)throw new Ie;(w===1||w===v-1)&&m++}for(var E=new Array(i*r-m),_=0,d=0;d<i;d++){var w=u[d];if(w===1||w===v-1)E.fill(w>1,_,_+r-1),_+=r-1;else for(var S=r-1;S>=0;--S)E[_++]=(w&1<<S)!==0}return E},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,o=new Int32Array(i),l=new Array(this.totalBitsInLayer(r,n));if(n)for(var u=0;u<o.length;u++)o[u]=u;else for(var d=i+1+2*lt.truncDivision(lt.truncDivision(i,2)-1,15),h=i/2,v=lt.truncDivision(d,2),u=0;u<h;u++){var m=u+lt.truncDivision(u,15);o[h-u-1]=v-m-1,o[h+u]=v+m+1}for(var u=0,w=0;u<r;u++){for(var E=(r-u)*4+(n?9:12),_=u*2,S=i-1-_,T=0;T<E;T++)for(var R=T*2,M=0;M<2;M++)l[w+R+M]=e.get(o[_+M],o[_+T]),l[w+2*E+R+M]=e.get(o[_+T],o[S-M]),l[w+4*E+R+M]=e.get(o[S-M],o[S-T]),l[w+6*E+R+M]=e.get(o[S-T],o[_+M]);w+=E*8}return l},t.readCode=function(e,n,r){for(var i=0,o=n;o<n+r;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),_t=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var o=e-r,l=n-i;return Math.sqrt(o*o+l*l)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var o=e[r];n+=o}return n},t})(),Gh=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ue=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*Gh.floatToIntBits(this.x)+Gh.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,l,u;if(r>=n&&r>=i?(l=e[0],o=e[1],u=e[2]):i>=r&&i>=n?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){var d=o;o=u,u=d}e[0]=o,e[1]=l,e[2]=u},t.distance=function(e,n){return _t.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,o=n.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)},t})(),D1=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),s8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),l8=(function(t){s8(e,t);function e(n,r,i,o,l){var u=t.call(this,n,r)||this;return u.compact=i,u.nbDatablocks=o,u.nbLayers=l,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(D1),Xh=(function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new de}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,o=!1,l=!0,u=!1,d=!1,h=!1,v=!1,m=!1,w=this.width,E=this.height;l;){l=!1;for(var _=!0;(_||!d)&&n<w;)_=this.containsBlackPoint(r,i,n,!1),_?(n++,l=!0,d=!0):d||n++;if(n>=w){o=!0;break}for(var S=!0;(S||!h)&&i<E;)S=this.containsBlackPoint(e,n,i,!0),S?(i++,l=!0,h=!0):h||i++;if(i>=E){o=!0;break}for(var T=!0;(T||!v)&&e>=0;)T=this.containsBlackPoint(r,i,e,!1),T?(e--,l=!0,v=!0):v||e--;if(e<0){o=!0;break}for(var R=!0;(R||!m)&&r>=0;)R=this.containsBlackPoint(e,n,r,!0),R?(r--,l=!0,m=!0):m||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){for(var M=n-e,P=null,B=1;P===null&&B<M;B++)P=this.getBlackPointOnSegment(e,i-B,e+B,i);if(P==null)throw new de;for(var Y=null,B=1;Y===null&&B<M;B++)Y=this.getBlackPointOnSegment(e,r+B,e+B,r);if(Y==null)throw new de;for(var se=null,B=1;se===null&&B<M;B++)se=this.getBlackPointOnSegment(n,r+B,n-B,r);if(se==null)throw new de;for(var ee=null,B=1;ee===null&&B<M;B++)ee=this.getBlackPointOnSegment(n,i-B,n-B,i);if(ee==null)throw new de;return this.centerEdges(ee,P,se,Y)}else throw new de},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var o=_t.round(_t.distance(e,n,r,i)),l=(r-e)/o,u=(i-n)/o,d=this.image,h=0;h<o;h++){var v=_t.round(e+h*l),m=_t.round(n+h*u);if(d.get(v,m))return new Ue(v,m)}return null},t.prototype.centerEdges=function(e,n,r,i){var o=e.getX(),l=e.getY(),u=n.getX(),d=n.getY(),h=r.getX(),v=r.getY(),m=i.getX(),w=i.getY(),E=t.CORR;return o<this.width/2?[new Ue(m-E,w+E),new Ue(u+E,d+E),new Ue(h-E,v-E),new Ue(o+E,l-E)]:[new Ue(m+E,w+E),new Ue(u+E,d-E),new Ue(h-E,v+E),new Ue(o-E,l-E)]},t.prototype.containsBlackPoint=function(e,n,r,i){var o=this.image;if(i){for(var l=e;l<=n;l++)if(o.get(l,r))return!0}else for(var u=e;u<=n;u++)if(o.get(r,u))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),$m=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),o=!0,l=0;l<n.length&&o;l+=2){var u=Math.floor(n[l]),d=Math.floor(n[l+1]);if(u<-1||u>r||d<-1||d>i)throw new de;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),d===-1?(n[l+1]=0,o=!0):d===i&&(n[l+1]=i-1,o=!0)}o=!0;for(var l=n.length-2;l>=0&&o;l-=2){var u=Math.floor(n[l]),d=Math.floor(n[l+1]);if(u<-1||u>r||d<-1||d>i)throw new de;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),d===-1?(n[l+1]=0,o=!0):d===i&&(n[l+1]=i-1,o=!0)}},t})(),u2=(function(){function t(e,n,r,i,o,l,u,d,h){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=o,this.a32=l,this.a13=u,this.a23=d,this.a33=h}return t.quadrilateralToQuadrilateral=function(e,n,r,i,o,l,u,d,h,v,m,w,E,_,S,T){var R=t.quadrilateralToSquare(e,n,r,i,o,l,u,d),M=t.squareToQuadrilateral(h,v,m,w,E,_,S,T);return M.times(R)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,h=this.a31,v=this.a32,m=this.a33,w=0;w<n;w+=2){var E=e[w],_=e[w+1],S=o*E+d*_+m;e[w]=(r*E+l*_+h)/S,e[w+1]=(i*E+u*_+v)/S}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,h=this.a31,v=this.a32,m=this.a33,w=e.length,E=0;E<w;E++){var _=e[E],S=n[E],T=o*_+d*S+m;e[E]=(r*_+l*S+h)/T,n[E]=(i*_+u*S+v)/T}},t.squareToQuadrilateral=function(e,n,r,i,o,l,u,d){var h=e-r+o-u,v=n-i+l-d;if(h===0&&v===0)return new t(r-e,o-r,e,i-n,l-i,n,0,0,1);var m=r-o,w=u-o,E=i-l,_=d-l,S=m*_-w*E,T=(h*_-w*v)/S,R=(m*v-h*E)/S;return new t(r-e+T*r,u-e+R*u,e,i-n+T*i,d-n+R*d,n,T,R,1)},t.quadrilateralToSquare=function(e,n,r,i,o,l,u,d){return t.squareToQuadrilateral(e,n,r,i,o,l,u,d).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),c8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),u8=(function(t){c8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,o,l,u,d,h,v,m,w,E,_,S,T,R,M,P,B){var Y=u2.quadrilateralToQuadrilateral(o,l,u,d,h,v,m,w,E,_,S,T,R,M,P,B);return this.sampleGridWithTransform(n,r,i,Y)},e.prototype.sampleGridWithTransform=function(n,r,i,o){if(r<=0||i<=0)throw new de;for(var l=new Ra(r,i),u=new Float32Array(2*r),d=0;d<i;d++){for(var h=u.length,v=d+.5,m=0;m<h;m+=2)u[m]=m/2+.5,u[m+1]=v;o.transformPoints(u),$m.checkAndNudgePoints(n,u);try{for(var m=0;m<h;m+=2)n.get(Math.floor(u[m]),Math.floor(u[m+1]))&&l.set(m/2,d)}catch{throw new de}}return l},e})($m),I1=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new u8,t})(),wr=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Ue(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),f8=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),l=this.getMatrixCornerPoints(r);return new l8(o,l,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new de;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,o=0;o<4;o++){var l=r[(this.shift+o)%4];this.compact?(i<<=7,i+=l>>1&127):(i<<=10,i+=(l>>2&992)+(l>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(o,l,u){var d=(o>>n-2<<1)+(o&1);r=(r<<3)+d}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(lt.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new de},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var o=r-i,l=new Int32Array(r),u=r-1;u>=0;--u)l[u]=e&15,e>>=4;try{var d=new Wf(Er.AZTEC_PARAM);d.decode(l,o)}catch{throw new de}for(var h=0,u=0;u<i;u++)h=(h<<4)+l[u];return h},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(n,l,1,-1),d=this.getFirstDifferent(r,l,1,1),h=this.getFirstDifferent(i,l,-1,1),v=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(v,u)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(u,d,h,v))break}n=u,r=d,i=h,o=v,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new de;this.compact=this.nbCenterLayers===5;var w=new Ue(n.getX()+.5,n.getY()-.5),E=new Ue(r.getX()+.5,r.getY()+.5),_=new Ue(i.getX()-.5,i.getY()+.5),S=new Ue(o.getX()-.5,o.getY()-.5);return this.expandSquare([w,E,_,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var o=new Xh(this.image).detect();e=o[0],n=o[1],r=o[2],i=o[3]}catch{var l=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new wr(l+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new wr(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new wr(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new wr(l-7,u-7),!1,-1,-1).toResultPoint()}var d=_t.round((e.getX()+i.getX()+n.getX()+r.getX())/4),h=_t.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var o=new Xh(this.image,15,d,h).detect();e=o[0],n=o[1],r=o[2],i=o[3]}catch{e=this.getFirstDifferent(new wr(d+7,h-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new wr(d+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new wr(d-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new wr(d-7,h-7),!1,-1,-1).toResultPoint()}return d=_t.round((e.getX()+i.getX()+n.getX()+r.getX())/4),h=_t.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new wr(d,h)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,o){var l=I1.getInstance(),u=this.getDimension(),d=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,d,d,h,d,h,h,d,h,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,o=this.distanceResultPoint(e,n),l=o/r,u=e.getX(),d=e.getY(),h=l*(n.getX()-e.getX())/o,v=l*(n.getY()-e.getY())/o,m=0;m<r;m++)this.image.get(_t.round(u+m*h),_t.round(d+m*v))&&(i|=1<<r-m-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var o=3;e=new wr(e.getX()-o,e.getY()+o),n=new wr(n.getX()-o,n.getY()-o),r=new wr(r.getX()+o,r.getY()-o),i=new wr(i.getX()+o,i.getY()+o);var l=this.getColor(i,e);if(l===0)return!1;var u=this.getColor(e,n);return u!==l||(u=this.getColor(n,r),u!==l)?!1:(u=this.getColor(r,i),u===l)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,l=0,u=e.getX(),d=e.getY(),h=this.image.get(e.getX(),e.getY()),v=Math.ceil(r),m=0;m<v;m++)u+=i,d+=o,this.image.get(_t.round(u),_t.round(d))!==h&&l++;var w=l/r;return w>.1&&w<.9?0:w<=.1===h?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var o=e.getX()+r,l=e.getY()+i;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r,l+=i;for(o-=r,l-=i;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===n;)l+=i;return l-=i,new wr(o,l)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,h=new Ue(u+i*o,d+i*l),v=new Ue(u-i*o,d-i*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;var m=new Ue(u+i*o,d+i*l),w=new Ue(u-i*o,d-i*l),E=[h,m,v,w];return E},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=_t.round(e.getX()),r=_t.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return _t.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return _t.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(lt.truncDivision(this.nbLayers-4,8)+1)+15},t})(),Kh=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new f8(e.getBlackMatrix()),o=null,l=null;try{var u=i.detectMirror(!1);o=u.getPoints(),this.reportFoundResultPoints(n,o),l=new Km().decode(u)}catch(m){r=m}if(l==null)try{var u=i.detectMirror(!0);o=u.getPoints(),this.reportFoundResultPoints(n,o),l=new Km().decode(u)}catch(m){throw r??m}var d=new ir(l.getText(),l.getRawBytes(),l.getNumBits(),o,$e.AZTEC,Gt.currentTimeMillis()),h=l.getByteSegments();h!=null&&d.putMetadata(Wn.BYTE_SEGMENTS,h);var v=l.getECLevel();return v!=null&&d.putMetadata(Wn.ERROR_CORRECTION_LEVEL,v),d},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(rn.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,o,l){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),d8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){d8(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Kh,n)||this}return e})(bl);var Nn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(rn.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,n),l=o.getResultMetadata(),u=270;l!==null&&l.get(Wn.ORIENTATION)===!0&&(u=u+l.get(Wn.ORIENTATION)%360),o.putMetadata(Wn.ORIENTATION,u);var d=o.getResultPoints();if(d!==null)for(var h=i.getHeight(),v=0;v<d.length;v++)d[v]=new Ue(h-d[v].getY()-1,d[v].getX());return o}else throw new de}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),o=new Ln(r),l=n&&n.get(rn.TRY_HARDER)===!0,u=Math.max(1,i>>(l?8:5)),d;l?d=i:d=15;for(var h=Math.trunc(i/2),v=0;v<d;v++){var m=Math.trunc((v+1)/2),w=(v&1)===0,E=h+u*(w?m:-m);if(E<0||E>=i)break;try{o=e.getBlackRow(E,o)}catch{continue}for(var _=function(M){if(M===1&&(o.reverse(),n&&n.get(rn.NEED_RESULT_POINT_CALLBACK)===!0)){var P=new Map;n.forEach(function(se,ee){return P.set(ee,se)}),P.delete(rn.NEED_RESULT_POINT_CALLBACK),n=P}try{var B=S.decodeRow(E,o,n);if(M===1){B.putMetadata(Wn.ORIENTATION,180);var Y=B.getResultPoints();Y!==null&&(Y[0]=new Ue(r-Y[0].getX()-1,Y[0].getY()),Y[1]=new Ue(r-Y[1].getX()-1,Y[1].getY()))}return{value:B}}catch{}},S=this,T=0;T<2;T++){var R=_(T);if(typeof R=="object")return R.value}}throw new de},t.recordPattern=function(e,n,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var l=e.getSize();if(n>=l)throw new de;for(var u=!e.get(n),d=0,h=n;h<l;){if(e.get(h)!==u)r[d]++;else{if(++d===i)break;r[d]=1,u=!u}h++}if(!(d===i||d===i-1&&h===l))throw new de},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new de;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,l=0,u=0;u<i;u++)o+=e[u],l+=n[u];if(o<l)return Number.POSITIVE_INFINITY;var d=o/l;r*=d;for(var h=0,v=0;v<i;v++){var m=e[v],w=n[v]*d,E=m>w?m-w:w-m;if(E>r)return Number.POSITIVE_INFINITY;h+=E}return h/o},t})(),h8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ym=(function(t){h8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),o=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,d=!1,h=6,v=i;v<r;v++)if(n.get(v)!==d)l[o]++;else{if(o===h-1){for(var m=e.MAX_AVG_VARIANCE,w=-1,E=e.CODE_START_A;E<=e.CODE_START_C;E++){var _=Nn.patternMatchVariance(l,e.CODE_PATTERNS[E],e.MAX_INDIVIDUAL_VARIANCE);_<m&&(m=_,w=E)}if(w>=0&&n.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,w]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new de},e.decodeCode=function(n,r,i){Nn.recordPattern(n,i,r);for(var o=e.MAX_AVG_VARIANCE,l=-1,u=0;u<e.CODE_PATTERNS.length;u++){var d=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new de},e.prototype.decodeRow=function(n,r,i){var o=i&&i.get(rn.ASSUME_GS1)===!0,l=e.findStartPattern(r),u=l[2],d=0,h=new Uint8Array(20);h[d++]=u;var v;switch(u){case e.CODE_START_A:v=e.CODE_CODE_A;break;case e.CODE_START_B:v=e.CODE_CODE_B;break;case e.CODE_START_C:v=e.CODE_CODE_C;break;default:throw new Ie}for(var m=!1,w=!1,E="",_=l[0],S=l[1],T=Int32Array.from([0,0,0,0,0,0]),R=0,M=0,P=u,B=0,Y=!0,se=!1,ee=!1;!m;){var be=w;switch(w=!1,R=M,M=e.decodeCode(r,T,S),h[d++]=M,M!==e.CODE_STOP&&(Y=!0),M!==e.CODE_STOP&&(B++,P+=B*M),_=S,S+=T.reduce(function(xe,Ce){return xe+Ce},0),M){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ie}switch(v){case e.CODE_CODE_A:if(M<64)ee===se?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),ee=!1;else if(M<96)ee===se?E+=String.fromCharCode(M-64):E+=String.fromCharCode(M+64),ee=!1;else switch(M!==e.CODE_STOP&&(Y=!1),M){case e.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!se&&ee?(se=!0,ee=!1):se&&ee?(se=!1,ee=!1):ee=!0;break;case e.CODE_SHIFT:w=!0,v=e.CODE_CODE_B;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_B:if(M<96)ee===se?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),ee=!1;else switch(M!==e.CODE_STOP&&(Y=!1),M){case e.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!se&&ee?(se=!0,ee=!1):se&&ee?(se=!1,ee=!1):ee=!0;break;case e.CODE_SHIFT:w=!0,v=e.CODE_CODE_A;break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_C:if(M<100)M<10&&(E+="0"),E+=M;else switch(M!==e.CODE_STOP&&(Y=!1),M){case e.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_STOP:m=!0;break}break}be&&(v=v===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var Te=S-_;if(S=r.getNextUnset(S),!r.isRange(S,Math.min(r.getSize(),S+(S-_)/2),!1))throw new de;if(P-=B*R,P%103!==R)throw new Bn;var Oe=E.length;if(Oe===0)throw new de;Oe>0&&Y&&(v===e.CODE_CODE_C?E=E.substring(0,Oe-2):E=E.substring(0,Oe-1));for(var Ke=(l[1]+l[0])/2,Pe=_+Te/2,Ve=h.length,dt=new Uint8Array(Ve),At=0;At<Ve;At++)dt[At]=h[At];var le=[new Ue(Ke,n),new Ue(Pe,n)];return new ir(E,dt,0,le,$e.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Nn),p8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ph=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wm=(function(t){p8(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var o,l,u,d,h=this.counters;h.fill(0),this.decodeRowResult="";var v=e.findAsteriskPattern(r,h),m=r.getNextSet(v[1]),w=r.getSize(),E,_;do{e.recordPattern(r,m,h);var S=e.toNarrowWidePattern(h);if(S<0)throw new de;E=e.patternToChar(S),this.decodeRowResult+=E,_=m;try{for(var T=(o=void 0,ph(h)),R=T.next();!R.done;R=T.next()){var M=R.value;m+=M}}catch(Ve){o={error:Ve}}finally{try{R&&!R.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}m=r.getNextSet(m)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var P=0;try{for(var B=ph(h),Y=B.next();!Y.done;Y=B.next()){var M=Y.value;P+=M}}catch(Ve){u={error:Ve}}finally{try{Y&&!Y.done&&(d=B.return)&&d.call(B)}finally{if(u)throw u.error}}var se=m-_-P;if(m!==w&&se*2<P)throw new de;if(this.usingCheckDigit){for(var ee=this.decodeRowResult.length-1,be=0,Te=0;Te<ee;Te++)be+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Te));if(this.decodeRowResult.charAt(ee)!==e.ALPHABET_STRING.charAt(be%43))throw new Bn;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new de;var Oe;this.extendedMode?Oe=e.decodeExtended(this.decodeRowResult):Oe=this.decodeRowResult;var Ke=(v[1]+v[0])/2,Pe=_+P/2;return new ir(Oe,null,0,[new Ue(Ke,n),new Ue(Pe,n)],$e.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),o=n.getNextSet(0),l=0,u=o,d=!1,h=r.length,v=o;v<i;v++)if(n.get(v)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new de},e.toNarrowWidePattern=function(n){var r,i,o=n.length,l=0,u;do{var d=2147483647;try{for(var h=(r=void 0,ph(n)),v=h.next();!v.done;v=h.next()){var m=v.value;m<d&&m>l&&(d=m)}}catch(S){r={error:S}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}l=d,u=0;for(var w=0,E=0,_=0;_<o;_++){var m=n[_];m>l&&(E|=1<<o-1-_,u++,w+=m)}if(u===3){for(var _=0;_<o&&u>0;_++){var m=n[_];if(m>l&&(u--,m*2>=w))return-1}return E}}while(u>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new de},e.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var l=n.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){var u=n.charAt(o+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new Ie;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new Ie;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new Ie;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new Ie;break}i+=d,o++}else i+=l}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Nn),g8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zm=(function(t){g8(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var o,l,u,d,h=this.findAsteriskPattern(r),v=r.getNextSet(h[1]),m=r.getSize(),w=this.counters;w.fill(0),this.decodeRowResult="";var E,_;do{e.recordPattern(r,v,w);var S=this.toPattern(w);if(S<0)throw new de;E=this.patternToChar(S),this.decodeRowResult+=E,_=v;try{for(var T=(o=void 0,gh(w)),R=T.next();!R.done;R=T.next()){var M=R.value;v+=M}}catch(Te){o={error:Te}}finally{try{R&&!R.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}v=r.getNextSet(v)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var P=0;try{for(var B=gh(w),Y=B.next();!Y.done;Y=B.next()){var M=Y.value;P+=M}}catch(Te){u={error:Te}}finally{try{Y&&!Y.done&&(d=B.return)&&d.call(B)}finally{if(u)throw u.error}}if(v===m||!r.get(v))throw new de;if(this.decodeRowResult.length<2)throw new de;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var se=this.decodeExtended(this.decodeRowResult),ee=(h[1]+h[0])/2,be=_+P/2;return new ir(se,null,0,[new Ue(ee,n),new Ue(be,n)],$e.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var o=this.counters,l=i,u=!1,d=o.length,h=0,v=i;v<r;v++)if(n.get(v)!==u)o[h]++;else{if(h===d-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([l,v]);l+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,u=!u}throw new de},e.prototype.toPattern=function(n){var r,i,o=0;try{for(var l=gh(n),u=l.next();!u.done;u=l.next()){var d=u.value;o+=d}}catch(_){r={error:_}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}for(var h=0,v=n.length,m=0;m<v;m++){var w=Math.round(n[m]*9/o);if(w<1||w>4)return-1;if((m&1)===0)for(var E=0;E<w;E++)h=h<<1|1;else h<<=w}return h},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new de},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var l=n.charAt(o);if(l>="a"&&l<="d"){if(o>=r-1)throw new Ie;var u=n.charAt(o+1),d="\0";switch(l){case"d":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new Ie;break;case"a":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new Ie;break;case"b":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u>="X"&&u<="Z")d="";else throw new Ie;break;case"c":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new Ie;break}i+=d,o++}else i+=l}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var o=1,l=0,u=r-1;u>=0;u--)l+=o*e.ALPHABET_STRING.indexOf(n.charAt(u)),++o>i&&(o=1);if(n.charAt(r)!==e.ALPHABET_STRING[l%47])throw new Bn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Nn),v8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),m8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qm=(function(t){v8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var o,l,u=this.decodeStart(r),d=this.decodeEnd(r),h=new st;e.decodeMiddle(r,u[1],d[0],h);var v=h.toString(),m=null;i!=null&&(m=i.get(rn.ALLOWED_LENGTHS)),m==null&&(m=e.DEFAULT_ALLOWED_LENGTHS);var w=v.length,E=!1,_=0;try{for(var S=m8(m),T=S.next();!T.done;T=S.next()){var R=T.value;if(w===R){E=!0;break}R>_&&(_=R)}}catch(B){o={error:B}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(!E&&w>_&&(E=!0),!E)throw new Ie;var M=[new Ue(u[1],n),new Ue(d[0],n)],P=new ir(v,null,0,M,$e.ITF,new Date().getTime());return P},e.decodeMiddle=function(n,r,i,o){var l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<i;){Nn.recordPattern(n,r,l);for(var h=0;h<5;h++){var v=2*h;u[h]=l[v],d[h]=l[v+1]}var m=e.decodeDigit(u);o.append(m.toString()),m=this.decodeDigit(d),o.append(m.toString()),l.forEach(function(w){r+=w})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!n.get(o);o--)i--;if(i!==0)throw new de},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new de;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof de&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var o=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-o,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var o=i.length,l=new Int32Array(o),u=n.getSize(),d=!1,h=0,v=r;l.fill(0);for(var m=r;m<u;m++)if(n.get(m)!==d)l[h]++;else{if(h===o-1){if(Nn.patternMatchVariance(l,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[v,m];v+=l[0]+l[1],Gt.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new de},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,l=0;l<o;l++){var u=e.PATTERNS[l],d=Nn.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,i=l):d===r&&(i=-1)}if(i>=0)return i%10;throw new de},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Nn),y8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dl=(function(t){y8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,o=0,l=Int32Array.from([0,0,0]);!r;){l=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,o,!1,this.START_END_PATTERN,l);var u=i[0];o=i[1];var d=u-(o-u);d>=0&&(r=n.isRange(d,u,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){var l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new Ie;i+=l}i*=3;for(var o=r-2;o>=0;o-=2){var l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new Ie;i+=l}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,o){return this.findGuardPattern(n,r,i,o,new Int32Array(o.length))},e.findGuardPattern=function(n,r,i,o,l){var u=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var d=0,h=r,v=o.length,m=i,w=r;w<u;w++)if(n.get(w)!==m)l[d]++;else{if(d===v-1){if(Nn.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,w]);h+=l[0]+l[1];for(var E=l.slice(2,l.length),_=0;_<d-1;_++)l[_]=E[_];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,m=!m}throw new de},e.decodeDigit=function(n,r,i,o){this.recordPattern(n,i,r);for(var l=this.MAX_AVG_VARIANCE,u=-1,d=o.length,h=0;h<d;h++){var v=o[h],m=Nn.patternMatchVariance(r,v,e.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=h)}if(u>=0)return u;throw new de},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Nn),x8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b8=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),l=i.toString(),u=t.parseExtensionString(l),d=[new Ue((r[0]+r[1])/2,e),new Ue(o,e)],h=new ir(l,null,0,d,$e.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},t.prototype.decodeMiddle=function(e,n,r){var i,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),d=n[1],h=0,v=0;v<5&&d<u;v++){var m=dl.decodeDigit(e,l,d,dl.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var w=(i=void 0,x8(l)),E=w.next();!E.done;E=w.next()){var _=E.value;d+=_}}catch(T){i={error:T}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}m>=10&&(h|=1<<4-v),v!==4&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(r.length!==5)throw new de;var S=this.determineCheckDigit(h);if(t.extensionChecksum(r.toString())!==S)throw new de;return d},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new de},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Wn.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return n+i+"."+l},t})(),w8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E8=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),l=i.toString(),u=t.parseExtensionString(l),d=[new Ue((r[0]+r[1])/2,e),new Ue(o,e)],h=new ir(l,null,0,d,$e.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},t.prototype.decodeMiddle=function(e,n,r){var i,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),d=n[1],h=0,v=0;v<2&&d<u;v++){var m=dl.decodeDigit(e,l,d,dl.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var w=(i=void 0,w8(l)),E=w.next();!E.done;E=w.next()){var _=E.value;d+=_}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}m>=10&&(h|=1<<1-v),v!==1&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(r.length!==2)throw new de;if(parseInt(r.toString())%4!==h)throw new de;return d},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Wn.ISSUE_NUMBER,parseInt(e)]])},t})(),_8=(function(){function t(){}return t.decodeRow=function(e,n,r){var i=dl.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new b8;return o.decodeRow(e,n,i)}catch{var l=new E8;return l.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),A8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),An=(function(t){A8(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),l=0;l<i.length;l++)o[l]=i[i.length-l-1];e.L_AND_G_PATTERNS[r]=o}return n}return e.prototype.decodeRow=function(n,r,i){var o=e.findStartGuardPattern(r),l=i==null?null:i.get(rn.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=new Ue((o[0]+o[1])/2,n);l.foundPossibleResultPoint(u)}var d=this.decodeMiddle(r,o,this.decodeRowStringBuffer),h=d.rowOffset,v=d.resultString;if(l!=null){var m=new Ue(h,n);l.foundPossibleResultPoint(m)}var w=e.decodeEnd(r,h);if(l!=null){var E=new Ue((w[0]+w[1])/2,n);l.foundPossibleResultPoint(E)}var _=w[1],S=_+(_-w[0]);if(S>=r.getSize()||!r.isRange(_,S,!1))throw new de;var T=v.toString();if(T.length<8)throw new Ie;if(!e.checkChecksum(T))throw new Bn;var R=(o[1]+o[0])/2,M=(w[1]+w[0])/2,P=this.getBarcodeFormat(),B=[new Ue(R,n),new Ue(M,n)],Y=new ir(T,null,0,B,P,new Date().getTime()),se=0;try{var ee=_8.decodeRow(n,r,w[1]);Y.putMetadata(Wn.UPC_EAN_EXTENSION,ee.getText()),Y.putAllMetadata(ee.getResultMetadata()),Y.addResultPoints(ee.getResultPoints()),se=ee.getText().length}catch{}var be=i==null?null:i.get(rn.ALLOWED_EAN_EXTENSIONS);if(be!=null){var Te=!1;for(var Oe in be)if(se.toString()===Oe){Te=!0;break}if(!Te)throw new de}return P===$e.EAN_13||$e.UPC_A,Y},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){var l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new Ie;i+=l}i*=3;for(var o=r-2;o>=0;o-=2){var l=n.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new Ie;i+=l}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(dl),S8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Jm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$h=(function(t){S8(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var o,l,u,d,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=n.getSize(),m=r[1],w=0,E=0;E<6&&m<v;E++){var _=An.decodeDigit(n,h,m,An.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var S=(o=void 0,Jm(h)),T=S.next();!T.done;T=S.next()){var R=T.value;m+=R}}catch(Y){o={error:Y}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}_>=10&&(w|=1<<5-E)}i=e.determineFirstDigit(i,w);var M=An.findGuardPattern(n,m,!0,An.MIDDLE_PATTERN,new Int32Array(An.MIDDLE_PATTERN.length).fill(0));m=M[1];for(var E=0;E<6&&m<v;E++){var _=An.decodeDigit(n,h,m,An.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var P=(u=void 0,Jm(h)),B=P.next();!B.done;B=P.next()){var R=B.value;m+=R}}catch(ee){u={error:ee}}finally{try{B&&!B.done&&(d=P.return)&&d.call(P)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return $e.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new de},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(An),C8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ey=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ty=(function(t){C8(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var o,l,u,d,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=n.getSize(),m=r[1],w=0;w<4&&m<v;w++){var E=An.decodeDigit(n,h,m,An.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var _=(o=void 0,ey(h)),S=_.next();!S.done;S=_.next()){var T=S.value;m+=T}}catch(B){o={error:B}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}var R=An.findGuardPattern(n,m,!0,An.MIDDLE_PATTERN,new Int32Array(An.MIDDLE_PATTERN.length).fill(0));m=R[1];for(var w=0;w<4&&m<v;w++){var E=An.decodeDigit(n,h,m,An.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var M=(u=void 0,ey(h)),P=M.next();!P.done;P=M.next()){var T=P.value;m+=T}}catch(se){u={error:se}}finally{try{P&&!P.done&&(d=M.return)&&d.call(M)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return $e.EAN_8},e})(An),N8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ny=(function(t){N8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new $h,n}return e.prototype.getBarcodeFormat=function(){return $e.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new ir(r.substring(1),null,null,n.getResultPoints(),$e.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new de},e.prototype.reset=function(){this.ean13Reader.reset()},e})(An),O8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),T8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ry=(function(t){O8(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var o,l,u=this.decodeMiddleCounters.map(function(T){return T});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=n.getSize(),h=r[1],v=0,m=0;m<6&&h<d;m++){var w=e.decodeDigit(n,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);try{for(var E=(o=void 0,T8(u)),_=E.next();!_.done;_=E.next()){var S=_.value;h+=S}}catch(T){o={error:T}}finally{try{_&&!_.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}w>=10&&(v|=1<<5-m)}return e.determineNumSysAndCheckDigit(new st(i),v),h},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return An.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){n.insert(0,"0"+i),n.append("0"+o);return}throw de.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return $e.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),i=new st;i.append(n.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(An),D8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ay=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vh=(function(t){D8(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(rn.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf($e.EAN_13)>-1&&o.push(new $h),i.indexOf($e.UPC_A)>-1&&o.push(new ny),i.indexOf($e.EAN_8)>-1&&o.push(new ty),i.indexOf($e.UPC_E)>-1&&o.push(new ry)),o.length===0&&(o.push(new $h),o.push(new ny),o.push(new ty),o.push(new ry)),r.readers=o,r}return e.prototype.decodeRow=function(n,r,i){var o,l;try{for(var u=ay(this.readers),d=u.next();!d.done;d=u.next()){var h=d.value;try{var v=h.decodeRow(n,r,i),m=v.getBarcodeFormat()===$e.EAN_13&&v.getText().charAt(0)==="0",w=i==null?null:i.get(rn.POSSIBLE_FORMATS),E=w==null||w.includes($e.UPC_A);if(m&&E){var _=v.getRawBytes(),S=new ir(v.getText().substring(1),_,_?_.length:null,v.getResultPoints(),$e.UPC_A);return S.putAllMetadata(v.getResultMetadata()),S}return v}catch{}}}catch(T){o={error:T}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}throw new de},e.prototype.reset=function(){var n,r;try{for(var i=ay(this.readers),o=i.next();!o.done;o=i.next()){var l=o.value;l.reset()}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e})(Nn),I8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),R8=(function(t){I8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var o=this.getValidRowData(r);if(!o)throw new de;var l=this.codaBarDecodeRow(o.row);if(!l)throw new de;return new ir(l,null,0,[new Ue(o.left,n),new Ue(o.right,n)],$e.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var o=r.lastIndexOf(!0);if(o<=i)return null;r=r.slice(i,o+1);for(var l=[],u=r[0],d=1,h=1;h<r.length;h++)r[h]===u?d++:(u=r[h],l.push(d),d=1);return l.push(d),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:i,right:o}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(d,h){return(d+h)/2},0));n.length>0;){var o=n.splice(0,8).splice(0,7),l=o.map(function(d){return d<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[l])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Nn),M8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),j8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ns=(function(t){M8(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(Nn.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new de},e.count=function(n){return _t.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,o=r[0],l=1;l<n.length;l++)r[l]>o&&(o=r[l],i=l);n[i]++},e.decrement=function(n,r){for(var i=0,o=r[0],l=1;l<n.length;l++)r[l]<o&&(o=r[l],i=l);n[i]--},e.isFinderPattern=function(n){var r,i,o=n[0]+n[1],l=o+n[2]+n[3],u=o/l;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var v=j8(n),m=v.next();!m.done;m=v.next()){var w=m.value;w>h&&(h=w),w<d&&(d=w)}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}return h<10*d}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Nn),Rf=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),f2=(function(){function t(e,n,r,i,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ue(r,o)),this.resultPoints.push(new Ue(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),B8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sl=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,o,l=0;try{for(var u=B8(e),d=u.next();!d.done;d=u.next()){var h=d.value;l+=h}}catch(M){i={error:M}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}for(var v=0,m=0,w=e.length,E=0;E<w-1;E++){var _=void 0;for(_=1,m|=1<<E;_<e[E];_++,m&=~(1<<E)){var S=t.combins(l-_-1,w-E-2);if(r&&m===0&&l-_-(w-E-1)>=w-E-1&&(S-=t.combins(l-_-(w-E),w-E-2)),w-E-1>1){for(var T=0,R=l-_-(w-E-2);R>n;R--)T+=t.combins(l-_-R-1,w-E-3);S-=T*(w-1-E)}else l-_>n&&S--;v+=S}l-=_}return v},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var o=1,l=1,u=e;u>r;u--)o*=u,l<=i&&(o/=l,l++);for(;l<=i;)o/=l,l++;return o},t})(),L8=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new Ln(r),o=0,l=e[0],u=l.getRightChar().getValue(),d=11;d>=0;--d)(u&1<<d)!==0&&i.set(o),o++;for(var d=1;d<e.length;++d){for(var h=e[d],v=h.getLeftChar().getValue(),m=11;m>=0;--m)(v&1<<m)!==0&&i.set(o),o++;if(h.getRightChar()!==null)for(var w=h.getRightChar().getValue(),m=11;m>=0;--m)(w&1<<m)!==0&&i.set(o),o++}return i},t})(),Jo=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),R1=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),k8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ia=(function(t){k8(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(R1),P8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),es=(function(t){P8(e,t);function e(n,r,i){var o=t.call(this,n)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(R1),F8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ol=(function(t){F8(e,t);function e(n,r,i){var o=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new Ie;return o.firstDigit=r,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(R1),hf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U8=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,o,l,u,d,h;if(!e)return null;if(e.length<2)throw new de;var v=e.substring(0,2);try{for(var m=hf(t.TWO_DIGIT_DATA_LENGTH),w=m.next();!w.done;w=m.next()){var E=w.value;if(E[0]===v)return E[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,E[2],e):t.processFixedAI(2,E[1],e)}}catch(se){n={error:se}}finally{try{w&&!w.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}if(e.length<3)throw new de;var _=e.substring(0,3);try{for(var S=hf(t.THREE_DIGIT_DATA_LENGTH),T=S.next();!T.done;T=S.next()){var E=T.value;if(E[0]===_)return E[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,E[2],e):t.processFixedAI(3,E[1],e)}}catch(se){i={error:se}}finally{try{T&&!T.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}try{for(var R=hf(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),M=R.next();!M.done;M=R.next()){var E=M.value;if(E[0]===_)return E[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,E[2],e):t.processFixedAI(4,E[1],e)}}catch(se){l={error:se}}finally{try{M&&!M.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}if(e.length<4)throw new de;var P=e.substring(0,4);try{for(var B=hf(t.FOUR_DIGIT_DATA_LENGTH),Y=B.next();!Y.done;Y=B.next()){var E=Y.value;if(E[0]===P)return E[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,E[2],e):t.processFixedAI(4,E[1],e)}}catch(se){d={error:se}}finally{try{Y&&!Y.done&&(h=B.return)&&h.call(B)}finally{if(d)throw d.error}}throw new de},t.processFixedAI=function(e,n,r){if(r.length<e)throw new de;var i=r.substring(0,e);if(r.length<e+n)throw new de;var o=r.substring(e,e+n),l=r.substring(e+n),u="("+i+")"+o,d=t.parseFieldsInGeneralPurpose(l);return d==null?u:u+d},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;var l=r.substring(e,o),u=r.substring(o),d="("+i+")"+l,h=t.parseFieldsInGeneralPurpose(u);return h==null?d:d+h},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),Af=(function(){function t(e){this.buffer=new st,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var o=this.decodeGeneralPurposeField(r,i),l=U8.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new ol(this.information.getSize(),ol.FNC1,ol.FNC1):new ol(this.information.getSize(),n-1,ol.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new ol(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,o=0;o<r;++o)e.get(n+o)&&(i|=1<<r-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new es(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new es(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new es(this.current.getPosition(),this.buffer.toString()):n=new es(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Jo(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new es(this.current.getPosition(),this.buffer.toString());return new Jo(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jo(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new es(this.current.getPosition(),this.buffer.toString());return new Jo(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jo(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new es(this.current.getPosition(),this.buffer.toString());return new Jo(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jo(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ia(e+5,ia.FNC1);if(n>=5&&n<15)return new ia(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new ia(e+7,""+(r+1));if(r>=90&&r<116)return new ia(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Ie}return new ia(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ia(e+5,ia.FNC1);if(n>=5&&n<15)return new ia(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new ia(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Xc("Decoding invalid alphanumeric value: "+r)}return new ia(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),d2=(function(){function t(e){this.information=e,this.generalDecoder=new Af(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),z8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sa=(function(t){z8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var o=0;o<4;++o){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,o=0;o<13;o++){var l=n.charAt(o+r).charCodeAt(0)-48;i+=(o&1)===0?3*l:l}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(d2),H8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),V8=(function(t){H8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new st;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(sa),q8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),G8=(function(t){q8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new st;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(d2),X8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sf=(function(t){X8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,o);for(var l=this.checkWeight(o),u=1e5,d=0;d<5;++d)l/u===0&&n.append("0"),u/=10;n.append(l)},e})(sa),K8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),h2=(function(t){K8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Sf.GTIN_SIZE+e.WEIGHT_SIZE)throw new de;var n=new st;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Sf.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Sf),$8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y8=(function(t){$8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(h2),W8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Z8=(function(t){W8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(h2),Q8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),J8=(function(t){Q8(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+sa.GTIN_SIZE)throw new de;var n=new st;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+sa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(sa),eN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tN=(function(t){eN(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+sa.GTIN_SIZE)throw new de;var n=new st;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+sa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(sa),nN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oo=(function(t){nN(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.dateCode=i,o.firstAIdigits=r,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new de;var n=new st;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var o=i%32;i/=32;var l=i%12+1;i/=12;var u=i;u/10===0&&n.append("0"),n.append(u),l/10===0&&n.append("0"),n.append(l),o/10===0&&n.append("0"),n.append(o)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Sf);function rN(t){try{if(t.get(1))return new V8(t);if(!t.get(2))return new G8(t);var e=Af.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Y8(t);case 5:return new Z8(t)}var n=Af.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new J8(t);case 13:return new tN(t)}var r=Af.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new oo(t,"310","11");case 57:return new oo(t,"320","11");case 58:return new oo(t,"310","13");case 59:return new oo(t,"320","13");case 60:return new oo(t,"310","15");case 61:return new oo(t,"320","15");case 62:return new oo(t,"310","17");case 63:return new oo(t,"320","17")}}catch(i){throw console.log(i),new Xc("unknown decoder: "+t)}}var iy=(function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),aN=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,o){n.forEach(function(l){i.getLeftChar().getValue()===l.getLeftChar().getValue()&&i.getRightChar().getValue()===l.getRightChar().getValue()&&i.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),iN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),so=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oN=(function(t){iN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(u){if(u instanceof de){if(!this.pairs.length)throw new de;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(n,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new de},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,o,l=r;l<this.rows.length;l++){var u=this.rows[l];this.pairs.length=0;try{for(var d=(i=void 0,so(n)),h=d.next();!h.done;h=d.next()){var v=h.value;this.pairs.push(v.getPairs())}}catch(w){i={error:w}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(n);m.push(u);try{return this.checkRows(m,l+1)}catch(w){console.log(w)}}}throw new de},e.isValidSequence=function(n){var r,i;try{for(var o=so(e.FINDER_PATTERN_SEQUENCES),l=o.next();!l.done;l=o.next()){var u=l.value;if(!(n.length>u.length)){for(var d=!0,h=0;h<n.length;h++)if(n[h].getFinderPattern().getValue()!==u[h]){d=!1;break}if(d)return!0}}}catch(v){r={error:v}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,o=!1,l=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),i++}l||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new aN(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,o,l,u,d,h;try{for(var v=so(r),m=v.next();!m.done;m=v.next()){var w=m.value;if(w.getPairs().length!==n.length){var E=!0;try{for(var _=(l=void 0,so(w.getPairs())),S=_.next();!S.done;S=_.next()){var T=S.value,R=!1;try{for(var M=(d=void 0,so(n)),P=M.next();!P.done;P=M.next()){var B=P.value;if(iy.equals(T,B)){R=!0;break}}}catch(Y){d={error:Y}}finally{try{P&&!P.done&&(h=M.return)&&h.call(M)}finally{if(d)throw d.error}}R||(E=!1)}}catch(Y){l={error:Y}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}}}}catch(Y){i={error:Y}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,o,l,u,d,h;try{for(var v=so(r),m=v.next();!m.done;m=v.next()){var w=m.value,E=!0;try{for(var _=(l=void 0,so(n)),S=_.next();!S.done;S=_.next()){var T=S.value,R=!1;try{for(var M=(d=void 0,so(w.getPairs())),P=M.next();!P.done;P=M.next()){var B=P.value;if(T.equals(B)){R=!0;break}}}catch(Y){d={error:Y}}finally{try{P&&!P.done&&(h=M.return)&&h.call(M)}finally{if(d)throw d.error}}if(!R){E=!1;break}}}catch(Y){l={error:Y}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(E)return!0}}catch(Y){i={error:Y}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=L8.buildBitArray(n),i=rN(r),o=i.parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new ir(o,null,null,d,$e.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),l=2,u=1;u<this.pairs.size();++u){var d=this.pairs.get(u);o+=d.getLeftChar().getChecksumPortion(),l++;var h=d.getRightChar();h!=null&&(o+=h.getChecksumPortion(),l++)}o%=211;var v=211*(l-4)+o;return v===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var o=r.length%2===0;this.startFromEven&&(o=!o);var l,u=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,i,o),l===null?d=e.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(n,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new de;var v;try{v=this.decodeDataCharacter(n,l,o,!1)}catch(m){v=null,console.log(m)}return new iy(h,v,l,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var l=n.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var d=r[r.length-1];u=d.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var v=!1;u<l&&(v=!n.get(u),!!v);)u++;for(var m=0,w=u,E=u;E<l;E++)if(n.get(E)!==v)o[m]++;else{if(m===3){if(h&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=E;return}h&&e.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,v=!v}throw new de},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var o=n[i];n[i]=n[r-i-1],n[r-i-1]=o}},e.prototype.parseFoundFinderPattern=function(n,r,i){var o,l,u;if(i){for(var d=this.startEnd[0]-1;d>=0&&!n.get(d);)d--;d++,o=this.startEnd[0]-d,l=d,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Gt.arraycopy(h,0,h,1,h.length-1),h[0]=o;var v;try{v=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new f2(v,[l,u],l,u,r)},e.prototype.decodeDataCharacter=function(n,r,i,o){for(var l=this.getDataCharacterCounters(),u=0;u<l.length;u++)l[u]=0;if(o)e.recordPatternInReverse(n,r.getStartEnd()[0],l);else{e.recordPattern(n,r.getStartEnd()[1],l);for(var d=0,h=l.length-1;d<h;d++,h--){var v=l[d];l[d]=l[h],l[h]=v}}var m=17,w=_t.sum(new Int32Array(l))/m,E=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(w-E)/E>.3)throw new de;for(var _=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors(),d=0;d<l.length;d++){var M=1*l[d]/w,P=M+.5;if(P<1){if(M<.3)throw new de;P=1}else if(P>8){if(M>8.7)throw new de;P=8}var B=d/2;(d&1)===0?(_[B]=P,T[B]=M-P):(S[B]=P,R[B]=M-P)}this.adjustOddEvenCounts(m);for(var Y=4*r.getValue()+(i?0:2)+(o?0:1)-1,se=0,ee=0,d=_.length-1;d>=0;d--){if(e.isNotA1left(r,i,o)){var be=e.WEIGHTS[Y][2*d];ee+=_[d]*be}se+=_[d]}for(var Te=0,d=S.length-1;d>=0;d--)if(e.isNotA1left(r,i,o)){var be=e.WEIGHTS[Y][2*d+1];Te+=S[d]*be}var Oe=ee+Te;if((se&1)!==0||se>13||se<4)throw new de;var Ke=(13-se)/2,Pe=e.SYMBOL_WIDEST[Ke],Ve=9-Pe,dt=sl.getRSSvalue(_,Pe,!0),At=sl.getRSSvalue(S,Ve,!1),le=e.EVEN_TOTAL_SUBSET[Ke],xe=e.GSUM[Ke],Ce=dt*le+At+xe;return new Rf(Ce,Oe)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=_t.sum(new Int32Array(this.getOddCounts())),i=_t.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);var u=!1,d=!1;i>13?d=!0:i<4&&(u=!0);var h=r+i-n,v=(r&1)===1,m=(i&1)===0;if(h===1)if(v){if(m)throw new de;l=!0}else{if(!m)throw new de;d=!0}else if(h===-1)if(v){if(m)throw new de;o=!0}else{if(!m)throw new de;u=!0}else if(h===0){if(v){if(!m)throw new de;r<i?(o=!0,d=!0):(l=!0,u=!0)}else if(m)throw new de}else throw new de;if(o){if(l)throw new de;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new de;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(ns),sN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),lN=(function(t){sN(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Rf),cN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oy=(function(t){cN(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var o,l,u,d,h=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var v=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,v),r.reverse();try{for(var m=mh(this.possibleLeftPairs),w=m.next();!w.done;w=m.next()){var E=w.value;if(E.getCount()>1)try{for(var _=(u=void 0,mh(this.possibleRightPairs)),S=_.next();!S.done;S=_.next()){var T=S.value;if(T.getCount()>1&&e.checkChecksum(E,T))return e.constructResult(E,T)}}catch(R){u={error:R}}finally{try{S&&!S.done&&(d=_.return)&&d.call(_)}finally{if(u)throw u.error}}}}catch(R){o={error:R}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}throw new de},e.addOrTally=function(n,r){var i,o;if(r!=null){var l=!1;try{for(var u=mh(n),d=u.next();!d.done;d=u.next()){var h=d.value;if(h.getValue()===r.getValue()){h.incrementCount(),l=!0;break}}}catch(v){i={error:v}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}l||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),o=new String(i).toString(),l=new st,u=13-o.length;u>0;u--)l.append("0");l.append(o);for(var d=0,u=0;u<13;u++){var h=l.charAt(u).charCodeAt(0)-48;d+=(u&1)===0?3*h:h}d=10-d%10,d===10&&(d=0),l.append(d.toString());var v=n.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new ir(l.toString(),null,0,[v[0],v[1],m[0],m[1]],$e.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(n,r,i,o){try{var l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,i,r,l),d=o==null?null:o.get(rn.NEED_RESULT_POINT_CALLBACK);if(d!=null){var h=(l[0]+l[1])/2;r&&(h=n.getSize()-1-h),d.foundPossibleResultPoint(new Ue(h,i))}var v=this.decodeDataCharacter(n,u,!0),m=this.decodeDataCharacter(n,u,!1);return new lN(1597*v.getValue()+m.getValue(),v.getChecksumPortion()+4*m.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(i)Nn.recordPatternInReverse(n,r.getStartEnd()[0],o);else{Nn.recordPattern(n,r.getStartEnd()[1]+1,o);for(var u=0,d=o.length-1;u<d;u++,d--){var h=o[u];o[u]=o[d],o[d]=h}}for(var v=i?16:15,m=_t.sum(new Int32Array(o))/v,w=this.getOddCounts(),E=this.getEvenCounts(),_=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var T=o[u]/m,R=Math.floor(T+.5);R<1?R=1:R>8&&(R=8);var M=Math.floor(u/2);(u&1)===0?(w[M]=R,_[M]=T-R):(E[M]=R,S[M]=T-R)}this.adjustOddEvenCounts(i,v);for(var P=0,B=0,u=w.length-1;u>=0;u--)B*=9,B+=w[u],P+=w[u];for(var Y=0,se=0,u=E.length-1;u>=0;u--)Y*=9,Y+=E[u],se+=E[u];var ee=B+3*Y;if(i){if((P&1)!==0||P>12||P<4)throw new de;var be=(12-P)/2,Te=e.OUTSIDE_ODD_WIDEST[be],Oe=9-Te,Ke=sl.getRSSvalue(w,Te,!1),Pe=sl.getRSSvalue(E,Oe,!0),Ve=e.OUTSIDE_EVEN_TOTAL_SUBSET[be],dt=e.OUTSIDE_GSUM[be];return new Rf(Ke*Ve+Pe+dt,ee)}else{if((se&1)!==0||se>10||se<4)throw new de;var be=(10-se)/2,Te=e.INSIDE_ODD_WIDEST[be],Oe=9-Te,Ke=sl.getRSSvalue(w,Te,!0),Pe=sl.getRSSvalue(E,Oe,!1),At=e.INSIDE_ODD_TOTAL_SUBSET[be],dt=e.INSIDE_GSUM[be];return new Rf(Pe*At+Ke+dt,ee)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=n.getSize(),l=!1,u=0;u<o&&(l=!n.get(u),r!==l);)u++;for(var d=0,h=u,v=u;v<o;v++)if(n.get(v)!==l)i[d]++;else{if(d===3){if(ns.isFinderPattern(i))return[h,v];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,d--}else d++;i[d]=1,l=!l}throw new de},e.prototype.parseFoundFinderPattern=function(n,r,i,o){for(var l=n.get(o[0]),u=o[0]-1;u>=0&&l!==n.get(u);)u--;u++;var d=o[0]-u,h=this.getDecodeFinderCounters(),v=new Int32Array(h.length);Gt.arraycopy(h,0,v,1,h.length-1),v[0]=d;var m=this.parseFinderValue(v,e.FINDER_PATTERNS),w=u,E=o[1];return i&&(w=n.getSize()-1-w,E=n.getSize()-1-E),new f2(m,[u,o[1]],w,E,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=_t.sum(new Int32Array(this.getOddCounts())),o=_t.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;n?(i>12?u=!0:i<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(i>11?u=!0:i<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));var v=i+o-r,m=(i&1)===(n?1:0),w=(o&1)===1;if(v===1)if(m){if(w)throw new de;u=!0}else{if(!w)throw new de;h=!0}else if(v===-1)if(m){if(w)throw new de;l=!0}else{if(!w)throw new de;d=!0}else if(v===0){if(m){if(!w)throw new de;i<o?(l=!0,h=!0):(u=!0,d=!0)}else if(w)throw new de}else throw new de;if(l){if(u)throw new de;ns.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ns.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new de;ns.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ns.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(ns),uN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Rc=(function(t){uN(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(rn.POSSIBLE_FORMATS):null,o=n&&n.get(rn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes($e.EAN_13)||i.includes($e.UPC_A)||i.includes($e.EAN_8)||i.includes($e.UPC_E))&&r.readers.push(new vh(n)),i.includes($e.CODE_39)&&r.readers.push(new Wm(o)),i.includes($e.CODE_93)&&r.readers.push(new Zm),i.includes($e.CODE_128)&&r.readers.push(new Ym),i.includes($e.ITF)&&r.readers.push(new Qm),i.includes($e.CODABAR)&&r.readers.push(new R8),i.includes($e.RSS_14)&&r.readers.push(new oy),i.includes($e.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new oN))),r.readers.length===0&&(r.readers.push(new vh(n)),r.readers.push(new Wm),r.readers.push(new Zm),r.readers.push(new vh(n)),r.readers.push(new Ym),r.readers.push(new Qm),r.readers.push(new oy)),r}return e.prototype.decodeRow=function(n,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,r,i)}catch{}throw new de},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Nn),fN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){fN(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new Rc(r),n,r)||this}return e})(bl);var sy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},It=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Nt=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),dN=(function(){function t(e,n,r,i,o,l){var u,d;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=l;var h=0,v=l.getECCodewords(),m=l.getECBlocks();try{for(var w=sy(m),E=w.next();!E.done;E=w.next()){var _=E.value;h+=_.getCount()*(_.getDataCodewords()+v)}}catch(S){u={error:S}}finally{try{E&&!E.done&&(d=w.return)&&d.call(w)}finally{if(u)throw u.error}}this.totalCodewords=h}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if((e&1)!==0||(n&1)!==0)throw new Ie;try{for(var o=sy(t.VERSIONS),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===n)return u}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new Ie},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new It(5,new Nt(1,3))),new t(2,12,12,10,10,new It(7,new Nt(1,5))),new t(3,14,14,12,12,new It(10,new Nt(1,8))),new t(4,16,16,14,14,new It(12,new Nt(1,12))),new t(5,18,18,16,16,new It(14,new Nt(1,18))),new t(6,20,20,18,18,new It(18,new Nt(1,22))),new t(7,22,22,20,20,new It(20,new Nt(1,30))),new t(8,24,24,22,22,new It(24,new Nt(1,36))),new t(9,26,26,24,24,new It(28,new Nt(1,44))),new t(10,32,32,14,14,new It(36,new Nt(1,62))),new t(11,36,36,16,16,new It(42,new Nt(1,86))),new t(12,40,40,18,18,new It(48,new Nt(1,114))),new t(13,44,44,20,20,new It(56,new Nt(1,144))),new t(14,48,48,22,22,new It(68,new Nt(1,174))),new t(15,52,52,24,24,new It(42,new Nt(2,102))),new t(16,64,64,14,14,new It(56,new Nt(2,140))),new t(17,72,72,16,16,new It(36,new Nt(4,92))),new t(18,80,80,18,18,new It(48,new Nt(4,114))),new t(19,88,88,20,20,new It(56,new Nt(4,144))),new t(20,96,96,22,22,new It(68,new Nt(4,174))),new t(21,104,104,24,24,new It(56,new Nt(6,136))),new t(22,120,120,18,18,new It(68,new Nt(6,175))),new t(23,132,132,20,20,new It(62,new Nt(8,163))),new t(24,144,144,22,22,new It(62,new Nt(8,156),new Nt(2,155))),new t(25,8,18,6,16,new It(7,new Nt(1,5))),new t(26,8,32,6,14,new It(11,new Nt(1,10))),new t(27,12,26,10,24,new It(14,new Nt(1,16))),new t(28,12,36,10,16,new It(18,new Nt(1,22))),new t(29,16,36,14,16,new It(24,new Nt(1,32))),new t(30,16,48,14,22,new It(28,new Nt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),hN=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new Ie;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ra(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return dN.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),u=!1,d=!1,h=!1,v=!1;do if(r===o&&i===0&&!u)e[n++]=this.readCorner1(o,l)&255,r-=2,i+=2,u=!0;else if(r===o-2&&i===0&&(l&3)!==0&&!d)e[n++]=this.readCorner2(o,l)&255,r-=2,i+=2,d=!0;else if(r===o+4&&i===2&&(l&7)===0&&!h)e[n++]=this.readCorner3(o,l)&255,r-=2,i+=2,h=!0;else if(r===o-2&&i===0&&(l&7)===4&&!v)e[n++]=this.readCorner4(o,l)&255,r-=2,i+=2,v=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,l)&255),r-=2,i+=2;while(r>=0&&i<l);r+=1,i+=3;do r>=0&&i<l&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,l)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<l);if(n!==this.version.getTotalCodewords())throw new Ie;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var o=0;return this.readModule(e-2,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n,r,i)&&(o|=1),o<<=1,this.readModule(e,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e,n,r,i)&&(o|=1),o},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ye("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=n/i|0,u=r/o|0,d=l*i,h=u*o,v=new Ra(h,d),m=0;m<l;++m)for(var w=m*i,E=0;E<u;++E)for(var _=E*o,S=0;S<i;++S)for(var T=m*(i+2)+1+S,R=w+S,M=0;M<o;++M){var P=E*(o+2)+1+M;if(e.get(P,T)){var B=_+M;v.set(B,R)}}return v},t})(),ly=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pN=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,o,l,u=n.getECBlocks(),d=0,h=u.getECBlocks();try{for(var v=ly(h),m=v.next();!m.done;m=v.next()){var w=m.value;d+=w.getCount()}}catch(dt){r={error:dt}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}var E=new Array(d),_=0;try{for(var S=ly(h),T=S.next();!T.done;T=S.next())for(var w=T.value,R=0;R<w.getCount();R++){var M=w.getDataCodewords(),P=u.getECCodewords()+M;E[_++]=new t(M,new Uint8Array(P))}}catch(dt){o={error:dt}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}for(var B=E[0].codewords.length,Y=B-u.getECCodewords(),se=Y-1,ee=0,R=0;R<se;R++)for(var be=0;be<_;be++)E[be].codewords[R]=e[ee++];for(var Te=n.getVersionNumber()===24,Oe=Te?8:_,be=0;be<Oe;be++)E[be].codewords[Y-1]=e[ee++];for(var Ke=E[0].codewords.length,R=Y;R<Ke;R++)for(var be=0;be<_;be++){var Pe=Te?(be+8)%_:be,Ve=Te&&Pe>7?R-1:R;E[Pe].codewords[Ve]=e[ee++]}if(ee!==e.length)throw new Ye;return E},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),p2=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ye(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var l=8-r,u=e<l?e:l,d=l-u,h=255>>8-u<<d;n=(o[i]&h)>>d,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|o[i]&255,i++,e-=8;if(e>0){var d=8-e,h=255>>d<<d;n=n<<e|(o[i]&h)>>d,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),En;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(En||(En={}));var gN=(function(){function t(){}return t.decode=function(e){var n=new p2(e),r=new st,i=new st,o=new Array,l=En.ASCII_ENCODE;do if(l===En.ASCII_ENCODE)l=this.decodeAsciiSegment(n,r,i);else{switch(l){case En.C40_ENCODE:this.decodeC40Segment(n,r);break;case En.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case En.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case En.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case En.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new Ie}l=En.ASCII_ENCODE}while(l!==En.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Yf(e,r.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Ie;if(o<=128)return i&&(o+=128),n.append(String.fromCharCode(o-1)),En.ASCII_ENCODE;if(o===129)return En.PAD_ENCODE;if(o<=229){var l=o-130;l<10&&n.append("0"),n.append(""+l)}else switch(o){case 230:return En.C40_ENCODE;case 231:return En.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return En.ANSIX12_ENCODE;case 239:return En.TEXT_ENCODE;case 240:return En.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Ie;break}}while(e.available()>0);return En.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(var u=0;u<3;u++){var d=i[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):n.append(h)}else throw new Ie;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):n.append(h)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new Ie}o=0;break;case 3:r?(n.append(String.fromCharCode(d+224)),r=!1):n.append(String.fromCharCode(d+96)),o=0;break;default:throw new Ie}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(var u=0;u<3;u++){var d=i[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):n.append(h)}else throw new Ie;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):n.append(h)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new Ie}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[d];r?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):n.append(h),o=0}else throw new Ie;break;default:throw new Ie}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var o=0;o<3;o++){var l=r[o];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new Ie;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),l<0)throw new Ie;for(var u=new Uint8Array(l),d=0;d<l;d++){if(e.available()<8)throw new Ie;u[d]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{n.append(Yr.decode(u,yt.ISO88591))}catch(h){throw new Xc("Platform does not support required encoding: "+h.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),vN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mN=(function(){function t(){this.rsDecoder=new Wf(Er.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new hN(e),o=i.getVersion(),l=i.readCodewords(),u=pN.getDataBlocks(l,o),d=0;try{for(var h=vN(u),v=h.next();!v.done;v=h.next()){var m=v.value;d+=m.getNumDataCodewords()}}catch(P){n={error:P}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}for(var w=new Uint8Array(d),E=u.length,_=0;_<E;_++){var S=u[_],T=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(T,R);for(var M=0;M<R;M++)w[M*E+_]=T[M]}return gN.decode(w)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Bn}for(var i=0;i<n;i++)e[i]=r[i]},t})(),yN=(function(){function t(e){this.image=e,this.rectangleDetector=new Xh(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new de;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],o=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(d&1)===1&&(d+=1),4*u<7*d&&4*d<7*u&&(u=d=Math.max(u,d));var h=t.sampleGrid(this.image,r,i,o,l,u,d);return new D1(h,[r,i,o,l])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new Ue(e.getX()+i,e.getY()+o)},t.moveAway=function(e,n,r){var i=e.getX(),o=e.getY();return i<n?i-=1:i+=1,o<r?o-=1:o+=1,new Ue(i,o)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],o=e[2],l=this.transitionsBetween(n,r),u=this.transitionsBetween(r,i),d=this.transitionsBetween(i,o),h=this.transitionsBetween(o,n),v=l,m=[o,n,r,i];return v>u&&(v=u,m[0]=n,m[1]=r,m[2]=i,m[3]=o),v>d&&(v=d,m[0]=r,m[1]=i,m[2]=o,m[3]=n),v>h&&(m[0]=i,m[1]=o,m[2]=n,m[3]=r),m},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],l=this.transitionsBetween(n,o),u=t.shiftPoint(r,i,(l+1)*4),d=t.shiftPoint(i,r,(l+1)*4),h=this.transitionsBetween(u,n),v=this.transitionsBetween(d,o);return h<v?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],l=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),d=t.shiftPoint(n,r,(u+1)*4),h=t.shiftPoint(i,r,(l+1)*4);l=this.transitionsBetween(d,o),u=this.transitionsBetween(h,o);var v=new Ue(o.getX()+(i.getX()-r.getX())/(l+1),o.getY()+(i.getY()-r.getY())/(l+1)),m=new Ue(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(v))return this.isValid(m)?m:null;if(!this.isValid(m))return v;var w=this.transitionsBetween(d,v)+this.transitionsBetween(h,v),E=this.transitionsBetween(d,m)+this.transitionsBetween(h,m);return w>E?v:m},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(i,o)+1,d=t.shiftPoint(n,r,u*4),h=t.shiftPoint(i,r,l*4);l=this.transitionsBetween(d,o)+1,u=this.transitionsBetween(h,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);var v=(n.getX()+r.getX()+i.getX()+o.getX())/4,m=(n.getY()+r.getY()+i.getY()+o.getY())/4;n=t.moveAway(n,v,m),r=t.moveAway(r,v,m),i=t.moveAway(i,v,m),o=t.moveAway(o,v,m);var w,E;return d=t.shiftPoint(n,r,u*4),d=t.shiftPoint(d,o,l*4),w=t.shiftPoint(r,n,u*4),w=t.shiftPoint(w,i,l*4),h=t.shiftPoint(i,o,u*4),h=t.shiftPoint(h,r,l*4),E=t.shiftPoint(o,i,u*4),E=t.shiftPoint(E,n,l*4),[d,w,h,E]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,o,l,u){var d=I1.getInstance();return d.sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.abs(l-i)>Math.abs(o-r);if(u){var d=r;r=i,i=d,d=o,o=l,l=d}for(var h=Math.abs(o-r),v=Math.abs(l-i),m=-h/2,w=i<l?1:-1,E=r<o?1:-1,_=0,S=this.image.get(u?i:r,u?r:i),T=r,R=i;T!==o;T+=E){var M=this.image.get(u?R:T,u?T:R);if(M!==S&&(_++,S=M),m+=v,m>0){if(R===l)break;R+=w,m-=h}}return _},t})(),Yh=(function(){function t(){this.decoder=new mN}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(rn.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=t.NO_POINTS}else{var l=new yN(e.getBlackMatrix()).detect();r=this.decoder.decode(l.getBits()),i=l.getPoints()}var u=r.getRawBytes(),d=new ir(r.getText(),u,8*u.length,i,$e.DATA_MATRIX,Gt.currentTimeMillis()),h=r.getByteSegments();h!=null&&d.putMetadata(Wn.BYTE_SEGMENTS,h);var v=r.getECLevel();return v!=null&&d.putMetadata(Wn.ERROR_CORRECTION_LEVEL,v),d},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new de;var i=this.moduleSize(n,e),o=n[1],l=r[1],u=n[0],d=r[0],h=(d-u+1)/i,v=(l-o+1)/i;if(h<=0||v<=0)throw new de;var m=i/2;o+=m,u+=m;for(var w=new Ra(h,v),E=0;E<v;E++)for(var _=o+E*i,S=0;S<h;S++)e.get(u+S*i,_)&&w.set(S,E);return w},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],o=e[1];i<r&&n.get(i,o);)i++;if(i===r)throw new de;var l=i-e[0];if(l===0)throw new de;return l},t.NO_POINTS=[],t})(),xN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){xN(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Yh,n)||this}return e})(bl);var ll;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(ll||(ll={}));var bN=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new oa(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ye;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(ll.L,"L",1),t.M=new t(ll.M,"M",0),t.Q=new t(ll.Q,"Q",3),t.H=new t(ll.H,"H",2),t})(),wN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g2=(function(){function t(e){this.errorCorrectionLevel=bN.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return lt.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,o=Number.MAX_SAFE_INTEGER,l=0;try{for(var u=wN(t.FORMAT_INFO_DECODE_LOOKUP),d=u.next();!d.done;d=u.next()){var h=d.value,v=h[0];if(v===e||v===n)return new t(h[1]);var m=t.numBitsDiffering(e,v);m<o&&(l=h[1],o=m),e!==n&&(m=t.numBitsDiffering(n,v),m<o&&(l=h[1],o=m))}}catch(w){r={error:w}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o<=3?new t(l):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),EN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ne=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var o=EN(i),l=o.next();!l.done;l=o.next()){var u=l.value;r+=u.getCount()}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),k=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),_N=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ss=(function(){function t(e,n){for(var r,i,o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=o;var u=0,d=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();try{for(var v=_N(h),m=v.next();!m.done;m=v.next()){var w=m.value;u+=w.getCount()*(w.getDataCodewords()+d)}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ie;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Ie}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ye;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var l=g2.numBitsDiffering(e,o);l<n&&(r=i+7,n=l)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Ra(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,l=0;l<r;l++)i===0&&(l===0||l===r-1)||i===r-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,o,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ne(7,new k(1,19)),new ne(10,new k(1,16)),new ne(13,new k(1,13)),new ne(17,new k(1,9))),new t(2,Int32Array.from([6,18]),new ne(10,new k(1,34)),new ne(16,new k(1,28)),new ne(22,new k(1,22)),new ne(28,new k(1,16))),new t(3,Int32Array.from([6,22]),new ne(15,new k(1,55)),new ne(26,new k(1,44)),new ne(18,new k(2,17)),new ne(22,new k(2,13))),new t(4,Int32Array.from([6,26]),new ne(20,new k(1,80)),new ne(18,new k(2,32)),new ne(26,new k(2,24)),new ne(16,new k(4,9))),new t(5,Int32Array.from([6,30]),new ne(26,new k(1,108)),new ne(24,new k(2,43)),new ne(18,new k(2,15),new k(2,16)),new ne(22,new k(2,11),new k(2,12))),new t(6,Int32Array.from([6,34]),new ne(18,new k(2,68)),new ne(16,new k(4,27)),new ne(24,new k(4,19)),new ne(28,new k(4,15))),new t(7,Int32Array.from([6,22,38]),new ne(20,new k(2,78)),new ne(18,new k(4,31)),new ne(18,new k(2,14),new k(4,15)),new ne(26,new k(4,13),new k(1,14))),new t(8,Int32Array.from([6,24,42]),new ne(24,new k(2,97)),new ne(22,new k(2,38),new k(2,39)),new ne(22,new k(4,18),new k(2,19)),new ne(26,new k(4,14),new k(2,15))),new t(9,Int32Array.from([6,26,46]),new ne(30,new k(2,116)),new ne(22,new k(3,36),new k(2,37)),new ne(20,new k(4,16),new k(4,17)),new ne(24,new k(4,12),new k(4,13))),new t(10,Int32Array.from([6,28,50]),new ne(18,new k(2,68),new k(2,69)),new ne(26,new k(4,43),new k(1,44)),new ne(24,new k(6,19),new k(2,20)),new ne(28,new k(6,15),new k(2,16))),new t(11,Int32Array.from([6,30,54]),new ne(20,new k(4,81)),new ne(30,new k(1,50),new k(4,51)),new ne(28,new k(4,22),new k(4,23)),new ne(24,new k(3,12),new k(8,13))),new t(12,Int32Array.from([6,32,58]),new ne(24,new k(2,92),new k(2,93)),new ne(22,new k(6,36),new k(2,37)),new ne(26,new k(4,20),new k(6,21)),new ne(28,new k(7,14),new k(4,15))),new t(13,Int32Array.from([6,34,62]),new ne(26,new k(4,107)),new ne(22,new k(8,37),new k(1,38)),new ne(24,new k(8,20),new k(4,21)),new ne(22,new k(12,11),new k(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ne(30,new k(3,115),new k(1,116)),new ne(24,new k(4,40),new k(5,41)),new ne(20,new k(11,16),new k(5,17)),new ne(24,new k(11,12),new k(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ne(22,new k(5,87),new k(1,88)),new ne(24,new k(5,41),new k(5,42)),new ne(30,new k(5,24),new k(7,25)),new ne(24,new k(11,12),new k(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ne(24,new k(5,98),new k(1,99)),new ne(28,new k(7,45),new k(3,46)),new ne(24,new k(15,19),new k(2,20)),new ne(30,new k(3,15),new k(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ne(28,new k(1,107),new k(5,108)),new ne(28,new k(10,46),new k(1,47)),new ne(28,new k(1,22),new k(15,23)),new ne(28,new k(2,14),new k(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ne(30,new k(5,120),new k(1,121)),new ne(26,new k(9,43),new k(4,44)),new ne(28,new k(17,22),new k(1,23)),new ne(28,new k(2,14),new k(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ne(28,new k(3,113),new k(4,114)),new ne(26,new k(3,44),new k(11,45)),new ne(26,new k(17,21),new k(4,22)),new ne(26,new k(9,13),new k(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ne(28,new k(3,107),new k(5,108)),new ne(26,new k(3,41),new k(13,42)),new ne(30,new k(15,24),new k(5,25)),new ne(28,new k(15,15),new k(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ne(28,new k(4,116),new k(4,117)),new ne(26,new k(17,42)),new ne(28,new k(17,22),new k(6,23)),new ne(30,new k(19,16),new k(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ne(28,new k(2,111),new k(7,112)),new ne(28,new k(17,46)),new ne(30,new k(7,24),new k(16,25)),new ne(24,new k(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ne(30,new k(4,121),new k(5,122)),new ne(28,new k(4,47),new k(14,48)),new ne(30,new k(11,24),new k(14,25)),new ne(30,new k(16,15),new k(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ne(30,new k(6,117),new k(4,118)),new ne(28,new k(6,45),new k(14,46)),new ne(30,new k(11,24),new k(16,25)),new ne(30,new k(30,16),new k(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ne(26,new k(8,106),new k(4,107)),new ne(28,new k(8,47),new k(13,48)),new ne(30,new k(7,24),new k(22,25)),new ne(30,new k(22,15),new k(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ne(28,new k(10,114),new k(2,115)),new ne(28,new k(19,46),new k(4,47)),new ne(28,new k(28,22),new k(6,23)),new ne(30,new k(33,16),new k(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ne(30,new k(8,122),new k(4,123)),new ne(28,new k(22,45),new k(3,46)),new ne(30,new k(8,23),new k(26,24)),new ne(30,new k(12,15),new k(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ne(30,new k(3,117),new k(10,118)),new ne(28,new k(3,45),new k(23,46)),new ne(30,new k(4,24),new k(31,25)),new ne(30,new k(11,15),new k(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ne(30,new k(7,116),new k(7,117)),new ne(28,new k(21,45),new k(7,46)),new ne(30,new k(1,23),new k(37,24)),new ne(30,new k(19,15),new k(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ne(30,new k(5,115),new k(10,116)),new ne(28,new k(19,47),new k(10,48)),new ne(30,new k(15,24),new k(25,25)),new ne(30,new k(23,15),new k(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ne(30,new k(13,115),new k(3,116)),new ne(28,new k(2,46),new k(29,47)),new ne(30,new k(42,24),new k(1,25)),new ne(30,new k(23,15),new k(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ne(30,new k(17,115)),new ne(28,new k(10,46),new k(23,47)),new ne(30,new k(10,24),new k(35,25)),new ne(30,new k(19,15),new k(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ne(30,new k(17,115),new k(1,116)),new ne(28,new k(14,46),new k(21,47)),new ne(30,new k(29,24),new k(19,25)),new ne(30,new k(11,15),new k(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ne(30,new k(13,115),new k(6,116)),new ne(28,new k(14,46),new k(23,47)),new ne(30,new k(44,24),new k(7,25)),new ne(30,new k(59,16),new k(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ne(30,new k(12,121),new k(7,122)),new ne(28,new k(12,47),new k(26,48)),new ne(30,new k(39,24),new k(14,25)),new ne(30,new k(22,15),new k(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ne(30,new k(6,121),new k(14,122)),new ne(28,new k(6,47),new k(34,48)),new ne(30,new k(46,24),new k(10,25)),new ne(30,new k(2,15),new k(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ne(30,new k(17,122),new k(4,123)),new ne(28,new k(29,46),new k(14,47)),new ne(30,new k(49,24),new k(10,25)),new ne(30,new k(24,15),new k(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ne(30,new k(4,122),new k(18,123)),new ne(28,new k(13,46),new k(32,47)),new ne(30,new k(48,24),new k(14,25)),new ne(30,new k(42,15),new k(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ne(30,new k(20,117),new k(4,118)),new ne(28,new k(40,47),new k(7,48)),new ne(30,new k(43,24),new k(22,25)),new ne(30,new k(10,15),new k(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ne(30,new k(19,118),new k(6,119)),new ne(28,new k(18,47),new k(31,48)),new ne(30,new k(34,24),new k(34,25)),new ne(30,new k(20,15),new k(61,16)))],t})(),Mn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Mn||(Mn={}));var cy=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[Mn.DATA_MASK_000,new t(Mn.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[Mn.DATA_MASK_001,new t(Mn.DATA_MASK_001,function(e,n){return(e&1)===0})],[Mn.DATA_MASK_010,new t(Mn.DATA_MASK_010,function(e,n){return n%3===0})],[Mn.DATA_MASK_011,new t(Mn.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[Mn.DATA_MASK_100,new t(Mn.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[Mn.DATA_MASK_101,new t(Mn.DATA_MASK_101,function(e,n){return e*n%6===0})],[Mn.DATA_MASK_110,new t(Mn.DATA_MASK_110,function(e,n){return e*n%6<3})],[Mn.DATA_MASK_111,new t(Mn.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),AN=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new Ie;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),o=0,l=i-7,r=i-1;r>=l;r--)o=this.copyBit(8,r,o);for(var n=i-8;n<i;n++)o=this.copyBit(n,8,o);if(this.parsedFormatInfo=g2.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ie},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ss.getVersionForNumber(n);for(var r=0,i=e-11,o=5;o>=0;o--)for(var l=e-9;l>=i;l--)r=this.copyBit(l,o,r);var u=ss.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var l=5;l>=0;l--)for(var o=e-9;o>=i;o--)r=this.copyBit(l,o,r);if(u=ss.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new Ie},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=cy.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=n.buildFunctionPattern(),l=!0,u=new Uint8Array(n.getTotalCodewords()),d=0,h=0,v=0,m=i-1;m>0;m-=2){m===6&&m--;for(var w=0;w<i;w++)for(var E=l?i-1-w:w,_=0;_<2;_++)o.get(m-_,E)||(v++,h<<=1,this.bitMatrix.get(m-_,E)&&(h|=1),v===8&&(u[d++]=h,v=0,h=0));l=!l}if(d!==n.getTotalCodewords())throw new Ie;return u},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=cy.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,o=e.getHeight();i<o;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t})(),uy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SN=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,o,l,u;if(e.length!==n.getTotalCodewords())throw new Ye;var d=n.getECBlocksForLevel(r),h=0,v=d.getECBlocks();try{for(var m=uy(v),w=m.next();!w.done;w=m.next()){var E=w.value;h+=E.getCount()}}catch(Ve){i={error:Ve}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}var _=new Array(h),S=0;try{for(var T=uy(v),R=T.next();!R.done;R=T.next())for(var E=R.value,M=0;M<E.getCount();M++){var P=E.getDataCodewords(),B=d.getECCodewordsPerBlock()+P;_[S++]=new t(P,new Uint8Array(B))}}catch(Ve){l={error:Ve}}finally{try{R&&!R.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}for(var Y=_[0].codewords.length,se=_.length-1;se>=0;){var ee=_[se].codewords.length;if(ee===Y)break;se--}se++;for(var be=Y-d.getECCodewordsPerBlock(),Te=0,M=0;M<be;M++)for(var Oe=0;Oe<S;Oe++)_[Oe].codewords[M]=e[Te++];for(var Oe=se;Oe<S;Oe++)_[Oe].codewords[be]=e[Te++];for(var Ke=_[0].codewords.length,M=be;M<Ke;M++)for(var Oe=0;Oe<S;Oe++){var Pe=Oe<se?M:M+1;_[Oe].codewords[Pe]=e[Te++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Kr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Kr||(Kr={}));var Zt=(function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new Ye;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Kr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Kr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Kr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Kr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Kr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Kr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Kr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Kr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Kr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Kr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),CN=(function(){function t(){}return t.decode=function(e,n,r,i){var o=new p2(e),l=new st,u=new Array,d=-1,h=-1;try{var v=null,m=!1,w=void 0;do{if(o.available()<4)w=Zt.TERMINATOR;else{var E=o.readBits(4);w=Zt.forBits(E)}switch(w){case Zt.TERMINATOR:break;case Zt.FNC1_FIRST_POSITION:case Zt.FNC1_SECOND_POSITION:m=!0;break;case Zt.STRUCTURED_APPEND:if(o.available()<16)throw new Ie;d=o.readBits(8),h=o.readBits(8);break;case Zt.ECI:var _=t.parseECIValue(o);if(v=Sn.getCharacterSetECIByValue(_),v===null)throw new Ie;break;case Zt.HANZI:var S=o.readBits(4),T=o.readBits(w.getCharacterCountBits(n));S===t.GB2312_SUBSET&&t.decodeHanziSegment(o,l,T);break;default:var R=o.readBits(w.getCharacterCountBits(n));switch(w){case Zt.NUMERIC:t.decodeNumericSegment(o,l,R);break;case Zt.ALPHANUMERIC:t.decodeAlphanumericSegment(o,l,R,m);break;case Zt.BYTE:t.decodeByteSegment(o,l,R,v,u,i);break;case Zt.KANJI:t.decodeKanjiSegment(o,l,R);break;default:throw new Ie}break}}while(w!==Zt.TERMINATOR)}catch{throw new Ie}return new Yf(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),d,h)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new Ie;for(var i=new Uint8Array(2*r),o=0;r>0;){var l=e.readBits(13),u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,i[o]=u>>8&255,i[o+1]=u&255,o+=2,r--}try{n.append(Yr.decode(i,yt.GB2312))}catch(d){throw new Ie(d)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new Ie;for(var i=new Uint8Array(2*r),o=0;r>0;){var l=e.readBits(13),u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,i[o]=u>>8,i[o+1]=u,o+=2,r--}try{n.append(Yr.decode(i,yt.SHIFT_JIS))}catch(d){throw new Ie(d)}},t.decodeByteSegment=function(e,n,r,i,o,l){if(8*r>e.available())throw new Ie;for(var u=new Uint8Array(r),d=0;d<r;d++)u[d]=e.readBits(8);var h;i===null?h=yt.guessEncoding(u,l):h=i.getName();try{n.append(Yr.decode(u,h))}catch(v){throw new Ie(v)}o.push(u)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Ie;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new Ie;var l=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(l/45))),n.append(t.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new Ie;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=o;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new Ie;var i=e.readBits(10);if(i>=1e3)throw new Ie;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new Ie;var o=e.readBits(7);if(o>=100)throw new Ie;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(r===1){if(e.available()<4)throw new Ie;var l=e.readBits(4);if(l>=10)throw new Ie;n.append(t.toAlphaNumericChar(l))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new Ie},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),v2=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),fy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NN=(function(){function t(){this.rsDecoder=new Wf(Er.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Ra.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new AN(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(l){i=l}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,n);return o.setOther(new v2(!0)),o}catch(l){throw i!==null?i:l}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,o,l,u=e.readVersion(),d=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),v=SN.getDataBlocks(h,u,d),m=0;try{for(var w=fy(v),E=w.next();!E.done;E=w.next()){var _=E.value;m+=_.getNumDataCodewords()}}catch(se){r={error:se}}finally{try{E&&!E.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}var S=new Uint8Array(m),T=0;try{for(var R=fy(v),M=R.next();!M.done;M=R.next()){var _=M.value,P=_.getCodewords(),B=_.getNumDataCodewords();this.correctErrors(P,B);for(var Y=0;Y<B;Y++)S[T++]=P[Y]}}catch(se){o={error:se}}finally{try{M&&!M.done&&(l=R.return)&&l.call(R)}finally{if(o)throw o.error}}return CN.decode(S,u,d,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Bn}for(var i=0;i<n;i++)e[i]=r[i]},t})(),ON=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TN=(function(t){ON(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var o=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+i)/2;return new e(o,l,u)},e})(Ue),DN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IN=(function(){function t(e,n,r,i,o,l,u){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,o=this.startY+n/2,l=new Int32Array(3),u=this.image,d=0;d<n;d++){var h=o+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var v=e;v<i&&!u.get(v,h);)v++;for(var m=0;v<i;){if(u.get(v,h))if(m===1)l[1]++;else if(m===2){if(this.foundPatternCross(l)){var w=this.handlePossibleCenter(l,h,v);if(w!==null)return w}l[0]=l[2],l[1]=1,l[2]=0,m=1}else l[++m]++;else m===1&&m++,l[m]++;v++}if(this.foundPatternCross(l)){var w=this.handlePossibleCenter(l,h,i);if(w!==null)return w}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new de},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var d=e;d>=0&&o.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&!o.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(n,d)&&u[1]<=r;)u[1]++,d++;if(d===l||u[1]>r)return NaN;for(;d<l&&!o.get(n,d)&&u[2]<=r;)u[2]++,d++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,o,l=e[0]+e[1]+e[2],u=t.centerFromEnd(e,r),d=this.crossCheckVertical(n,u,2*e[1],l);if(!isNaN(d)){var h=(e[0]+e[1]+e[2])/3;try{for(var v=DN(this.possibleCenters),m=v.next();!m.done;m=v.next()){var w=m.value;if(w.aboutEquals(h,d,u))return w.combineEstimate(d,u,h)}}catch(_){i={error:_}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}var E=new TN(u,d,h);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null},t})(),RN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),MN=(function(t){RN(e,t);function e(n,r,i,o){var l=t.call(this,n,r)||this;return l.estimatedModuleSize=i,l.count=o,o===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+n)/o,d=(this.count*this.estimatedModuleSize+i)/o;return new e(l,u,d,o)},e})(Ue),jN=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Oc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BN=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(rn.TRY_HARDER)!==void 0,r=e!=null&&e.get(rn.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),l=i.getWidth(),u=Math.floor(3*o/(4*t.MAX_MODULES));(u<t.MIN_SKIP||n)&&(u=t.MIN_SKIP);for(var d=!1,h=new Int32Array(5),v=u-1;v<o&&!d;v+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var m=0,w=0;w<l;w++)if(i.get(w,v))(m&1)===1&&m++,h[m]++;else if((m&1)===0)if(m===4)if(t.foundPatternCross(h)){var E=this.handlePossibleCenter(h,v,w,r);if(E===!0)if(u=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>h[2]&&(v+=_-h[2]-u,w=l-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;continue}m=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;else h[++m]++;else h[m]++;if(t.foundPatternCross(h)){var E=this.handlePossibleCenter(h,v,l,r);E===!0&&(u=h[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}}var S=this.selectBestPatterns();return Ue.orderBestPatterns(S),new jN(S)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var o=n/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),l=0,u=this.image;e>=l&&n>=l&&u.get(n-l,e-l);)o[2]++,l++;if(e<l||n<l)return!1;for(;e>=l&&n>=l&&!u.get(n-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||n<l||o[1]>r)return!1;for(;e>=l&&n>=l&&u.get(n-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;var d=u.getHeight(),h=u.getWidth();for(l=1;e+l<d&&n+l<h&&u.get(n+l,e+l);)o[2]++,l++;if(e+l>=d||n+l>=h)return!1;for(;e+l<d&&n+l<h&&!u.get(n+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=d||n+l>=h||o[3]>=r)return!1;for(;e+l<d&&n+l<h&&u.get(n+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;var v=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(v-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(n,d);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(n,d);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(n,d)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(n,d)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount(),d=e;d>=0&&o.get(d,n);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,n)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(d,n)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(d,n);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(d,n)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(d,n)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:t.foundPatternCross(u)?t.centerFromEnd(u,d):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],l=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){for(var d=o/7,h=!1,v=this.possibleCenters,m=0,w=v.length;m<w;m++){var E=v[m];if(E.aboutEquals(d,u,l)){v[m]=E.combineEstimate(u,l,d),h=!0;break}}if(!h){var _=new MN(l,u,d);v.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var o=Oc(this.possibleCenters),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.getCount()>=t.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,o=0,l=0,u=this.possibleCenters.length;try{for(var d=Oc(this.possibleCenters),h=d.next();!h.done;h=d.next()){var v=h.value;v.getCount()>=t.CENTER_QUORUM&&(o++,l+=v.getEstimatedModuleSize())}}catch(S){e={error:S}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}if(o<3)return!1;var m=l/u,w=0;try{for(var E=Oc(this.possibleCenters),_=E.next();!_.done;_=E.next()){var v=_.value;w+=Math.abs(v.getEstimatedModuleSize()-m)}}catch(S){r={error:S}}finally{try{_&&!_.done&&(i=E.return)&&i.call(E)}finally{if(r)throw r.error}}return w<=.05*l},t.prototype.selectBestPatterns=function(){var e,n,r,i,o=this.possibleCenters.length;if(o<3)throw new de;var l=this.possibleCenters,u;if(o>3){var d=0,h=0;try{for(var v=Oc(this.possibleCenters),m=v.next();!m.done;m=v.next()){var w=m.value,E=w.getEstimatedModuleSize();d+=E,h+=E*E}}catch(Y){e={error:Y}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}u=d/o;var _=Math.sqrt(h/o-u*u);l.sort(function(Y,se){var ee=Math.abs(se.getEstimatedModuleSize()-u),be=Math.abs(Y.getEstimatedModuleSize()-u);return ee<be?-1:ee>be?1:0});for(var S=Math.max(.2*u,_),T=0;T<l.length&&l.length>3;T++){var R=l[T];Math.abs(R.getEstimatedModuleSize()-u)>S&&(l.splice(T,1),T--)}}if(l.length>3){var d=0;try{for(var M=Oc(l),P=M.next();!P.done;P=M.next()){var B=P.value;d+=B.getEstimatedModuleSize()}}catch(se){r={error:se}}finally{try{P&&!P.done&&(i=M.return)&&i.call(M)}finally{if(r)throw r.error}}u=d/l.length,l.sort(function(se,ee){if(ee.getCount()===se.getCount()){var be=Math.abs(ee.getEstimatedModuleSize()-u),Te=Math.abs(se.getEstimatedModuleSize()-u);return be<Te?1:be>Te?-1:0}else return ee.getCount()-se.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),LN=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(rn.NEED_RESULT_POINT_CALLBACK);var n=new BN(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new de("No pattern found in proccess finder.");var l=t.computeDimension(n,r,i,o),u=ss.getProvisionalVersionForDimension(l),d=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var v=r.getX()-n.getX()+i.getX(),m=r.getY()-n.getY()+i.getY(),w=1-3/d,E=Math.floor(n.getX()+w*(v-n.getX())),_=Math.floor(n.getY()+w*(m-n.getY())),S=4;S<=16;S<<=1)try{h=this.findAlignmentInRegion(o,E,_,S);break}catch(P){if(!(P instanceof de))throw P}var T=t.createTransform(n,r,i,h,l),R=t.sampleGrid(this.image,T,l),M;return h===null?M=[i,n,r]:M=[i,n,r,h],new D1(R,M)},t.createTransform=function(e,n,r,i,o){var l=o-3.5,u,d,h,v;return i!==null?(u=i.getX(),d=i.getY(),h=l-3,v=h):(u=n.getX()-e.getX()+r.getX(),d=n.getY()-e.getY()+r.getY(),h=l,v=l),u2.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,h,v,3.5,l,e.getX(),e.getY(),n.getX(),n.getY(),u,d,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=I1.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var o=_t.round(Ue.distance(e,n)/i),l=_t.round(Ue.distance(e,r)/i),u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new de("Dimensions could be not found.")}return u},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var o=this.sizeOfBlackWhiteBlackRun(e,n,r,i),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var d=Math.floor(n-(i-n)*l);return l=1,d<0?(l=n/(n-d),d=0):d>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,d),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var o=Math.abs(i-n)>Math.abs(r-e);if(o){var l=e;e=n,n=l,l=r,r=i,i=l}for(var u=Math.abs(r-e),d=Math.abs(i-n),h=-u/2,v=e<r?1:-1,m=n<i?1:-1,w=0,E=r+v,_=e,S=n;_!==E;_+=v){var T=o?S:_,R=o?_:S;if(w===1===this.image.get(T,R)){if(w===2)return _t.distance(_,S,e,n);w++}if(h+=d,h>0){if(S===i)break;S+=m,h-=u}}return w===2?_t.distance(r+v,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var o=Math.floor(i*e),l=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-l<e*3)throw new de("Alignment top exceeds estimated module size.");var d=Math.max(0,r-o),h=Math.min(this.image.getHeight()-1,r+o);if(h-d<e*3)throw new de("Alignment bottom exceeds estimated module size.");var v=new IN(this.image,l,d,u-l,h-d,e,this.resultPointCallback);return v.find()},t})(),Wh=(function(){function t(){this.decoder=new NN}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(rn.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var l=new LN(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(l.getBits(),n),i=l.getPoints()}r.getOther()instanceof v2&&r.getOther().applyMirroredCorrection(i);var u=new ir(r.getText(),r.getRawBytes(),void 0,i,$e.QR_CODE,void 0),d=r.getByteSegments();d!==null&&u.putMetadata(Wn.BYTE_SEGMENTS,d);var h=r.getECLevel();return h!==null&&u.putMetadata(Wn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Wn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Wn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new de;var i=this.moduleSize(n,e),o=n[1],l=r[1],u=n[0],d=r[0];if(u>=d||o>=l)throw new de;if(l-o!==d-u&&(d=u+(l-o),d>=e.getWidth()))throw new de;var h=Math.round((d-u+1)/i),v=Math.round((l-o+1)/i);if(h<=0||v<=0)throw new de;if(v!==h)throw new de;var m=Math.floor(i/2);o+=m,u+=m;var w=u+Math.floor((h-1)*i)-d;if(w>0){if(w>m)throw new de;u-=w}var E=o+Math.floor((v-1)*i)-l;if(E>0){if(E>m)throw new de;o-=E}for(var _=new Ra(h,v),S=0;S<v;S++)for(var T=o+Math.floor(S*i),R=0;R<h;R++)e.get(u+Math.floor(R*i),T)&&_.set(R,S);return _},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),o=e[0],l=e[1],u=!0,d=0;o<i&&l<r;){if(u!==n.get(o,l)){if(++d===5)break;u=!u}o++,l++}if(o===i||l===r)throw new de;return(o-e[0])/7},t.NO_POINTS=new Array,t})(),kN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return _t.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var l=kN(e),u=l.next();!u.done;u=l.next()){var d=u.value;i[o++]=d}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=Cn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),PN=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),FN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UN=(function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(r,i)),new PN(i,o)},t.detect=function(e,n){for(var r,i,o=new Array,l=0,u=0,d=!1;l<n.getHeight();){var h=t.findVertices(n,l,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;try{for(var v=(r=void 0,FN(o)),m=v.next();!m.done;m=v.next()){var w=m.value;w[1]!=null&&(l=Math.trunc(Math.max(l,w[1].getY()))),w[3]!=null&&(l=Math.max(l,Math.trunc(w[3].getY())))}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}l+=t.ROW_STEP;continue}if(d=!0,o.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o},t.findVertices=function(e,n,r){var i=e.getHeight(),o=e.getWidth(),l=new Array(8);return t.copyToResult(l,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),t.copyToResult(l,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),l},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,o,l){for(var u=new Array(4),d=!1,h=new Int32Array(l.length);i<n;i+=t.ROW_STEP){var v=t.findGuardPattern(e,o,i,r,!1,l,h);if(v!=null){for(;i>0;){var m=t.findGuardPattern(e,o,--i,r,!1,l,h);if(m!=null)v=m;else{i++;break}}u[0]=new Ue(v[0],i),u[1]=new Ue(v[1],i),d=!0;break}}var w=i+1;if(d){for(var E=0,m=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);w<n;w++){var v=t.findGuardPattern(e,m[0],w,r,!1,l,h);if(v!=null&&Math.abs(m[0]-v[0])<t.MAX_PATTERN_DRIFT&&Math.abs(m[1]-v[1])<t.MAX_PATTERN_DRIFT)m=v,E=0;else{if(E>t.SKIPPED_ROW_COUNT_MAX)break;E++}}w-=E+1,u[2]=new Ue(m[0],w),u[3]=new Ue(m[1],w)}return w-i<t.BARCODE_MIN_HEIGHT&&Cn.fill(u,null),u},t.findGuardPattern=function(e,n,r,i,o,l,u){Cn.fillWithin(u,0,u.length,0);for(var d=n,h=0;e.get(d,r)&&d>0&&h++<t.MAX_PIXEL_DRIFT;)d--;for(var v=d,m=0,w=l.length,E=o;v<i;v++){var _=e.get(v,r);if(_!==E)u[m]++;else{if(m===w-1){if(t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([d,v]);d+=u[0]+u[1],Gt.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,E=!E}}return m===w-1&&t.patternMatchVariance(u,l,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([d,v-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,l=0,u=0;u<i;u++)o+=e[u],l+=n[u];if(o<l)return 1/0;var d=o/l;r*=d;for(var h=0,v=0;v<i;v++){var m=e[v],w=n[v]*d,E=m>w?m-w:w-m;if(E>r)return 1/0;h+=E}return h/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),zN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},is=(function(){function t(e,n){if(n.length===0)throw new Ye;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Gt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=zN(this.coefficients),l=o.next();!l.done;l=o.next()){var u=l.value;i=this.field.add(i,u)}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}for(var d=this.coefficients[0],h=this.coefficients.length,v=1;v<h;v++)d=this.field.add(this.field.multiply(e,d),this.coefficients[v]);return d},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ye("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),l=r.length-n.length;Gt.arraycopy(r,0,o,0,l);for(var u=l;u<r.length;u++)o[u]=this.field.add(n[u-l],r[u]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ye("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ye("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,l=new Int32Array(r+o-1),u=0;u<r;u++)for(var d=n[u],h=0;h<o;h++)l[u+h]=this.field.add(l[u+h],this.field.multiply(d,i[h]));return new t(this.field,l)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ye;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new st,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),HN=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ye;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new c2;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),VN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qN=(function(t){VN(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var o=1,l=0;l<n;l++)i.expTable[l]=o,o=o*r%n;for(var l=0;l<n-1;l++)i.logTable[i.expTable[l]]=l;return i.zero=new is(i,new Int32Array([0])),i.one=new is(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Ye;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new is(this,i)},e.PDF417_GF=new e(xt.NUMBER_OF_CODEWORDS,3),e})(HN),GN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XN=(function(){function t(){this.field=qN.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,o,l=new is(this.field,e),u=new Int32Array(n),d=!1,h=n;h>0;h--){var v=l.evaluateAt(this.field.exp(h));u[n-h]=v,v!==0&&(d=!0)}if(!d)return 0;var m=this.field.getOne();if(r!=null)try{for(var w=GN(r),E=w.next();!E.done;E=w.next()){var _=E.value,S=this.field.exp(e.length-1-_),T=new is(this.field,new Int32Array([this.field.subtract(0,S),1]));m=m.multiply(T)}}catch(be){i={error:be}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}for(var R=new is(this.field,u),M=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),R,n),P=M[0],B=M[1],Y=this.findErrorLocations(P),se=this.findErrorMagnitudes(B,P,Y),h=0;h<Y.length;h++){var ee=e.length-1-this.field.log(Y[h]);if(ee<0)throw Bn.getChecksumInstance();e[ee]=this.field.subtract(e[ee],se[h])}return Y.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=e,l=n,u=this.field.getZero(),d=this.field.getOne();l.getDegree()>=Math.round(r/2);){var h=o,v=u;if(o=l,u=d,o.isZero())throw Bn.getChecksumInstance();l=h;for(var m=this.field.getZero(),w=o.getCoefficient(o.getDegree()),E=this.field.inverse(w);l.getDegree()>=o.getDegree()&&!l.isZero();){var _=l.getDegree()-o.getDegree(),S=this.field.multiply(l.getCoefficient(l.getDegree()),E);m=m.add(this.field.buildMonomial(_,S)),l=l.subtract(o.multiplyByMonomial(_,S))}d=m.multiply(u).subtract(v).negative()}var T=d.getCoefficient(0);if(T===0)throw Bn.getChecksumInstance();var R=this.field.inverse(T),M=d.multiply(R),P=l.multiply(R);return[M,P]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,o=1;o<this.field.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==n)throw Bn.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),o=new Int32Array(i),l=1;l<=i;l++)o[i-l]=this.field.multiply(l,n.getCoefficient(l));for(var u=new is(this.field,o),d=r.length,h=new Int32Array(d),l=0;l<d;l++){var v=this.field.inverse(r[l]),m=this.field.subtract(0,e.evaluateAt(v)),w=this.field.inverse(u.evaluateAt(v));h[l]=this.field.multiply(m,w)}return h},t})(),Zh=(function(){function t(e,n,r,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return t.prototype.constructor_1=function(e,n,r,i,o){var l=n==null||r==null,u=i==null||o==null;if(l&&u)throw new de;l?(n=new Ue(0,i.getY()),r=new Ue(0,o.getY())):u&&(i=new Ue(e.getWidth()-1,n.getY()),o=new Ue(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){var d=r?this.topLeft:this.topRight,h=Math.trunc(d.getY()-e);h<0&&(h=0);var v=new Ue(d.getX(),h);r?i=v:l=v}if(n>0){var m=r?this.bottomLeft:this.bottomRight,w=Math.trunc(m.getY()+n);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);var E=new Ue(m.getX(),w);r?o=E:u=E}return new t(this.image,i,o,l,u)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),KN=(function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),M1=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(l,u,d,h,v,m){if(l==="%%")return"%";if(n[++r]!==void 0){l=h?parseInt(h.substr(1)):void 0;var w=v?parseInt(v.substr(1)):void 0,E;switch(m){case"s":E=n[r];break;case"c":E=n[r][0];break;case"f":E=parseFloat(n[r]).toFixed(l);break;case"p":E=parseFloat(n[r]).toPrecision(l);break;case"e":E=parseFloat(n[r]).toExponential(l);break;case"x":E=parseInt(n[r]).toString(w||16);break;case"d":E=parseFloat(parseInt(n[r],w||10).toPrecision(l)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(w);for(var _=parseInt(d),S=d&&d[0]+""=="0"?"0":" ";E.length<_;)E=u!==void 0?E+S:S+E;return E}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),$N=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m2=(function(){function t(e){this.boundingBox=new Zh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new M1,i=0;try{for(var o=$N(this.codewords),l=o.next();!l.done;l=o.next()){var u=l.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),YN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o},Mc=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,o=function(m,w){var E={getKey:function(){return m},getValue:function(){return w}};E.getValue()>r?(r=E.getValue(),i=[],i.push(E.getKey())):E.getValue()===r&&i.push(E.getKey())};try{for(var l=YN(this.values.entries()),u=l.next();!u.done;u=l.next()){var d=WN(u.value,2),h=d[0],v=d[1];o(h,v)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return xt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),ZN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dy=(function(t){ZN(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=yh(this.getCodewords()),o=i.next();!o.done;o=i.next()){var l=o.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,v=1,m=0,w=u;w<d;w++)if(r[w]!=null){var E=r[w],_=E.getRowNumber()-h;if(_===0)m++;else if(_===1)v=Math.max(v,m),m=1,h=E.getRowNumber();else if(_<0||E.getRowNumber()>=n.getRowCount()||_>w)r[w]=null;else{var S=void 0;v>2?S=(v-2)*_:S=_;for(var T=S>=w,R=1;R<=S&&!T;R++)T=r[w-R]!=null;T?r[w]=null:(h=E.getRowNumber(),m=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var l=yh(this.getCodewords()),u=l.next();!u.done;u=l.next()){var d=u.value;if(d!=null){var h=d.getRowNumber();if(h>=o.length)continue;o[h]++}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1,v=l;v<u;v++)if(d[v]!=null){var m=d[v];m.setRowNumberAsRowIndicatorColumn();var w=m.getRowNumber()-h;w===0||(w===1?h=m.getRowNumber():m.getRowNumber()>=n.getRowCount()?d[v]=null:h=m.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),o=new Mc,l=new Mc,u=new Mc,d=new Mc;try{for(var h=yh(i),v=h.next();!v.done;v=h.next()){var m=v.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var w=m.getValue()%30,E=m.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:l.setValue(w*3+1);break;case 1:d.setValue(w/3),u.setValue(w%3);break;case 2:o.setValue(w+1);break}}}}catch(S){n={error:S}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<xt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>xt.MAX_ROWS_IN_BARCODE)return null;var _=new KN(o.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var o=n[i];if(n[i]!=null){var l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:l+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(m2),QN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JN=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=xt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),o=0,l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){var u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=t.adjustRowNumberIfValid(i,o,u),u.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),o=0,l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){var u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=t.adjustRowNumberIfValid(i,o,u),u.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,o;if(this.detectionResultColumns[e-1]!=null){var l=r[n],u=this.detectionResultColumns[e-1].getCodewords(),d=u;this.detectionResultColumns[e+1]!=null&&(d=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[n],h[3]=d[n],n>0&&(h[0]=r[n-1],h[4]=u[n-1],h[5]=d[n-1]),n>1&&(h[8]=r[n-2],h[10]=u[n-2],h[11]=d[n-2]),n<r.length-1&&(h[1]=r[n+1],h[6]=u[n+1],h[7]=d[n+1]),n<r.length-2&&(h[9]=r[n+2],h[12]=u[n+2],h[13]=d[n+2]);try{for(var v=QN(h),m=v.next();!m.done;m=v.next()){var w=m.value;if(t.adjustRowNumber(l,w))return}}catch(E){i={error:E}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new M1,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()},t})(),e6=(function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),t6=(function(){function t(){}return t.initialize=function(){for(var e=0;e<xt.SYMBOL_TABLE.length;e++)for(var n=xt.SYMBOL_TABLE[e],r=n&1,i=0;i<xt.BARS_IN_MODULE;i++){for(var o=0;(n&1)===r;)o+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(xt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][xt.BARS_IN_MODULE-i-1]=Math.fround(o/xt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=_t.sum(e),r=new Int32Array(xt.BARS_IN_MODULE),i=0,o=0,l=0;l<xt.MODULES_IN_CODEWORD;l++){var u=n/(2*xt.MODULES_IN_CODEWORD)+l*n/xt.MODULES_IN_CODEWORD;o+e[i]<=u&&(o+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return xt.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=_t.sum(e),r=new Array(xt.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=Gh.MAX_VALUE,l=-1;this.bSymbolTableReady||t.initialize();for(var u=0;u<t.RATIOS_TABLE.length;u++){for(var d=0,h=t.RATIOS_TABLE[u],v=0;v<xt.BARS_IN_MODULE;v++){var m=Math.fround(h[v]-r[v]);if(d+=Math.fround(m*m),d>=o)break}d<o&&(o=d,l=xt.SYMBOL_TABLE[u])}return l},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(xt.SYMBOL_TABLE.length).map(function(e){return new Array(xt.BARS_IN_MODULE)}),t})(),n6=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),hy=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),r6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),a6=(function(t){r6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Sr),i6=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new a6;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new O1;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),o6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),s6=(function(t){o6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Sr),l6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),c6=(function(t){l6(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new Ye("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new s6;i=lt.MAX_VALUE}this.buf=Cn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new O1;this.ensureCapacity(this.count+i),Gt.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Cn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(i6),Ut;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ut||(Ut={}));function y2(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var pf;function lo(t){if(typeof pf>"u"&&(pf=y2()),pf===null)throw new Error("BigInt is not supported!");return pf(t)}function u6(){var t=[];t[0]=lo(1);var e=lo(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var f6=(function(){function t(){}return t.decode=function(e,n){var r=new st(""),i=Sn.ISO8859_1;r.enableDecoding(i);for(var o=1,l=e[o++],u=new n6;o<e[0];){switch(l){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(l,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:Sn.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,u);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Ie;default:o--,o=t.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw Ie.getFormatInstance()}if(r.length()===0)throw Ie.getFormatInstance();var d=new Yf(null,r.toString(),null,n);return d.setOther(u),d},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ie.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(lt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new st;n=t.textCompaction(e,n,l),r.setFileId(l.toString());var u=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var d=new st;n=t.textCompaction(e,n+1,d),r.setFileName(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new st;n=t.textCompaction(e,n+1,h),r.setSender(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var v=new st;n=t.textCompaction(e,n+1,v),r.setAddressee(v.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new st;n=t.numericCompaction(e,n+1,m),r.setSegmentCount(lt.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var w=new st;n=t.numericCompaction(e,n+1,w),r.setTimestamp(hy.parseLong(w.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var E=new st;n=t.numericCompaction(e,n+1,E),r.setChecksum(lt.parseInt(E.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new st;n=t.numericCompaction(e,n+1,_),r.setFileSize(hy.parseLong(_.toString()));break;default:throw Ie.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw Ie.getFormatInstance()}if(u!==-1){var S=n-u;r.isLastSegment()&&S--,r.setOptionalData(Cn.copyOfRange(e,u,u+S))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),l=0,u=!1;n<e[0]&&!u;){var d=e[n++];if(d<t.TEXT_COMPACTION_MODE_LATCH)i[l]=d/30,i[l+1]=d%30,l+=2;else switch(d){case t.TEXT_COMPACTION_MODE_LATCH:i[l++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[l]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[n++],o[l]=d,l++;break}}return t.decodeTextCompaction(i,o,l,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var o=Ut.ALPHA,l=Ut.ALPHA,u=0;u<r;){var d=e[u],h="";switch(o){case Ut.ALPHA:if(d<26)h=String.fromCharCode(65+d);else switch(d){case 26:h=" ";break;case t.LL:o=Ut.LOWER;break;case t.ML:o=Ut.MIXED;break;case t.PS:l=o,o=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break;case Ut.LOWER:if(d<26)h=String.fromCharCode(97+d);else switch(d){case 26:h=" ";break;case t.AS:l=o,o=Ut.ALPHA_SHIFT;break;case t.ML:o=Ut.MIXED;break;case t.PS:l=o,o=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break;case Ut.MIXED:if(d<t.PL)h=t.MIXED_CHARS[d];else switch(d){case t.PL:o=Ut.PUNCT;break;case 26:h=" ";break;case t.LL:o=Ut.LOWER;break;case t.AL:o=Ut.ALPHA;break;case t.PS:l=o,o=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break;case Ut.PUNCT:if(d<t.PAL)h=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=Ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break;case Ut.ALPHA_SHIFT:if(o=l,d<26)h=String.fromCharCode(65+d);else switch(d){case 26:h=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break;case Ut.PUNCT_SHIFT:if(o=l,d<t.PAL)h=t.PUNCT_CHARS[d];else switch(d){case t.PAL:o=Ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ut.ALPHA;break}break}h!==""&&i.append(h),u++}},t.byteCompaction=function(e,n,r,i,o){var l=new c6,u=0,d=0,h=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var v=new Int32Array(6),m=n[i++];i<n[0]&&!h;)switch(v[u++]=m,d=900*d+m,m=n[i++],m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var w=0;w<6;++w)l.write(Number(lo(d)>>lo(8*(5-w))));d=0,u=0}break}i===n[0]&&m<t.TEXT_COMPACTION_MODE_LATCH&&(v[u++]=m);for(var E=0;E<u;E++)l.write(v[E]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!h;){var _=n[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)u++,d=900*d+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var w=0;w<6;++w)l.write(Number(lo(d)>>lo(8*(5-w))));d=0,u=0}}break}return o.append(Yr.decode(l.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,o=!1,l=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var u=e[n++];if(n===e[0]&&(o=!0),u<t.TEXT_COMPACTION_MODE_LATCH)l[i]=u,i++;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||u===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(l,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=lo(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*lo(e[i]);var o=r.toString();if(o.charAt(0)!=="1")throw new Ie;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=y2()?u6():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Tc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d6=(function(){function t(){}return t.decode=function(e,n,r,i,o,l,u){for(var d=new Zh(e,n,r,i,o),h=null,v=null,m,w=!0;;w=!1){if(n!=null&&(h=t.getRowIndicatorColumn(e,d,n,!0,l,u)),i!=null&&(v=t.getRowIndicatorColumn(e,d,i,!1,l,u)),m=t.merge(h,v),m==null)throw de.getNotFoundInstance();var E=m.getBoundingBox();if(w&&E!=null&&(E.getMinY()<d.getMinY()||E.getMaxY()>d.getMaxY()))d=E;else break}m.setBoundingBox(d);var _=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,h),m.setDetectionResultColumn(_,v);for(var S=h!=null,T=1;T<=_;T++){var R=S?T:_-T;if(m.getDetectionResultColumn(R)===void 0){var M=void 0;R===0||R===_?M=new dy(d,R===0):M=new m2(d),m.setDetectionResultColumn(R,M);for(var P=-1,B=P,Y=d.getMinY();Y<=d.getMaxY();Y++){if(P=t.getStartColumn(m,R,Y,S),P<0||P>d.getMaxX()){if(B===-1)continue;P=B}var se=t.detectCodeword(e,d.getMinX(),d.getMaxX(),S,P,Y,l,u);se!=null&&(M.setCodeword(Y,se),B=P,l=Math.min(l,se.getWidth()),u=Math.max(u,se.getWidth()))}}}return t.createDecoderResult(m)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=Zh.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new JN(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),l=0;try{for(var u=Tc(i),d=u.next();!d.done;d=u.next()){var h=d.value;if(l+=o-h,h>0)break}}catch(E){n={error:E}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}for(var v=e.getCodewords(),m=0;l>0&&v[m]==null;m++)l--;for(var w=0,m=i.length-1;m>=0&&(w+=o-i[m],!(i[m]>0));m--);for(var m=v.length-1;w>0&&v[m]==null;m--)w--;return e.getBoundingBox().addMissingRows(l,w,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var o=Tc(e),l=o.next();!l.done;l=o.next()){var u=l.value;i=Math.max(i,u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,o,l){for(var u=new dy(n,i),d=0;d<2;d++)for(var h=d===0?1:-1,v=Math.trunc(Math.trunc(r.getX())),m=Math.trunc(Math.trunc(r.getY()));m<=n.getMaxY()&&m>=n.getMinY();m+=h){var w=t.detectCodeword(e,0,e.getWidth(),i,v,m,o,l);w!=null&&(u.setCodeword(m,w),i?v=w.getStartX():v=w.getEndX())}return u},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>xt.MAX_CODEWORDS_IN_BARCODE)throw de.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var d=0;d<e.getBarcodeColumnCount();d++){var h=n[u][d+1].getValue(),v=u*e.getBarcodeColumnCount()+d;h.length===0?r.push(v):h.length===1?i[v]=h[0]:(l.push(v),o.push(h))}for(var m=new Array(o.length),w=0;w<m.length;w++)m[w]=o[w];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,xt.toIntArray(r),xt.toIntArray(l),m)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,o){for(var l=new Int32Array(i.length),u=100;u-- >0;){for(var d=0;d<l.length;d++)n[i[d]]=o[d][l[d]];try{return t.decodeCodewords(n,e,r)}catch(v){var h=v instanceof Bn;if(!h)throw v}if(l.length===0)throw Bn.getChecksumInstance();for(var d=0;d<l.length;d++)if(l[d]<o[d].length-1){l[d]++;break}else if(l[d]=0,d===l.length-1)throw Bn.getChecksumInstance()}throw Bn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,o,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<l.length;u++)for(var d=0;d<l[u].length;d++)l[u][d]=new Mc;var h=0;try{for(var v=Tc(e.getDetectionResultColumns()),m=v.next();!m.done;m=v.next()){var w=m.value;if(w!=null)try{for(var E=(i=void 0,Tc(w.getCodewords())),_=E.next();!_.done;_=E.next()){var S=_.value;if(S!=null){var T=S.getRowNumber();if(T>=0){if(T>=l.length)continue;l[T][h].setValue(S.getValue())}}}}catch(R){i={error:R}}finally{try{_&&!_.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}h++}}catch(R){n={error:R}}finally{try{m&&!m.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}return l},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var o,l,u=i?1:-1,d=null;if(t.isValidBarcodeColumn(e,n-u)&&(d=e.getDetectionResultColumn(n-u).getCodeword(r)),d!=null)return i?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(n).getCodewordNearby(r),d!=null)return i?d.getStartX():d.getEndX();if(t.isValidBarcodeColumn(e,n-u)&&(d=e.getDetectionResultColumn(n-u).getCodewordNearby(r)),d!=null)return i?d.getEndX():d.getStartX();for(var h=0;t.isValidBarcodeColumn(e,n-u);){n-=u;try{for(var v=(o=void 0,Tc(e.getDetectionResultColumn(n).getCodewords())),m=v.next();!m.done;m=v.next()){var w=m.value;if(w!=null)return(i?w.getEndX():w.getStartX())+u*h*(w.getEndX()-w.getStartX())}}catch(E){o={error:E}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,o,l,u,d){o=t.adjustCodewordStartColumn(e,n,r,i,o,l);var h=t.getModuleBitCount(e,n,r,i,o,l);if(h==null)return null;var v,m=_t.sum(h);if(i)v=o+m;else{for(var w=0;w<h.length/2;w++){var E=h[w];h[w]=h[h.length-1-w],h[h.length-1-w]=E}v=o,o=v-m}if(!t.checkCodewordSkew(m,u,d))return null;var _=t6.getDecodedValue(h),S=xt.getCodeword(_);return S===-1?null:new e6(o,v,t.getCodewordBucketNumber(_),S)},t.getModuleBitCount=function(e,n,r,i,o,l){for(var u=o,d=new Int32Array(8),h=0,v=i?1:-1,m=i;(i?u<r:u>=n)&&h<d.length;)e.get(u,l)===m?(d[h]++,u+=v):(h++,m=!m);return h===d.length||u===(i?r:n)&&h===d.length-1?d:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,o,l){for(var u=o,d=i?-1:1,h=0;h<2;h++){for(;(i?u>=n:u<r)&&i===e.get(u,l);){if(Math.abs(o-u)>t.CODEWORD_SKEW_SIZE)return o;u+=d}d=-d,i=!i}return u},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw Ie.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var l=f6.decode(e,""+n);return l.setErrorsCorrected(o),l.setErasures(r.length),l},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw Bn.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw Ie.getFormatInstance();var r=e[0];if(r>e.length)throw Ie.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw Ie.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new M1,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var o=e[r][i];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new XN,t})(),h6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qh=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw de.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof Ie||r instanceof Bn?de.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,o,l=new Array,u=UN.detectMultiple(e,n,r);try{for(var d=h6(u.getPoints()),h=d.next();!h.done;h=d.next()){var v=h.value,m=d6.decode(u.getBits(),v[4],v[5],v[6],v[7],t.getMinCodewordWidth(v),t.getMaxCodewordWidth(v)),w=new ir(m.getText(),m.getRawBytes(),void 0,v,$e.PDF_417);w.putMetadata(Wn.ERROR_CORRECTION_LEVEL,m.getECLevel());var E=m.getOther();E!=null&&w.putMetadata(Wn.PDF417_EXTRA_METADATA,E),l.push(w)}}catch(_){i={error:_}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return l.map(function(_){return _})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?lt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*xt.MODULES_IN_CODEWORD/xt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),p6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),py=(function(t){p6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Sr),gy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g6=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(rn.TRY_HARDER)!==void 0,r=e==null?null:e.get(rn.POSSIBLE_FORMATS),i=new Array;if(r!=null){var o=r.some(function(l){return l===$e.UPC_A||l===$e.UPC_E||l===$e.EAN_13||l===$e.EAN_8||l===$e.CODABAR||l===$e.CODE_39||l===$e.CODE_93||l===$e.CODE_128||l===$e.ITF||l===$e.RSS_14||l===$e.RSS_EXPANDED});o&&!n&&i.push(new Rc(e)),r.includes($e.QR_CODE)&&i.push(new Wh),r.includes($e.DATA_MATRIX)&&i.push(new Yh),r.includes($e.AZTEC)&&i.push(new Kh),r.includes($e.PDF_417)&&i.push(new Qh),o&&n&&i.push(new Rc(e))}i.length===0&&(n||i.push(new Rc(e)),i.push(new Wh),i.push(new Yh),i.push(new Kh),i.push(new Qh),n&&i.push(new Rc(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=gy(this.readers),i=r.next();!i.done;i=r.next()){var o=i.value;o.reset()}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new py("No readers where selected, nothing can be read.");try{for(var i=gy(this.readers),o=i.next();!o.done;o=i.next()){var l=o.value;try{return l.decode(e,this.hints)}catch(u){if(u instanceof py)continue}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new de("No MultiFormat Readers were able to detect the code.")},t})(),v6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),m6=(function(t){v6(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,o=new g6;return o.setHints(n),i=t.call(this,o,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(bl),y6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){y6(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Qh,n)||this}return e})(bl);var x6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){x6(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Wh,n)||this}return e})(bl);var Jh;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Jh||(Jh={}));const gf=Jh;var x2=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new fo(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,o=n.length;o<=e;o++){var l=r.multiply(new fo(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));n.push(l),r=l}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new Ye("No error correction bytes");var r=e.length-n;if(r<=0)throw new Ye("No data bytes provided");var i=this.buildGenerator(n),o=new Int32Array(r);Gt.arraycopy(e,0,o,0,r);var l=new fo(this.field,o);l=l.multiplyByMonomial(n,1);for(var u=l.divide(i)[1],d=u.getCoefficients(),h=n-d.length,v=0;v<h;v++)e[r+v]=0;Gt.arraycopy(d,0,e,r+h,d.length)},t})(),jc=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),l=0;l<o-1;l++)for(var u=r[l],d=0;d<i-1;d++){var h=u[d];h===u[d+1]&&h===r[l+1][d]&&h===r[l+1][d+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var u=0;u<i;u++){var d=r[l];u+6<i&&d[u]===1&&d[u+1]===0&&d[u+2]===1&&d[u+3]===1&&d[u+4]===1&&d[u+5]===0&&d[u+6]===1&&(t.isWhiteHorizontal(d,u-4,u)||t.isWhiteHorizontal(d,u+7,u+11))&&n++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(t.isWhiteVertical(r,u,l-4,l)||t.isWhiteVertical(r,u,l+7,l+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var o=r;o<i;o++)if(e[o][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var u=r[l],d=0;d<i;d++)u[d]===1&&n++;var h=e.getHeight()*e.getWidth(),v=Math.floor(Math.abs(n*2-h)*10/h);return v*t.N4},t.getDataMaskBit=function(e,n,r){var i,o;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,i=(o&1)+o%3;break;case 6:o=r*n,i=(o&1)+o%3&1;break;case 7:o=r*n,i=o%3+(r+n&1)&1;break;default:throw new Ye("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),l=e.getArray(),u=0;u<i;u++){for(var d=0,h=-1,v=0;v<o;v++){var m=n?l[u][v]:l[v][u];m===h?d++:(d>=5&&(r+=t.N1+(d-5)),d=1,h=m)}d>=5&&(r+=t.N1+(d-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),b6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w6=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=b6(this.bytes),o=i.next();!o.done;o=i.next()){var l=o.value;Cn.fill(l,e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],l=n.bytes[r],u=0,d=this.width;u<d;++u)if(o[u]!==l[u])return!1;return!0},t.prototype.toString=function(){for(var e=new st,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],o=0,l=this.width;o<l;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),e1=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new st;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),E6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Wt=(function(t){E6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Sr),vy=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new Ln;t.makeTypeInfoBits(e,n,i);for(var o=0,l=i.getSize();o<l;++o){var u=i.get(i.getSize()-1-o),d=t.TYPE_INFO_COORDINATES[o],h=d[0],v=d[1];if(r.setBoolean(h,v,u),o<8){var m=r.getWidth()-o-1,w=8;r.setBoolean(m,w,u)}else{var m=8,w=r.getHeight()-7+(o-8);r.setBoolean(m,w,u)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new Ln;t.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var l=0;l<3;++l){var u=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+l,u),n.setBoolean(n.getHeight()-11+l,o,u)}}},t.embedDataBits=function(e,n,r){for(var i=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(var d=0;d<2;++d){var h=l-d;if(t.isEmpty(r.get(h,u))){var v=void 0;i<e.getSize()?(v=e.get(i),++i):v=!1,n!==255&&jc.getDataMaskBit(n,h,u)&&(v=!v),r.setBoolean(h,u,v)}}u+=o}o=-o,u+=o,l-=2}if(i!==e.getSize())throw new Wt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-lt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new Ye("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!e1.isValidMaskPattern(n))throw new Wt("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var l=new Ln;if(l.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new Wt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Wt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Wt;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Wt;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],l=0;l<5;++l)r.setNumber(e+l,n+i,o[l])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],l=0;l<7;++l)r.setNumber(e+l,n+i,o[l])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,l=i.length;o!==l;o++){var u=i[o];if(u>=0)for(var d=0;d!==l;d++){var h=i[d];h>=0&&t.isEmpty(n.get(h,u))&&t.embedPositionAdjustmentPattern(h-2,u-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),_6=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),my=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return jc.applyMaskPenaltyRule1(e)+jc.applyMaskPenaltyRule2(e)+jc.applyMaskPenaltyRule3(e)+jc.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=r!==null&&r.get(gf.CHARACTER_SET)!==void 0;o&&(i=r.get(gf.CHARACTER_SET).toString());var l=this.chooseMode(e,i),u=new Ln;if(l===Zt.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var d=Sn.getCharacterSetECIByName(i);d!==void 0&&this.appendECI(d,u)}this.appendModeInfo(l,u);var h=new Ln;this.appendBytes(e,l,h,i);var v;if(r!==null&&r.get(gf.QR_VERSION)!==void 0){var m=Number.parseInt(r.get(gf.QR_VERSION).toString(),10);v=ss.getVersionForNumber(m);var w=this.calculateBitsNeeded(l,u,h,v);if(!this.willFit(w,v,n))throw new Wt("Data too big for requested version")}else v=this.recommendVersion(n,l,u,h);var E=new Ln;E.appendBitArray(u);var _=l===Zt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(_,v,l,E),E.appendBitArray(h);var S=v.getECBlocksForLevel(n),T=v.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(T,E);var R=this.interleaveWithECBytes(E,v.getTotalCodewords(),T,S.getNumBlocks()),M=new e1;M.setECLevel(n),M.setMode(l),M.setVersion(v);var P=v.getDimensionForVersion(),B=new w6(P,P),Y=this.chooseMaskPattern(R,n,v,B);return M.setMaskPattern(Y),vy.buildMatrix(R,n,v,Y,B),M.setMatrix(B),M},t.recommendVersion=function(e,n,r,i){var o=this.calculateBitsNeeded(n,r,i,ss.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,i,l);return this.chooseVersion(u,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),Sn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Zt.KANJI;for(var r=!1,i=!1,o=0,l=e.length;o<l;++o){var u=e.charAt(o);if(t.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Zt.BYTE}return i?Zt.ALPHANUMERIC:r?Zt.NUMERIC:Zt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=Yr.encode(e,Sn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var o=n[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var o=Number.MAX_SAFE_INTEGER,l=-1,u=0;u<e1.NUM_MASK_PATTERNS;u++){vy.buildMatrix(e,n,r,u,i);var d=this.calculateMaskPenalty(i);d<o&&(o=d,l=u)}return l},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=ss.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Wt("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),o=n.getECBlocksForLevel(r),l=o.getTotalECCodewords(),u=i-l,d=(e+7)/8;return u>=d},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Wt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var o=n.getSize()&7;if(o>0)for(var i=o;i<8;i++)n.appendBit(!1);for(var l=e-n.getSizeInBytes(),i=0;i<l;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==r)throw new Wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,o,l){if(i>=r)throw new Wt("Block ID too large");var u=e%r,d=r-u,h=Math.floor(e/r),v=h+1,m=Math.floor(n/r),w=m+1,E=h-m,_=v-w;if(E!==_)throw new Wt("EC bytes mismatch");if(r!==d+u)throw new Wt("RS blocks mismatch");if(e!==(m+E)*d+(w+_)*u)throw new Wt("Total bytes mismatch");i<d?(o[0]=m,l[0]=E):(o[0]=w,l[0]=_)},t.interleaveWithECBytes=function(e,n,r,i){var o,l,u,d;if(e.getSizeInBytes()!==r)throw new Wt("Number of bits and data bytes does not match");for(var h=0,v=0,m=0,w=new Array,E=0;E<i;++E){var _=new Int32Array(1),S=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,E,_,S);var T=_[0],R=new Uint8Array(T);e.toBytes(8*h,R,0,T);var M=t.generateECBytes(R,S[0]);w.push(new _6(R,M)),v=Math.max(v,T),m=Math.max(m,M.length),h+=_[0]}if(r!==h)throw new Wt("Data bytes does not match offset");for(var P=new Ln,E=0;E<v;++E)try{for(var B=(o=void 0,my(w)),Y=B.next();!Y.done;Y=B.next()){var se=Y.value,R=se.getDataBytes();E<R.length&&P.appendBits(R[E],8)}}catch(Oe){o={error:Oe}}finally{try{Y&&!Y.done&&(l=B.return)&&l.call(B)}finally{if(o)throw o.error}}for(var E=0;E<m;++E)try{for(var ee=(u=void 0,my(w)),be=ee.next();!be.done;be=ee.next()){var se=be.value,M=se.getErrorCorrectionBytes();E<M.length&&P.appendBits(M[E],8)}}catch(Oe){u={error:Oe}}finally{try{be&&!be.done&&(d=ee.return)&&d.call(ee)}finally{if(u)throw u.error}}if(n!==P.getSizeInBytes())throw new Wt("Interleaving error: "+n+" and "+P.getSizeInBytes()+" differ.");return P},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),o=0;o<r;o++)i[o]=e[o]&255;new x2(Er.QR_CODE_FIELD_256).encode(i,n);for(var l=new Uint8Array(n),o=0;o<n;o++)l[o]=i[r+o];return l},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var o=r.getCharacterCountBits(n);if(e>=1<<o)throw new Wt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,n,r,i){switch(n){case Zt.NUMERIC:t.appendNumericBytes(e,r);break;case Zt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Zt.BYTE:t.append8BitBytes(e,r,i);break;case Zt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Wt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var l=t.getDigit(e.charAt(i+1)),u=t.getDigit(e.charAt(i+2));n.appendBits(o*100+l*10+u,10),i+=3}else if(i+1<r){var l=t.getDigit(e.charAt(i+1));n.appendBits(o*10+l,7),i+=2}else n.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Wt;if(i+1<r){var l=t.getAlphanumericCode(e.charCodeAt(i+1));if(l===-1)throw new Wt;n.appendBits(o*45+l,11),i+=2}else n.appendBits(o,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=Yr.encode(e,r)}catch(d){throw new Wt(d)}for(var o=0,l=i.length;o!==l;o++){var u=i[o];n.appendBits(u,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=Yr.encode(e,Sn.SJIS)}catch(m){throw new Wt(m)}for(var i=r.length,o=0;o<i;o+=2){var l=r[o]&255,u=r[o+1]&255,d=l<<8&4294967295|u,h=-1;if(d>=33088&&d<=40956?h=d-33088:d>=57408&&d<=60351&&(h=d-49472),h===-1)throw new Wt("Invalid byte sequence");var v=(h>>8)*192+(h&255);n.appendBits(v,13)}},t.appendECI=function(e,n){n.appendBits(Zt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Sn.UTF8.getName(),t})();var A6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){A6(e,t);function e(n,r,i,o,l,u,d,h){var v=t.call(this,u,d)||this;if(v.yuvData=n,v.dataWidth=r,v.dataHeight=i,v.left=o,v.top=l,o+u>r||l+d>i)throw new Ye("Crop rectangle does not fit within image data.");return h&&v.reverseHorizontal(u,d),v}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ye("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(n+this.top)*this.dataWidth+this.left;return Gt.arraycopy(this.yuvData,o,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,o=new Uint8ClampedArray(i),l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Gt.arraycopy(this.yuvData,l,o,0,i),o;for(var u=0;u<r;u++){var d=u*n;Gt.arraycopy(this.yuvData,l,o,d,n),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,o,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),o=this.yuvData,l=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var d=u*n,h=0;h<n;h++){var v=o[l+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[d+h]=4278190080|v*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth)for(var u=l+n/2,d=l,h=l+n-1;d<u;d++,h--){var v=i[d];i[d]=i[h],i[h]=v}},e.prototype.invert=function(){return new T1(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})($f);var S6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){S6(e,t);function e(n,r,i,o,l,u,d){var h=t.call(this,r,i)||this;if(h.dataWidth=o,h.dataHeight=l,h.left=u,h.top=d,n.BYTES_PER_ELEMENT===4){for(var v=r*i,m=new Uint8ClampedArray(v),w=0;w<v;w++){var E=n[w],_=E>>16&255,S=E>>7&510,T=E&255;m[w]=(_+S+T)/4&255}h.luminances=m}else h.luminances=n;if(o===void 0&&(h.dataWidth=r),l===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),d===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new Ye("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Ye("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(n+this.top)*this.dataWidth+this.left;return Gt.arraycopy(this.luminances,o,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,o=new Uint8ClampedArray(i),l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Gt.arraycopy(this.luminances,l,o,0,i),o;for(var u=0;u<r;u++){var d=u*n;Gt.arraycopy(this.luminances,l,o,d,n),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new T1(this)},e})($f);var C6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),N6=(function(t){C6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Sn),O6=(function(){function t(){}return t.ISO_8859_1=Sn.ISO8859_1,t})(),t1,T6=301,D6=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=T6);return{LOG:t,ALOG:e}};t1=D6([],[]),t1.LOG;t1.ALOG;var yy;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(yy||(yy={}));var xy=129,b2=230,I6=231,R6=235,M6=236,j6=237,B6=238,L6=239,k6=240,xh=254,P6=254,by="[)>05",wy="[)>06",Ey="",Bt=0,Xn=1,dr=2,_n=3,jn=4,nr=5,F6=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Bt},t.prototype.encode=function(e){var n=la.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=la.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case nr:e.writeCodeword(I6),e.signalEncoderChange(nr);return;case Xn:e.writeCodeword(b2),e.signalEncoderChange(Xn);return;case _n:e.writeCodeword(B6),e.signalEncoderChange(_n);break;case dr:e.writeCodeword(L6),e.signalEncoderChange(dr);break;case jn:e.writeCodeword(k6),e.signalEncoderChange(jn);break;default:throw new Error("Illegal mode: "+i)}else la.isExtendedASCII(r)?(e.writeCodeword(R6),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(la.isDigit(e)&&la.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),U6=(function(){function t(){}return t.prototype.getEncodingMode=function(){return nr},t.prototype.encode=function(e){var n=new st;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=la.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Bt);break}}var o=n.length()-1,l=1,u=e.getCodewordCount()+o+l;e.updateSymbolInfo(u);var d=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||d)if(o<=249)n.setCharAt(0,yt.getCharAt(o));else if(o<=1555)n.setCharAt(0,yt.getCharAt(Math.floor(o/250)+249)),n.insert(1,yt.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var h=0,r=n.length();h<r;h++)e.writeCodeword(this.randomize255State(n.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t})(),j1=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Xn},t.prototype.encodeMaximal=function(e){for(var n=new st,r=0,i=e.pos,o=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,r=this.encodeChar(l,n),n.length()%3===0&&(i=e.pos,o=n.length())}if(o!==n.length()){var u=Math.floor(n.length()/3*2),d=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(d);var h=e.getSymbolInfo().getDataCapacity()-d,v=Math.floor(n.length()%3);(v===2&&h!==2||v===1&&(r>3||h!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(b2),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new st;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),o=Math.floor(n.length()/3)*2,l=e.getCodewordCount()+o;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var d=new st;for(n.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,n,d,i));n.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,n,d,i);break}var h=n.length();if(h%3===0){var v=la.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(v!==this.getEncodingMode()){e.signalEncoderChange(Bt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var o=n.length(),l=n.toString().substring(0,o-i);n.setLengthToZero(),n.append(l),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,o=e.getCodewordCount()+r;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(xh)}else if(l===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(xh),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(l>0||e.hasMoreCharacters())&&e.writeCodeword(xh)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Bt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,o=new st;return o.append(r),o.append(i),o.toString()},t})(),z6=(function(){function t(){}return t.prototype.getEncodingMode=function(){return jn},t.prototype.encode=function(e){for(var n=new st;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var o=n.toString().substring(4);n.setLengthToZero(),n.append(o);var l=la.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(Bt);break}}}n.append(yt.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var l=r-1,u=this.encodeToCodewords(n.toString()),d=!e.hasMoreCharacters(),h=d&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(u)}finally{e.signalEncoderChange(Bt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(yt.getCharAt(e-64)):la.illegalCharacter(yt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,o=n>=3?e.charAt(2).charCodeAt(0):0,l=n>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(o<<6)+l,d=u>>16&255,h=u>>8&255,v=u&255,m=new st;return m.append(d),n>=2&&m.append(h),n>=3&&m.append(v),m.toString()},t})(),H6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),V6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt=(function(){function t(e,n,r,i,o,l,u,d){u===void 0&&(u=0),d===void 0&&(d=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=l,this.rsBlockData=u,this.rsBlockError=d}return t.lookup=function(e,n,r,i,o){var l,u;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var d=V6(G6),h=d.next();!h.done;h=d.next()){var v=h.value;if(!(n===1&&v.rectangular)&&!(n===2&&!v.rectangular)&&!(r!=null&&(v.getSymbolWidth()<r.getWidth()||v.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(v.getSymbolWidth()>i.getWidth()||v.getSymbolHeight()>i.getHeight()))&&e<=v.dataCapacity)return v}}catch(m){l={error:m}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),q6=(function(t){H6(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(Tt),G6=[new Tt(!1,3,5,8,8,1),new Tt(!1,5,7,10,10,1),new Tt(!0,5,7,16,6,1),new Tt(!1,8,10,12,12,1),new Tt(!0,10,11,14,6,2),new Tt(!1,12,12,14,14,1),new Tt(!0,16,14,24,10,1),new Tt(!1,18,14,16,16,1),new Tt(!1,22,18,18,18,1),new Tt(!0,22,18,16,10,2),new Tt(!1,30,20,20,20,1),new Tt(!0,32,24,16,14,2),new Tt(!1,36,24,22,22,1),new Tt(!1,44,28,24,24,1),new Tt(!0,49,28,22,14,2),new Tt(!1,62,36,14,14,4),new Tt(!1,86,42,16,16,4),new Tt(!1,114,48,18,18,4),new Tt(!1,144,56,20,20,4),new Tt(!1,174,68,22,22,4),new Tt(!1,204,84,24,24,4,102,42),new Tt(!1,280,112,14,14,16,140,56),new Tt(!1,368,144,16,16,16,92,36),new Tt(!1,456,192,18,18,16,114,48),new Tt(!1,576,224,20,20,16,144,56),new Tt(!1,696,272,22,22,16,174,68),new Tt(!1,816,336,24,24,16,136,56),new Tt(!1,1050,408,18,18,36,175,68),new Tt(!1,1304,496,20,20,36,163,62),new q6],X6=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(u){return u.charCodeAt(0)}),r=new st,i=0,o=n.length;i<o;i++){var l=String.fromCharCode(n[i]&255);if(l==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(l)}this.msg=r.toString(),this.shape=0,this.codewords=new st,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Tt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),K6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$6=(function(t){K6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return _n},e.prototype.encode=function(n){for(var r=new st;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var o=r.length();if(o%3===0){this.writeNextTriplet(n,r);var l=la.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){n.signalEncoderChange(Bt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):la.illegalCharacter(yt.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),o=r.length();n.pos-=o,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(P6),n.getNewEncoding()<0&&n.signalEncoderChange(Bt)},e})(j1),Y6=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),W6=(function(t){Y6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return dr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e})(j1),la=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=xy+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,o){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!1);var l=new j1,u=[new F6,l,new W6,new $6,new z6,new U6],d=new X6(e);d.setSymbolShape(n),d.setSizeConstraints(r,i),e.startsWith(by)&&e.endsWith(Ey)?(d.writeCodeword(M6),d.setSkipAtEnd(2),d.pos+=by.length):e.startsWith(wy)&&e.endsWith(Ey)&&(d.writeCodeword(j6),d.setSkipAtEnd(2),d.pos+=wy.length);var h=Bt;for(o&&(l.encodeMaximal(d),h=d.getNewEncoding(),d.resetEncoderSignal());d.hasMoreCharacters();)u[h].encode(d),d.getNewEncoding()>=0&&(h=d.getNewEncoding(),d.resetEncoderSignal());var v=d.getCodewordCount();d.updateSymbolInfo();var m=d.getSymbolInfo().getDataCapacity();v<m&&h!==Bt&&h!==nr&&h!==jn&&d.writeCodeword("");var w=d.getCodewords();for(w.length()<m&&w.append(xy);w.length()<m;)w.append(this.randomize253State(w.length()+1));return d.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===_n&&i===_n){for(var o=Math.min(n+3,e.length),l=n;l<o;l++)if(!this.isNativeX12(e.charCodeAt(l)))return Bt}else if(r===jn&&i===jn){for(var o=Math.min(n+4,e.length),l=n;l<o;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return Bt}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===Bt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var o=0,l=new Uint8Array(6),u=[];;){if(n+o===e.length){Cn.fill(l,0),Cn.fill(u,0);var d=this.findMinimums(i,u,lt.MAX_VALUE,l),h=this.getMinimumCount(l);if(u[Bt]===d)return Bt;if(h===1){if(l[nr]>0)return nr;if(l[jn]>0)return jn;if(l[dr]>0)return dr;if(l[_n]>0)return _n}return Xn}var v=e.charCodeAt(n+o);if(o++,this.isDigit(v)?i[Bt]+=.5:this.isExtendedASCII(v)?(i[Bt]=Math.ceil(i[Bt]),i[Bt]+=2):(i[Bt]=Math.ceil(i[Bt]),i[Bt]++),this.isNativeC40(v)?i[Xn]+=2/3:this.isExtendedASCII(v)?i[Xn]+=8/3:i[Xn]+=4/3,this.isNativeText(v)?i[dr]+=2/3:this.isExtendedASCII(v)?i[dr]+=8/3:i[dr]+=4/3,this.isNativeX12(v)?i[_n]+=2/3:this.isExtendedASCII(v)?i[_n]+=13/3:i[_n]+=10/3,this.isNativeEDIFACT(v)?i[jn]+=3/4:this.isExtendedASCII(v)?i[jn]+=17/4:i[jn]+=13/4,this.isSpecialB256(v)?i[nr]+=4:i[nr]++,o>=4){if(Cn.fill(l,0),Cn.fill(u,0),this.findMinimums(i,u,lt.MAX_VALUE,l),u[Bt]<this.min(u[nr],u[Xn],u[dr],u[_n],u[jn]))return Bt;if(u[nr]<u[Bt]||u[nr]+1<this.min(u[Xn],u[dr],u[_n],u[jn]))return nr;if(u[jn]+1<this.min(u[nr],u[Xn],u[dr],u[_n],u[Bt]))return jn;if(u[dr]+1<this.min(u[nr],u[Xn],u[jn],u[_n],u[Bt]))return dr;if(u[_n]+1<this.min(u[nr],u[Xn],u[jn],u[dr],u[Bt]))return _n;if(u[Xn]+1<this.min(u[Bt],u[nr],u[jn],u[dr])){if(u[Xn]<u[_n])return Xn;if(u[Xn]===u[_n]){for(var m=n+o+1;m<e.length;){var w=e.charCodeAt(m);if(this.isX12TermSep(w))return _n;if(!this.isNativeX12(w))break;m++}return Xn}}}}},t.min=function(e,n,r,i,o){var l=Math.min(e,Math.min(n,Math.min(r,i)));return o===void 0?l:Math.min(l,o)},t.findMinimums=function(e,n,r,i){for(var o=0;o<6;o++){var l=n[o]=Math.ceil(e[o]);r>l&&(r=l,Cn.fill(i,0)),r===l&&(i[o]=i[o]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=lt.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),bh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_y=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Yr.encode(e,this.charset)!=null}catch{return!1}},t})(),Z6=(function(){function t(e,n,r){var i,o,l,u,d,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Te){return new _y(N6.forName(Te))}),this.encoders=[];var v=[];v.push(new _y(O6.ISO_8859_1));for(var m=n!=null&&n.name.startsWith("UTF"),w=0;w<e.length;w++){var E=!1;try{for(var _=(i=void 0,bh(v)),S=_.next();!S.done;S=_.next()){var T=S.value,R=e.charAt(w),M=R.charCodeAt(0);if(M===r||T.canEncode(R)){E=!0;break}}}catch(Te){i={error:Te}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}if(!E)try{for(var P=(l=void 0,bh(this.ENCODERS)),B=P.next();!B.done;B=P.next()){var T=B.value;if(T.canEncode(e.charAt(w))){v.push(T),E=!0;break}}}catch(Te){l={error:Te}}finally{try{B&&!B.done&&(u=P.return)&&u.call(P)}finally{if(l)throw l.error}}E||(m=!0)}if(v.length===1&&!m)this.encoders=[v[0]];else{this.encoders=[];var Y=0;try{for(var se=bh(v),ee=se.next();!ee.done;ee=se.next()){var T=ee.value;this.encoders[Y++]=T}}catch(Te){d={error:Te}}finally{try{ee&&!ee.done&&(h=se.return)&&h.call(se)}finally{if(d)throw d.error}}}var be=-1;if(n!=null){for(var w=0;w<this.encoders.length;w++)if(this.encoders[w]!=null&&n.name===this.encoders[w].name){be=w;break}}this.priorityEncoderIndex=be}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Yr.encode(yt.getCharAt(e),this.encoders[n].name)},t})(),Q6=3,J6=(function(){function t(e,n,r){this.fnc1=r;var i=new Z6(e,n,r);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var l=e.charAt(o).charCodeAt(0);this.bytes[o]=l===r?1e3:l}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new st,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,o,l){var u=e.charAt(i).charCodeAt(0),d=0,h=n.length();n.getPriorityEncoderIndex()>=0&&(u===l||n.canEncode(u,n.getPriorityEncoderIndex()))&&(d=n.getPriorityEncoderIndex(),h=d+1);for(var v=d;v<h;v++)(u===l||n.canEncode(u,v))&&this.addEdge(r,i+1,new Ay(u,n,v,o,l))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,o=new Ay[i+1][n.length()];this.addEdges(e,n,o,0,null,r);for(var l=1;l<=i;l++){for(var u=0;u<n.length();u++)o[l][u]!=null&&l<i&&this.addEdges(e,n,o,l,o[l][u],r);for(var u=0;u<n.length();u++)o[l-1][u]=null}for(var d=-1,h=lt.MAX_VALUE,u=0;u<n.length();u++)if(o[i][u]!=null){var v=o[i][u];v.cachedTotalSize<h&&(h=v.cachedTotalSize,d=u)}if(d<0)throw new Error('Failed to encode "'+e+'"');for(var m=[],w=o[i][d];w!=null;){if(w.isFNC1())m.unshift(1e3);else for(var E=n.encode(w.c,w.encoderIndex),l=E.length-1;l>=0;l--)m.unshift(E[l]&255);var _=w.previous===null?0:w.previous.encoderIndex;_!==w.encoderIndex&&m.unshift(256+n.getECIValue(w.encoderIndex)),w=w.previous}for(var S=[],l=0;l<S.length;l++)S[l]=m[l];return S},t})(),Ay=(function(){function t(e,n,r,i,o){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var l=this.isFNC1()?1:n.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(l+=Q6),i!=null&&(l+=i.cachedTotalSize),this.cachedTotalSize=l}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),e5=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var Sy;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Sy||(Sy={}));(function(t){e5(e,t);function e(n,r,i,o,l){var u=t.call(this,n,r,i)||this;return u.shape=o,u.macroId=l,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(J6);var t5=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),Cy=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),n5=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),r5=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),B1=(function(t){r5(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.value=r,o.bitCount=i,o}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+lt.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(n5),a5=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),i5=(function(t){a5(e,t);function e(n,r,i){var o=t.call(this,n,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(B1);function o5(t,e,n){return new i5(t,e,n)}function Dc(t,e,n){return new B1(t,e,n)}var s5=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ho=0,Mf=1,$r=2,w2=3,Da=4,l5=new B1(null,0,0),wh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],c5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function u5(t){var e,n;try{for(var r=c5(t),i=r.next();!i.done;i=r.next()){var o=i.value;Cn.fill(o,-1)}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[ho][Da]=0,t[Mf][Da]=0,t[Mf][ho]=28,t[w2][Da]=0,t[$r][Da]=0,t[$r][ho]=15,t}var E2=u5(Cn.createInt32Array(6,6)),f5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d5=(function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=wh[this.mode][e];i=Dc(i,o&65535,o>>16),r+=o>>16}var l=e===$r?4:5;return i=Dc(i,n,l),new t(i,e,0,r+l)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===$r?4:5;return r=Dc(r,E2[this.mode][e],i),r=Dc(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===Da||this.mode===$r){var o=wh[r][ho];n=Dc(n,o&65535,o>>16),i+=o>>16,r=ho}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new t(n,r,this.binaryShiftByteCount+1,i+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=o5(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(wh[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var l=new Ln;try{for(var u=f5(i),d=u.next();!d.done;d=u.next()){var h=d.value;h.appendTo(l,e)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return l},t.prototype.toString=function(){return yt.format("%s bits=%d bytes=%d",s5[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(l5,ho,0,0),t})();function h5(t){var e=yt.getCharCode(" "),n=yt.getCharCode("."),r=yt.getCharCode(",");t[ho][e]=1;for(var i=yt.getCharCode("Z"),o=yt.getCharCode("A"),l=o;l<=i;l++)t[ho][l]=l-o+2;t[Mf][e]=1;for(var u=yt.getCharCode("z"),d=yt.getCharCode("a"),l=d;l<=u;l++)t[Mf][l]=l-d+2;t[$r][e]=1;for(var h=yt.getCharCode("9"),v=yt.getCharCode("0"),l=v;l<=h;l++)t[$r][l]=l-v+2;t[$r][r]=12,t[$r][n]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],w=0;w<m.length;w++)t[w2][yt.getCharCode(m[w])]=w;for(var E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],w=0;w<E.length;w++)yt.getCharCode(E[w])>0&&(t[Da][yt.getCharCode(E[w])]=w);return t}var Eh=h5(Cn.createInt32Array(5,256)),vf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p5=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=yt.getCharCode(" "),n=yt.getCharCode(`
`),r=Cy.singletonList(d5.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,l=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case yt.getCharCode("\r"):o=l===n?2:0;break;case yt.getCharCode("."):o=l===e?3:0;break;case yt.getCharCode(","):o=l===e?4:0;break;case yt.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(r=t.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}var u=Cy.min(r,function(d,h){return d.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,o=[];try{for(var l=vf(e),u=l.next();!u.done;u=l.next()){var d=u.value;this.updateStateForChar(d,n,o)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,o=Eh[e.getMode()][i]>0,l=null,u=0;u<=Da;u++){var d=Eh[u][i];if(d>0){if(l==null&&(l=e.endBinaryShift(n)),!o||u===e.getMode()||u===$r){var h=l.latchAndAppend(u,d);r.push(h)}if(!o&&E2[e.getMode()][u]>=0){var v=l.shiftAndAppend(u,d);r.push(v)}}}if(e.getBinaryShiftByteCount()>0||Eh[e.getMode()][i]===0){var m=e.addBinaryShiftChar(n);r.push(m)}},t.updateStateListForPair=function(e,n,r){var i,o,l=[];try{for(var u=vf(e),d=u.next();!d.done;d=u.next()){var h=d.value;this.updateStateForPair(h,n,r,l)}}catch(v){i={error:v}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(l)},t.updateStateForPair=function(e,n,r,i){var o=e.endBinaryShift(n);if(i.push(o.latchAndAppend(Da,r)),e.getMode()!==Da&&i.push(o.shiftAndAppend(Da,r)),r===3||r===4){var l=o.latchAndAppend($r,16-r).latchAndAppend($r,1);i.push(l)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(u)}},t.simplifyStates=function(e){var n,r,i,o,l=[];try{for(var u=vf(e),d=u.next();!d.done;d=u.next()){var h=d.value,v=!0,m=function(T){if(T.isBetterThanOrEqualTo(h))return v=!1,"break";h.isBetterThanOrEqualTo(T)&&(l=l.filter(function(R){return R!==T}))};try{for(var w=(i=void 0,vf(l)),E=w.next();!E.done;E=w.next()){var _=E.value,S=m(_);if(S==="break")break}}catch(T){i={error:T}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}v&&l.push(h)}}catch(T){n={error:T}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return l},t})(),g5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new p5(e).encode(),o=lt.truncDivision(i.getSize()*n,100)+11,l=i.getSize()+o,u,d,h,v,m;if(r!==t.DEFAULT_AZTEC_LAYERS){if(u=r<0,d=Math.abs(r),d>(u?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ye(yt.format("Illegal value %s for layers",r));h=t.totalBitsInLayer(d,u),v=t.WORD_SIZE[d];var w=h-h%v;if(m=t.stuffBits(i,v),m.getSize()+o>w)throw new Ye("Data to large for user specified layer");if(u&&m.getSize()>v*64)throw new Ye("Data to large for user specified layer")}else{v=0,m=null;for(var E=0;;E++){if(E>t.MAX_NB_BITS)throw new Ye("Data too large for an Aztec code");if(u=E<=3,d=u?E+1:E,h=t.totalBitsInLayer(d,u),!(l>h)){(m==null||v!==t.WORD_SIZE[d])&&(v=t.WORD_SIZE[d],m=t.stuffBits(i,v));var w=h-h%v;if(!(u&&m.getSize()>v*64)&&m.getSize()+o<=w)break}}}var _=t.generateCheckWords(m,h,v),S=m.getSize()/v,T=t.generateModeMessage(u,d,S),R=(u?11:14)+d*4,M=new Int32Array(R),P;if(u){P=R;for(var E=0;E<M.length;E++)M[E]=E}else{P=R+1+2*lt.truncDivision(lt.truncDivision(R,2)-1,15);for(var B=lt.truncDivision(R,2),Y=lt.truncDivision(P,2),E=0;E<B;E++){var se=E+lt.truncDivision(E,15);M[B-E-1]=Y-se-1,M[B+E]=Y+se+1}}for(var ee=new Ra(P),E=0,be=0;E<d;E++){for(var Te=(d-E)*4+(u?9:12),Oe=0;Oe<Te;Oe++)for(var Ke=Oe*2,Pe=0;Pe<2;Pe++)_.get(be+Ke+Pe)&&ee.set(M[E*2+Pe],M[E*2+Oe]),_.get(be+Te*2+Ke+Pe)&&ee.set(M[E*2+Oe],M[R-1-E*2-Pe]),_.get(be+Te*4+Ke+Pe)&&ee.set(M[R-1-E*2-Pe],M[R-1-E*2-Oe]),_.get(be+Te*6+Ke+Pe)&&ee.set(M[R-1-E*2-Oe],M[E*2+Pe]);be+=Te*8}if(t.drawModeMessage(ee,u,P,T),u)t.drawBullsEye(ee,lt.truncDivision(P,2),5);else{t.drawBullsEye(ee,lt.truncDivision(P,2),7);for(var E=0,Oe=0;E<lt.truncDivision(R,2)-1;E+=15,Oe+=16)for(var Pe=lt.truncDivision(P,2)&1;Pe<P;Pe+=2)ee.set(lt.truncDivision(P,2)-Oe,Pe),ee.set(lt.truncDivision(P,2)+Oe,Pe),ee.set(Pe,lt.truncDivision(P,2)-Oe),ee.set(Pe,lt.truncDivision(P,2)+Oe)}var Ve=new t5;return Ve.setCompact(u),Ve.setSize(P),Ve.setLayers(d),Ve.setCodeWords(S),Ve.setMatrix(ee),Ve},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var o=n-i;o<=n+i;o++)e.set(o,n-i),e.set(o,n+i),e.set(n-i,o),e.set(n+i,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new Ln;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var o=lt.truncDivision(r,2);if(n)for(var l=0;l<7;l++){var u=o-3+l;i.get(l)&&e.set(u,o-5),i.get(l+7)&&e.set(o+5,u),i.get(20-l)&&e.set(u,o+5),i.get(27-l)&&e.set(o-5,u)}else for(var l=0;l<10;l++){var u=o-5+l+lt.truncDivision(l,5);i.get(l)&&e.set(u,o-7),i.get(l+10)&&e.set(o+7,u),i.get(29-l)&&e.set(u,o+7),i.get(39-l)&&e.set(o-7,u)}},t.generateCheckWords=function(e,n,r){var i,o,l=e.getSize()/r,u=new x2(t.getGF(r)),d=lt.truncDivision(n,r),h=t.bitsToWords(e,r,d);u.encode(h,d-l);var v=n%r,m=new Ln;m.appendBits(0,v);try{for(var w=g5(Array.from(h)),E=w.next();!E.done;E=w.next()){var _=E.value;m.appendBits(_,r)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}return m},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),o,l;for(o=0,l=e.getSize()/n;o<l;o++){for(var u=0,d=0;d<n;d++)u|=e.get(o*n+d)?1<<n-d-1:0;i[o]=u}return i},t.getGF=function(e){switch(e){case 4:return Er.AZTEC_PARAM;case 6:return Er.AZTEC_DATA_6;case 8:return Er.AZTEC_DATA_8;case 10:return Er.AZTEC_DATA_10;case 12:return Er.AZTEC_DATA_12;default:throw new Ye("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new Ln,i=e.getSize(),o=(1<<n)-2,l=0;l<i;l+=n){for(var u=0,d=0;d<n;d++)(l+d>=i||e.get(l+d))&&(u|=1<<n-1-d);(u&o)===o?(r.appendBits(u&o,n),l--):(u&o)===0?(r.appendBits(u|1,n),l--):r.appendBits(u,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var v5={audio:!1,video:{facingMode:"environment"}},m5=300,y5=function(t){var e=t===void 0?{}:t,n=e.timeBetweenDecodingAttempts,r=n===void 0?m5:n,i=e.hints;return j.useMemo(function(){var o=new m6(i);return o.timeBetweenDecodingAttempts=r,o},[i,r])},Ny=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(v){try{h(r.next(v))}catch(m){l(m)}}function d(v){try{h(r.throw(v))}catch(m){l(m)}}function h(v){v.done?o(v.value):i(v.value).then(u,d)}h((r=r.apply(t,e||[])).next())})},Oy=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(v){return d([h,v])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(v){h=[6,v],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},x5=function(t){var e=t.resetStream,n=j.useState(!1),r=n[0],i=n[1],o=j.useState(null),l=o[0],u=o[1],d=j.useRef(null),h=j.useRef(e),v=j.useCallback(function(E){d.current=E,u(typeof E.getCapabilities=="function"?E.getCapabilities().torch!==void 0:!1)},[]),m=j.useCallback(function(){return Ny(void 0,void 0,void 0,function(){return Oy(this,function(E){switch(E.label){case 0:return!d.current||!l?[2]:[4,d.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return E.sent(),i(!0),[2]}})})},[l]),w=j.useCallback(function(){return Ny(void 0,void 0,void 0,function(){return Oy(this,function(E){switch(E.label){case 0:return!d.current||!l?[2]:(d.current=null,u(null),i(!1),[4,h.current()]);case 1:return E.sent(),[2]}})})},[l]);return j.useEffect(function(){h.current=e},[e]),{init:v,isOn:r,isAvailable:l,on:m,off:w}},b5=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},Ty=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(v){try{h(r.next(v))}catch(m){l(m)}}function d(v){try{h(r.throw(v))}catch(m){l(m)}}function h(v){v.done?o(v.value):i(v.value).then(u,d)}h((r=r.apply(t,e||[])).next())})},Dy=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(v){return d([h,v])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(v){h=[6,v],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},w5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},E5=function(t){t===void 0&&(t={});var e=t.paused,n=e===void 0?!1:e,r=t.hints,i=t.timeBetweenDecodingAttempts,o=t.onDecodeResult,l=o===void 0?function(){}:o,u=t.onDecodeError,d=u===void 0?function(){}:u,h=t.onError,v=h===void 0?function(){}:h,m="deviceId"in t?t.deviceId:void 0,w=j.useState("constraints"in t?t.constraints:void 0),E=w[0],_=w[1],S=j.useRef(l),T=j.useRef(d),R=j.useRef(v),M=j.useRef(null),P=y5({hints:r,timeBetweenDecodingAttempts:i}),B=x5({resetStream:function(){return Ty(void 0,void 0,void 0,function(){return Dy(this,function(Oe){switch(Oe.label){case 0:return Te(),[4,be()];case 1:return Oe.sent(),[2]}})})}}),Y=B.init,se=w5(B,["init"]),ee=j.useCallback(function(Oe,Ke){Oe&&S.current(Oe),Ke&&T.current(Ke)},[]),be=j.useCallback(function(){return Ty(void 0,void 0,void 0,function(){var Oe,Ke,Pe;return Dy(this,function(Ve){switch(Ve.label){case 0:if(!M.current)return[2];if(n)return[2];Ve.label=1;case 1:return Ve.trys.push([1,6,,7]),m?[4,P.decodeFromVideoDevice(m,M.current,ee)]:[3,3];case 2:return Ve.sent(),[3,5];case 3:return[4,P.decodeFromConstraints(E??v5,M.current,ee)];case 4:Ve.sent(),Ve.label=5;case 5:return[3,7];case 6:return Oe=Ve.sent(),R.current(Oe),[2];case 7:return M.current?(Ke=M.current.srcObject,Pe=Ke.getVideoTracks()[0],Pe&&Y(Pe),[2]):[2]}})})},[P,m,E,n,ee,Y]),Te=j.useCallback(function(){P.reset()},[P]);return j.useEffect(function(){S.current=l},[l]),j.useEffect(function(){T.current=d},[d]),j.useEffect(function(){R.current=v},[v]),j.useEffect(function(){var Oe=b5(E,t.constraints);Oe||_(t.constraints)},[E,t]),j.useEffect(function(){return be(),function(){Te()}},[be,Te]),{ref:M,torch:se}};const _5=({onScan:t})=>{const{ref:e}=E5({onDecodeResult(n){const r=n.getText();t(r)},onError(n){console.warn("Camera error:",n)}});return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(r2,{className:"w-5 h-5 text-blue-600"}),p.jsx("span",{className:"font-semibold",children:"Escner QR"})]}),p.jsx("video",{ref:e,className:"w-full rounded-lg shadow-lg"})]})},A5=()=>{const t=Jt(),e=bi();new URLSearchParams(e.search).get("visitId");const[n,r]=j.useState(""),[i,o]=j.useState(""),[l,u]=j.useState(!1),[d,h]=j.useState({latitude:null,longitude:null}),[v,m]=j.useState(""),[w,E]=j.useState(!1),[_,S]=j.useState(null),[T,R]=j.useState(!1),[M,P]=j.useState(""),[B,Y]=j.useState(!Dt()),[se,ee]=j.useState(null),[be,Te]=j.useState(0),Oe=j.useRef(T),Ke=j.useRef(null),[Pe,Ve]=j.useState(!1);j.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ve=>{h({latitude:ve.coords.latitude,longitude:ve.coords.longitude}),m("")},ve=>{console.error("Error obteniendo ubicacin:",ve),m("No se pudo obtener la ubicacin. El check-in se har sin coordenadas.")}):m("Tu navegador no soporta geolocalizacin.");const xe=()=>Y(!1),Ce=()=>Y(!0);return window.addEventListener("online",xe),window.addEventListener("offline",Ce),()=>{window.removeEventListener("online",xe),window.removeEventListener("offline",Ce)}},[]),j.useEffect(()=>{Oe.current===!0&&T===!1&&Te(xe=>xe+1),Oe.current=T},[T]),j.useEffect(()=>{w||(Ke.current=null)},[w]),j.useEffect(()=>{(async()=>{if(!B&&!Pe)try{Ve(!0),console.log(" Sincronizando asignaciones al entrar a escaneo..."),await mx(),console.log(" Asignaciones sincronizadas")}catch(Ce){console.error(" Error sincronizando asignaciones:",Ce)}finally{Ve(!1)}})()},[]);const dt=xe=>{Ke.current!==xe&&(Ke.current=xe,r(xe),le(xe))},At=xe=>{xe.preventDefault(),M.trim()&&le(M.trim())},le=async xe=>{if(!l){u(!0),o(""),ee(null);try{if(B){console.log(" Modo offline - buscando tienda en cach local");const Ne=await xm(xe);if(!Ne){o("No se encontr la tienda en la cach local. Asegrate de haber sincronizado los datos previamente."),u(!1);return}const F=await ot.pendingVisits.add({storeId:Ne.id,qrCode:xe,latitude:d.latitude||0,longitude:d.longitude||0,timestamp:new Date().toISOString(),synced:0,syncAttempts:0,errorMessage:null});console.log(" Check-in guardado offline:",F),ee(Ne),S({id:`offline-${F}`,store:Ne,offline:!0,localId:F}),E(!0),u(!1);return}const Ce={qrCode:xe,latitude:d.latitude||0,longitude:d.longitude||0};console.log(" Haciendo check-in con:",Ce);const ve=await yi.checkInByQr(Ce);console.log(" Check-in exitoso:",ve.data),S(ve.data.result),E(!0)}catch(Ce){console.error(" Error en check-in:",Ce);let ve="Error al hacer check-in: ";Ce.response?.data?.message?ve+=Ce.response.data.message:Ce.response?.data?.text?ve+=Ce.response.data.text:ve+="QR invlido o no corresponde a una tienda asignada.";try{const Ne=await xm(xe);if(Ne){const F=await ot.pendingVisits.add({storeId:Ne.id,qrCode:xe,latitude:d.latitude||0,longitude:d.longitude||0,timestamp:new Date().toISOString(),synced:0,syncAttempts:0,errorMessage:null});o(ve+" - Guardado offline para sincronizar despus"),ee(Ne),S({id:`offline-${F}`,store:Ne,offline:!0,localId:F}),E(!0)}else o(ve+" - No se pudo guardar offline (tienda no encontrada en cach)")}catch(Ne){console.error("Error guardando offline:",Ne),o(ve)}}finally{u(!1)}}};return w&&_?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h2",{className:"text-xl font-bold",children:"Check-in Exitoso"})]}),p.jsxs("div",{className:`${_.offline?"bg-yellow-100 border-yellow-400":"bg-green-100 border-green-400"} border rounded-lg p-6 mb-6`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("div",{className:`w-12 h-12 ${_.offline?"bg-yellow-500":"bg-green-500"} rounded-full flex items-center justify-center`,children:_.offline?p.jsx(Zr,{className:"w-6 h-6 text-white"}):p.jsx("span",{className:"text-white text-2xl",children:""})}),p.jsxs("div",{children:[p.jsxs("h3",{className:`text-lg font-bold ${_.offline?"text-yellow-900":"text-green-900"}`,children:["Check-in ",_.offline?"guardado offline":"realizado"]}),p.jsx("p",{className:`text-sm ${_.offline?"text-yellow-700":"text-green-700"}`,children:_.store?.name})]})]}),_.offline&&p.jsx("div",{className:"mb-2 p-2 bg-yellow-50 rounded border border-yellow-300",children:p.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:" Modo offline: Se sincronizar cuando haya conexin"})}),p.jsxs("p",{className:`text-sm ${_.offline?"text-yellow-800":"text-green-800"}`,children:["Registro de ubicacin: ",d.latitude?.toFixed(6),", ",d.longitude?.toFixed(6)]})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow mb-4",children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Deseas levantar un pedido?"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Puedes registrar los productos que necesita la tienda o continuar sin hacer pedido."}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{className:"w-full bg-blue-600 text-white py-4 rounded-lg flex items-center justify-center gap-3 hover:bg-blue-700 transition-colors shadow-md",onClick:()=>t(`/dealer/visits/${_.id}/order`),children:[p.jsx(C1,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold text-lg",children:"Levantar pedido"})]}),p.jsxs("button",{className:"w-full bg-gray-600 text-white py-4 rounded-lg flex items-center justify-center gap-3 hover:bg-gray-700 transition-colors shadow-md",onClick:()=>t(`/dealer/visits/${_.id}`),children:[p.jsx(a2,{className:"w-6 h-6"}),p.jsx("span",{className:"font-semibold text-lg",children:"No levantar pedido"})]})]})]}),p.jsx("button",{className:"w-full mt-2 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>t("/dealer/visits"),children:"Volver a mis visitas"})]})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[B&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Los datos se sincronizarn automticamente"})]}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsx("h2",{className:"text-xl font-bold",children:"Escanear QR de Tienda"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(vo,{className:"w-5 h-5 text-blue-600"}),p.jsx("span",{className:"font-semibold",children:"Ubicacin"})]}),d.latitude&&d.longitude?p.jsxs("p",{className:"text-sm text-green-600",children:[" Ubicacin obtenida: ",d.latitude.toFixed(6),", ",d.longitude.toFixed(6)]}):p.jsx("p",{className:"text-sm text-yellow-600",children:v||"Obteniendo ubicacin..."})]}),Pe&&!B&&p.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded-lg mb-4 flex items-center gap-2",children:[p.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("span",{className:"text-sm font-semibold",children:"Sincronizando tiendas asignadas..."})]}),p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsxs("button",{onClick:()=>R(!1),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors ${T?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:[p.jsx(r2,{className:"w-5 h-5"}),"Escanear"]}),p.jsxs("button",{onClick:()=>R(!0),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors ${T?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[p.jsx(Um,{className:"w-5 h-5"}),"Ingresar cdigo"]})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[T?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Um,{className:"w-5 h-5 text-blue-600"}),p.jsx("span",{className:"font-semibold",children:"Ingreso Manual"})]}),p.jsxs("form",{onSubmit:At,className:"space-y-3",children:[p.jsx("input",{type:"text",value:M,onChange:xe=>P(xe.target.value),placeholder:"Ingresa el cdigo QR de la tienda",className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-lg",disabled:l}),p.jsx("button",{type:"submit",disabled:l||!M.trim(),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-semibold",children:l?"Procesando...":"Hacer Check-in"})]})]}):p.jsx(_5,{onScan:dt},be),l&&p.jsx("p",{className:"text-blue-600 mt-4 text-center font-semibold",children:"Procesando check-in..."}),n&&!l&&!i&&p.jsxs("p",{className:"text-green-600 mt-4 text-center",children:[" QR detectado: ",n]}),i&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mt-4",children:i})]}),p.jsx("button",{className:"w-full mt-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:bg-gray-400",onClick:()=>t(-1),disabled:l,children:"Cancelar"})]})})},S5=()=>{const{visitId:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState([]),[l,u]=j.useState([]),[d,h]=j.useState(""),[v,m]=j.useState(!0),[w,E]=j.useState(""),[_,S]=j.useState(!1),[T,R]=j.useState(""),[M,P]=j.useState(!1),[B,Y]=j.useState(!Dt()),[se,ee]=j.useState(null),be=`order_draft_${t}`;j.useEffect(()=>{Te();const ve=()=>Y(!1),Ne=()=>Y(!0);return window.addEventListener("online",ve),window.addEventListener("offline",Ne),()=>{window.removeEventListener("online",ve),window.removeEventListener("offline",Ne)}},[t]);const Te=async()=>{try{if(E(""),t.startsWith("offline-")){console.log(" Modo offline - cargando datos desde cach local");const F=parseInt(t.replace("offline-","")),he=await ot.pendingVisits.get(F);if(!he){E("No se encontr la visita offline"),m(!1);return}const Re=(await c_()).find(Je=>Je.id===he.storeId);if(!Re){E("No se encontr la tienda en cach local"),m(!1);return}ee(Re),r({id:t,store:Re,offline:!0,localId:F});const He=await ym();o(He),Y(!0)}else if(Dt()){const F=await yi.getById(t);r(F.data.result);const he=await di.getActives();o(he.data.result||[])}else{E("Sin conexin. No se pueden cargar los datos de la visita."),m(!1);return}const Ne=localStorage.getItem(be);if(Ne)try{const F=JSON.parse(Ne);u(F.items||[]),h(F.notes||"")}catch(F){console.error("Error cargando borrador:",F)}}catch(ve){if(console.error("Error cargando datos:",ve),Dt())E("Error al cargar datos: "+(ve.response?.data?.message||ve.message));else try{const Ne=await ym();o(Ne),E("Sin conexin. Usando catlogo offline."),Y(!0)}catch{E("Error al cargar datos: "+(ve.response?.data?.message||ve.message))}}finally{m(!1)}},Oe=ve=>{const Ne=l.findIndex(F=>F.productId===ve.id);if(Ne>=0){const F=[...l];F[Ne].quantity+=1,F[Ne].subtotal=F[Ne].unitPrice*F[Ne].quantity,u(F)}else u([...l,{productId:ve.id,productName:ve.name,productSku:ve.sku,productUnit:ve.unit,quantity:1,unitPrice:ve.price,subtotal:ve.price,notes:""}]);P(!1),R("")},Ke=(ve,Ne)=>{const F=[...l];F[ve].quantity=Math.max(1,parseInt(Ne)||1),F[ve].subtotal=F[ve].unitPrice*F[ve].quantity,u(F)},Pe=(ve,Ne)=>{const F=[...l];F[ve].notes=Ne,u(F)},Ve=ve=>{u(l.filter((Ne,F)=>F!==ve))},dt=()=>l.reduce((ve,Ne)=>ve+parseFloat(Ne.subtotal),0).toFixed(2),At=()=>{if(l.length===0){E("Debes agregar al menos un producto al pedido");return}try{const ve={items:l,notes:d,savedAt:new Date().toISOString()};localStorage.setItem(be,JSON.stringify(ve)),alert("Borrador guardado localmente. Podrs editarlo y enviarlo cuando ests listo.")}catch(ve){console.error("Error guardando borrador:",ve),E("Error al guardar borrador")}},le=async()=>{if(l.length===0){E("Debes agregar al menos un producto al pedido");return}const ve=t.startsWith("offline-");if(window.confirm(`Ests seguro de ${ve||!Dt()?"guardar":"enviar"} este pedido?`)){S(!0),E("");try{let Ne=n?.store?.id;if(!Ne&&se&&(Ne=se.id),ve||!Dt()){const Re=await hi.createOrderOffline({visitId:ve?null:parseInt(t),storeId:Ne,items:l.map(He=>({productId:He.productId,name:He.productName,productName:He.productName,sku:He.productSku,quantity:He.quantity,price:He.unitPrice,notes:He.notes})),notes:d});localStorage.removeItem(be),Re.offline?alert("Pedido guardado offline. Se sincronizar cuando haya conexin."):alert("Pedido enviado exitosamente"),e("/dealer/orders");return}const F={visitId:parseInt(t),notes:d,items:l.map(Re=>({productId:Re.productId,quantity:Re.quantity,unitPrice:Re.unitPrice,notes:Re.notes}))},Ae=(await hi.createOrder(F)).data.result.id;await hi.sendOrder(Ae),localStorage.removeItem(be),alert("Pedido enviado exitosamente"),e("/dealer/orders")}catch(Ne){console.error("Error enviando pedido:",Ne),E("Error al enviar pedido: "+(Ne.response?.data?.message||Ne.message))}finally{S(!1)}}},xe=()=>{window.confirm("Ests seguro de eliminar este borrador?")&&(localStorage.removeItem(be),u([]),h(""),alert("Borrador eliminado"))},Ce=i.filter(ve=>ve.name.toLowerCase().includes(T.toLowerCase())||ve.sku.toLowerCase().includes(T.toLowerCase()));return v?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando pedido..."})}):p.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[p.jsxs("div",{className:"max-w-4xl mx-auto",children:[B&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - El pedido se sincronizar automticamente"})]}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:["Nuevo Pedido",B&&p.jsx(Zr,{className:"w-6 h-6 text-orange-500"})]}),p.jsx("p",{className:"text-sm text-gray-600",children:n?.store?.name})]})]}),w&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:w}),localStorage.getItem(be)&&p.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4 flex justify-between items-center",children:[p.jsx("span",{children:" Hay un borrador guardado para esta visita"}),p.jsx("button",{onClick:xe,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Eliminar borrador"})]}),p.jsxs("button",{onClick:()=>P(!0),className:"w-full mb-4 bg-blue-600 text-white py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:[p.jsx(Uh,{className:"w-5 h-5"}),"Agregar Producto"]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(C1,{className:"w-5 h-5 text-gray-700"}),p.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Productos (",l.length,")"]})]}),l.length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:'No hay productos en el pedido. Haz clic en "Agregar Producto" para empezar.'}):p.jsx("div",{className:"space-y-3",children:l.map((ve,Ne)=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:ve.productName}),p.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",ve.productSku]})]}),p.jsx("button",{onClick:()=>Ve(Ne),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",children:p.jsx(zh,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-gray-600",children:"Cantidad"}),p.jsx("input",{type:"number",min:"1",value:ve.quantity,onChange:F=>Ke(Ne,F.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 mt-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-gray-600",children:"Precio Unitario"}),p.jsx("input",{type:"text",value:`$${parseFloat(ve.unitPrice).toFixed(2)}`,disabled:!0,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1 bg-gray-100"})]})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("label",{className:"text-xs text-gray-600",children:"Notas del producto (opcional)"}),p.jsx("input",{type:"text",value:ve.notes,onChange:F=>Pe(Ne,F.target.value),placeholder:"Ej: Preferencia de marca, etc.",className:"w-full border border-gray-300 rounded px-3 py-2 mt-1"})]}),p.jsxs("div",{className:"mt-3 text-right",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal: "}),p.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",parseFloat(ve.subtotal).toFixed(2)]})]})]},Ne))}),l.length>0&&p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),p.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",dt()]})]})})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:p.jsxs("label",{className:"block mb-2",children:[p.jsx("span",{className:"font-semibold text-gray-800",children:"Observaciones del pedido (opcional)"}),p.jsx("textarea",{value:d,onChange:ve=>h(ve.target.value),placeholder:"Notas generales sobre el pedido...",className:"w-full border border-gray-300 rounded px-3 py-2 mt-2",rows:"3"})]})}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:le,disabled:_||l.length===0,className:`w-full ${B?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"} text-white py-4 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed`,children:[B?p.jsx(zm,{className:"w-5 h-5"}):p.jsx(JS,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:_?B?"Guardando...":"Enviando...":B?"Guardar Pedido Offline":"Enviar Pedido"})]}),p.jsxs("button",{onClick:At,disabled:_||l.length===0,className:"w-full bg-yellow-600 text-white py-4 rounded-lg flex items-center justify-center gap-2 hover:bg-yellow-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[p.jsx(zm,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:_?"Guardando...":"Guardar Borrador"})]}),p.jsx("button",{onClick:()=>e(-1),disabled:_,className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors disabled:bg-gray-400",children:"Cancelar"})]})]}),M&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Catlogo de Productos"}),p.jsx("button",{onClick:()=>{P(!1),R("")},className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsxs("div",{className:"relative",children:[p.jsx(ZS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",value:T,onChange:ve=>R(ve.target.value),placeholder:"Buscar por nombre o SKU...",className:"w-full border border-gray-300 rounded-lg pl-10 pr-4 py-2"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Ce.length===0?p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No se encontraron productos"}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ce.map(ve=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Oe(ve),children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:ve.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",ve.sku]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Unidad: ",ve.unit]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["$",parseFloat(ve.price).toFixed(2)]})})]}),ve.imageUrl&&p.jsx("img",{src:ve.imageUrl.startsWith("http")?ve.imageUrl:`http://localhost:8081${ve.imageUrl}`,alt:ve.name,className:"w-full h-32 object-cover rounded mt-2"})]},ve.id))})})]})})]})},C5=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[o,l]=j.useState(""),[u,d]=j.useState(!Dt()),[h,v]=j.useState(!1);j.useEffect(()=>{m();const _=()=>{d(!1),m()},S=()=>d(!0),T=()=>{console.log(" Datos refrescados globalmente - Recargando pedidos..."),m()};return window.addEventListener("online",_),window.addEventListener("offline",S),window.addEventListener("dataRefreshed",T),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",S),window.removeEventListener("dataRefreshed",T)}},[]);const m=async()=>{try{l("");const _=await hi.getMyOrders(),S=_.data.result||[];n(S),v(_.fromCache||!1),S.length>0&&await cl(S,"/api/orders")}catch(_){console.error("Error cargando pedidos:",_),!Dt()&&_.message?.includes("cache")?l("No hay conexin y no se han cargado pedidos previamente. Conctate a internet para cargar tus pedidos."):l("Error al cargar pedidos: "+(_.response?.data?.message||_.message))}finally{i(!1)}},w=_=>{const S={SENT:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",CANCELLED:"bg-red-100 text-red-800",COMPLETED:"bg-blue-100 text-blue-800"},T={SENT:"Enviado",PENDING:"Borrador",CANCELLED:"Cancelado",COMPLETED:"Completado"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${S[_]||"bg-gray-100 text-gray-800"}`,children:T[_]||_})},E=_=>_?new Date(_).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"-";return r?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando pedidos..."})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>t("/dealer/home"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mis Pedidos"}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," pedido",e.length!==1?"s":""," en total"]})]})]}),u&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),h&&!u&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),e.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[p.jsx(fl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No hay pedidos"}),p.jsx("p",{className:"text-gray-500",children:"Tus pedidos enviados aparecern aqu"})]}):p.jsx("div",{className:"space-y-4",children:e.map(_=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(`/dealer/orders/${_.id}`),children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.internalCode}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Tienda: ",_.store?.name]})]}),w(_.status?.code)]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(Ia,{className:"w-4 h-4"}),p.jsxs("span",{children:["Fecha: ",E(_.orderDate)]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(fl,{className:"w-4 h-4"}),p.jsxs("span",{children:[_.items?.length||0," producto(s)"]})]})]}),_.totalAmount&&p.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-blue-600 pt-2 border-t border-gray-200",children:[p.jsx(Xf,{className:"w-5 h-5"}),p.jsxs("span",{children:["$",parseFloat(_.totalAmount).toFixed(2)]})]}),_.notes&&p.jsxs("div",{className:"mt-3 flex items-start gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[p.jsx(S1,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),p.jsx("span",{className:"line-clamp-2",children:_.notes})]})]},_.id))})]})})},N5=()=>{const{orderId:t}=wi(),e=Jt(),[n,r]=j.useState(null),[i,o]=j.useState(!0),[l,u]=j.useState(""),[d,h]=j.useState(!1),[v,m]=j.useState(!Dt());j.useEffect(()=>{w();const S=()=>{m(!1),w()},T=()=>m(!0);return window.addEventListener("online",S),window.addEventListener("offline",T),()=>{window.removeEventListener("online",S),window.removeEventListener("offline",T)}},[t]);const w=async()=>{try{u("");const S=await hi.getOrderById(t);r(S.data.result),h(S.fromCache||!1)}catch(S){console.warn(" No se pudo cargar pedido individual:",S.message);try{console.log(" Buscando pedido en cache de 'my-orders' como fallback...");const M=((await hi.getMyOrders()).data.result||[]).find(P=>P.id===parseInt(t));M?(console.log(" Pedido encontrado en fallback cache"),r(M),h(!0)):Dt()?u("No se pudo cargar el pedido: "+(S.response?.data?.message||S.message)):u("No hay conexin y este pedido no est disponible offline. Conctate para verlo.")}catch{Dt()?u("Error al cargar pedido: "+(S.response?.data?.message||S.message)):u("No hay conexin y no hay datos disponibles offline. Por favor, conctate a internet.")}}finally{o(!1)}},E=S=>{const T={SENT:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",CANCELLED:"bg-red-100 text-red-800",COMPLETED:"bg-blue-100 text-blue-800"},R={SENT:"Enviado",PENDING:"Borrador",CANCELLED:"Cancelado",COMPLETED:"Completado"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${T[S]||"bg-gray-100 text-gray-800"}`,children:R[S]||S})},_=S=>S?new Date(S).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return i?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-600",children:"Cargando pedido..."})}):l||!n?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsxs("button",{onClick:()=>e("/dealer/orders"),className:"mb-4 flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[p.jsx(sn,{className:"w-5 h-5"}),"Volver a pedidos"]}),p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l||"Pedido no encontrado"})]})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>e("/dealer/orders"),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detalle del Pedido"}),p.jsx("p",{className:"text-sm text-gray-600",children:n.internalCode})]}),E(n.status?.code)]}),v&&p.jsxs("div",{className:"bg-orange-500 text-white px-4 py-3 rounded-lg mb-4 flex items-center gap-2",children:[p.jsx(Zr,{className:"w-5 h-5"}),p.jsx("span",{className:"font-semibold",children:"Modo offline - Mostrando datos guardados"})]}),d&&!v&&p.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:p.jsx("p",{className:"text-sm",children:" Mostrando datos del cache local"})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informacin General"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(ds,{className:"w-5 h-5 text-gray-600 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Tienda"}),p.jsx("p",{className:"font-semibold text-gray-900",children:n.store?.name}),p.jsx("p",{className:"text-xs text-gray-500",children:n.store?.address})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ia,{className:"w-5 h-5 text-gray-600 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Fecha del pedido"}),p.jsx("p",{className:"font-semibold text-gray-900",children:_(n.orderDate)})]})]}),n.sentAt&&p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ia,{className:"w-5 h-5 text-green-600 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Fecha de envo"}),p.jsx("p",{className:"font-semibold text-gray-900",children:_(n.sentAt)})]})]})]}),n.notes&&p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(S1,{className:"w-5 h-5 text-gray-600 mt-1"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Observaciones"}),p.jsx("p",{className:"text-gray-900",children:n.notes})]})]})})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(fl,{className:"w-5 h-5 text-gray-700"}),p.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Productos (",n.items?.length||0,")"]})]}),p.jsx("div",{className:"space-y-3",children:n.items?.map((S,T)=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:S.product?.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",S.product?.sku]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Precio unitario"}),p.jsxs("p",{className:"font-semibold text-gray-900",children:["$",parseFloat(S.unitPrice).toFixed(2)]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Cantidad"}),p.jsxs("p",{className:"font-semibold text-gray-900",children:[S.quantity," ",S.product?.unit]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Subtotal"}),p.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["$",parseFloat(S.subtotal).toFixed(2)]})]})]}),S.notes&&p.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Notas:"}),p.jsx("p",{className:"text-sm text-gray-700",children:S.notes})]})]},T))}),n.totalAmount&&p.jsx("div",{className:"mt-4 pt-4 border-t-2 border-gray-300",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total del Pedido:"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Xf,{className:"w-6 h-6 text-blue-600"}),p.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(n.totalAmount).toFixed(2)]})]})]})})]}),p.jsx("button",{onClick:()=>e("/dealer/orders"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Volver a Mis Pedidos"})]})})},O5=()=>{const{user:t}=yl(),[e,n]=j.useState(null),r=async()=>{try{const i=await Xe.post("/api/visits/check-in/qr",{qrCode:"TEST",latitude:0,longitude:0});n({success:!0,data:i.data})}catch(i){n({success:!1,error:i.message,status:i.response?.status,data:i.response?.data})}};return p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-6",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Debug de Autenticacin"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"border-b pb-4",children:[p.jsx("h2",{className:"font-bold text-lg mb-2",children:" Usuario Actual"}),p.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-auto",children:JSON.stringify(t,null,2)})]}),p.jsxs("div",{className:"border-b pb-4",children:[p.jsx("h2",{className:"font-bold text-lg mb-2",children:" Token JWT"}),p.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm break-all",children:localStorage.getItem("token")||" No hay token"})]}),p.jsxs("div",{className:"border-b pb-4",children:[p.jsx("h2",{className:"font-bold text-lg mb-2",children:" Rol del Usuario"}),p.jsx("div",{className:"text-lg",children:t?.rol?.roleEnum?p.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded",children:[" ",t.rol.roleEnum]}):p.jsx("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded",children:" Sin rol"})})]}),p.jsxs("div",{className:"pb-4",children:[p.jsx("h2",{className:"font-bold text-lg mb-2",children:" Test Endpoint"}),p.jsx("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Probar POST /api/visits/check-in/qr"}),e&&p.jsxs("div",{className:`mt-3 p-3 rounded ${e.success?"bg-green-100":"bg-red-100"}`,children:[p.jsx("h3",{className:"font-bold mb-2",children:e.success?" xito":" Error"}),p.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})]})]}),p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded",children:[p.jsx("h3",{className:"font-bold mb-2",children:" Informacin"}),p.jsxs("ul",{className:"text-sm space-y-1",children:[p.jsxs("li",{children:[" Backend URL: ",p.jsx("code",{className:"bg-gray-200 px-1",children:"http://localhost:8081"})]}),p.jsxs("li",{children:[" Endpoint: ",p.jsx("code",{className:"bg-gray-200 px-1",children:"POST /api/visits/check-in/qr"})]}),p.jsx("li",{children:" Requiere: Rol DEALER + Token JWT"})]})]})]})]})})},T5=()=>{const t=Jt(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,l]=j.useState({visits:0,orders:0,total:0}),[u,d]=j.useState(!0),[h,v]=j.useState(!1);j.useEffect(()=>{m()},[]);const m=async()=>{try{const S=await ot.pendingVisits.where("synced").equals(0).toArray(),T=await ot.pendingOrders.where("synced").equals(0).toArray(),R=await Ih();n(S),i(T),l(R)}catch(S){console.error("Error cargando datos:",S)}finally{d(!1)}},w=async()=>{v(!0);try{const S=await Lc();alert(JSON.stringify(S,null,2)),await m()}catch(S){alert("Error: "+S.message)}finally{v(!1)}},E=async S=>{window.confirm("Eliminar esta visita pendiente?")&&(await ot.pendingVisits.delete(S),await m())},_=async S=>{window.confirm("Eliminar este pedido pendiente?")&&(await ot.pendingOrders.delete(S),await m())};return u?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4 flex items-center justify-center",children:p.jsx("p",{children:"Cargando..."})}):p.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:p.jsx(sn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Debug Sincronizacin"}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Datos pendientes: ",o.total," (",o.visits," visitas, ",o.orders," pedidos)"]})]}),p.jsxs("button",{onClick:w,disabled:h||o.total===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:[p.jsx(s2,{className:`w-5 h-5 ${h?"animate-spin":""}`}),"Sincronizar"]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[p.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[p.jsx(go,{className:"w-5 h-5"}),"Visitas Pendientes (",e.length,")"]}),e.length===0?p.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay visitas pendientes"}):p.jsx("div",{className:"space-y-3",children:e.map(S=>p.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-semibold",children:["Visita Local ID: ",S.id]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Store ID: ",S.storeId]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["QR: ",S.qrCode]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Timestamp: ",new Date(S.timestamp).toLocaleString()]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Ubicacin: ",S.latitude,", ",S.longitude]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Intentos: ",S.syncAttempts||0]}),S.errorMessage&&p.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error: ",S.errorMessage]})]}),p.jsx("button",{onClick:()=>E(S.id),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",children:p.jsx(zh,{className:"w-5 h-5"})})]})},S.id))})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[p.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[p.jsx(go,{className:"w-5 h-5"}),"Pedidos Pendientes (",r.length,")"]}),r.length===0?p.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay pedidos pendientes"}):p.jsx("div",{className:"space-y-3",children:r.map(S=>p.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-semibold",children:["Pedido Local ID: ",S.id]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Visit ID: ",S.visitId||" NO TIENE"]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Store ID: ",S.storeId]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Total: $",parseFloat(S.total).toFixed(2)]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Items: ",S.items?.length||0]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Creado: ",new Date(S.createdAt).toLocaleString()]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Intentos: ",S.syncAttempts||0]}),S.errorMessage&&p.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error: ",S.errorMessage]}),S.notes&&p.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Notas: ",S.notes]}),S.items&&S.items.length>0&&p.jsxs("div",{className:"mt-2 bg-gray-50 rounded p-2",children:[p.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Productos:"}),S.items.map((T,R)=>p.jsxs("p",{className:"text-xs text-gray-600",children:["- ",T.productName||T.name," (ID: ",T.productId,") x"," ",T.quantity," = $",(T.price*T.quantity).toFixed(2)]},R))]})]}),p.jsx("button",{onClick:()=>_(S.id),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",children:p.jsx(zh,{className:"w-5 h-5"})})]})},S.id))})]}),p.jsx("button",{onClick:()=>t("/dealer/home"),className:"w-full mt-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Volver al inicio"})]})})},D5=()=>{const[t,e]=j.useState({}),[n,r]=j.useState("Verificando..."),[i,o]=j.useState("");j.useEffect(()=>{l()},[]);const l=async()=>{const w={};if(w.serviceWorkerSupport="serviceWorker"in navigator,w.notificationSupport="Notification"in window,w.protocol=window.location.protocol,w.hostname=window.location.hostname,w.messagingAvailable=!!$n,w.messagingType=typeof $n,"serviceWorker"in navigator)try{const E=await navigator.serviceWorker.getRegistrations();w.serviceWorkersCount=E.length,w.serviceWorkers=E.map((S,T)=>({index:T,scope:S.scope,active:!!S.active,installing:!!S.installing,waiting:!!S.waiting,updateViaCache:S.updateViaCache,scriptURL:S.active?.scriptURL||S.installing?.scriptURL||S.waiting?.scriptURL}));const _=E.find(S=>S.active?.scriptURL?.includes("firebase-messaging-sw"));w.firebaseSwRegistered=!!_,r(E.length>0?`${E.length} Service Worker(s) registrado(s)`:"No hay Service Workers registrados")}catch(E){w.serviceWorkerError=E.message,r("Error al verificar Service Workers")}"Notification"in window&&(w.notificationPermission=Notification.permission),w.vapidKeyConfigured=!0,w.vapidKeyLength=Fh?.length,e(w)},u=async()=>{o("Probando inicializacin...");try{const w=t2();o(w?" Inicializacin exitosa! Messaging object creado.":" Inicializacin fall. Revisa la consola para detalles.")}catch(w){o(` Error: ${w.message}`)}},d=async()=>{if(o("Intentando obtener token FCM..."),!$n){o(" No se puede obtener token: messaging no disponible");return}try{if(await Notification.requestPermission()!=="granted"){o(" Permiso de notificaciones denegado");return}const E=await navigator.serviceWorker.register("/firebase-messaging-sw.js");await navigator.serviceWorker.ready;const _=await e2($n,{vapidKey:Fh,serviceWorkerRegistration:E});o(_?` Token obtenido: ${_.substring(0,20)}...`:" No se pudo obtener token")}catch(w){o(` Error: ${w.message}`),console.error("Error completo:",w)}},h=async()=>{if("serviceWorker"in navigator)try{const w=await navigator.serviceWorker.getRegistrations();for(const E of w)await E.unregister();o(` ${w.length} Service Worker(s) desregistrado(s). RECARGA LA PGINA (F5) para que VitePWA registre el nuevo SW combinado.`),await l()}catch(w){o(` Error desregistrando: ${w.message}`)}},v=()=>{window.location.reload(!0)},m=async()=>{try{o("Registrando firebase-messaging-sw.js...");const w=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});await navigator.serviceWorker.ready,o(` Firebase SW registrado en scope: ${w.scope}`),await l()}catch(w){o(` Error: ${w.message}`)}};return p.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Firebase Debug Console"}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Soporte del Navegador"}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded space-y-1 text-sm font-mono",children:[p.jsxs("p",{children:["Service Workers: ",t.serviceWorkerSupport?"":""]}),p.jsxs("p",{children:["Notificaciones: ",t.notificationSupport?"":""]}),p.jsxs("p",{children:["Protocolo: ",t.protocol]}),p.jsxs("p",{children:["Hostname: ",t.hostname]}),p.jsxs("p",{children:["Permiso Notificaciones: ",t.notificationPermission]})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Estado de Firebase Messaging"}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded space-y-1 text-sm font-mono",children:[p.jsxs("p",{children:["Messaging disponible: ",t.messagingAvailable?"":""]}),p.jsxs("p",{children:["Tipo: ",t.messagingType]}),p.jsxs("p",{children:["VAPID Key configurado: ",t.vapidKeyConfigured?"":""]}),p.jsxs("p",{children:["VAPID Key length: ",t.vapidKeyLength]})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("h2",{className:"text-lg font-semibold mb-2",children:["Service Workers (",n,")"]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded space-y-2 text-sm font-mono",children:[p.jsxs("p",{children:["Total: ",t.serviceWorkersCount||0]}),p.jsxs("p",{children:["Firebase SW: ",t.firebaseSwRegistered?"":""]}),t.serviceWorkers&&t.serviceWorkers.length>0&&p.jsx("div",{className:"mt-2 space-y-2",children:t.serviceWorkers.map((w,E)=>p.jsxs("div",{className:"border-t pt-2",children:[p.jsxs("p",{className:"font-bold",children:["SW #",E+1]}),p.jsxs("p",{children:["Scope: ",w.scope]}),p.jsxs("p",{children:["Script: ",w.scriptURL]}),p.jsxs("p",{children:["Activo: ",w.active?"":""]})]},E))})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Pruebas"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded w-full",children:" Re-inicializar Firebase Messaging"}),p.jsx("button",{onClick:d,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded w-full",children:" Obtener Token FCM"}),p.jsx("button",{onClick:m,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded w-full",children:" Registrar Firebase Service Worker"}),p.jsx("button",{onClick:h,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded w-full",children:" Desregistrar TODOS los Service Workers"}),p.jsx("button",{onClick:v,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded w-full",children:" Recargar Pgina (Hard Reload)"}),p.jsx("button",{onClick:l,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded w-full",children:" Refrescar Diagnsticos"})]}),i&&p.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 p-3 rounded text-sm",children:i})]}),p.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded text-xs font-mono",children:[p.jsx("p",{children:" Revisa la consola del navegador (F12) para logs detallados"}),p.jsx("p",{children:" Los logs de firebase-config.js mostrarn el proceso de inicializacin paso por paso"})]})]})})})},Vt=({children:t,requiredRole:e})=>{const{user:n,loading:r}=yl();if(r)return p.jsx("div",{className:"p-10 text-center",children:"Cargando MeliCheck..."});if(!n)return p.jsx(Ah,{to:"/login"});const i=n?.rol?.roleEnum;return e&&i!==e?p.jsx(Ah,{to:i==="ADMIN"?"/admin/dashboard":"/dealer/home"}):t};function I5(){return p.jsx(f_,{children:p.jsxs(u3,{children:[p.jsx(fS,{}),p.jsx(pC,{}),p.jsxs(zw,{children:[p.jsx(Ot,{path:"/login",element:p.jsx(gC,{})}),p.jsx(Ot,{path:"/firebase-debug",element:p.jsx(D5,{})}),p.jsx(Ot,{path:"/admin/dashboard",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(vC,{})})}),p.jsx(Ot,{path:"/admin/stores",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(mC,{})})}),p.jsx(Ot,{path:"/admin/stores/create",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(Vm,{})})}),p.jsx(Ot,{path:"/admin/stores/edit/:id",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(Vm,{})})}),p.jsx(Ot,{path:"/admin/dealers",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(yC,{})})}),p.jsx(Ot,{path:"/admin/dealers/new",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(qm,{})})}),p.jsx(Ot,{path:"/admin/dealers/:id",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(qm,{})})}),p.jsx(Ot,{path:"/admin/products",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(xC,{})})}),p.jsx(Ot,{path:"/admin/products/new",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(Gm,{})})}),p.jsx(Ot,{path:"/admin/products/:id",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(Gm,{})})}),p.jsx(Ot,{path:"/admin/assignments",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(bC,{})})}),p.jsx(Ot,{path:"/admin/assignments/create",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(wC,{})})}),p.jsx(Ot,{path:"/admin/assignments/:id",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(EC,{})})}),p.jsx(Ot,{path:"/admin/visits",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(_C,{})})}),p.jsx(Ot,{path:"/admin/orders",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(AC,{})})}),p.jsx(Ot,{path:"/admin/orders/:id",element:p.jsx(Vt,{requiredRole:"ADMIN",children:p.jsx(SC,{})})}),p.jsx(Ot,{path:"/dealer/home",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(CC,{})})}),p.jsx(Ot,{path:"/dealer/assignments",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(NC,{})})}),p.jsx(Ot,{path:"/dealer/assignments/:id",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(OC,{})})}),p.jsx(Ot,{path:"/dealer/visits",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(TC,{})})}),p.jsx(Ot,{path:"/dealer/visits/:id",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(DC,{})})}),p.jsx(Ot,{path:"/dealer/scan",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(A5,{})})}),p.jsx(Ot,{path:"/dealer/visits/:visitId/order",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(S5,{})})}),p.jsx(Ot,{path:"/dealer/orders",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(C5,{})})}),p.jsx(Ot,{path:"/dealer/orders/:orderId",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(N5,{})})}),p.jsx(Ot,{path:"/dealer/debug",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(O5,{})})}),p.jsx(Ot,{path:"/dealer/sync-debug",element:p.jsx(Vt,{requiredRole:"DEALER",children:p.jsx(T5,{})})}),p.jsx(Ot,{path:"*",element:p.jsx(Ah,{to:"/login"})})]})]})})}Wb.createRoot(document.getElementById("root")).render(p.jsx(j.StrictMode,{children:p.jsx(I5,{})}));
